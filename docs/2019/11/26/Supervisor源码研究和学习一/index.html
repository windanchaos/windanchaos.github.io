<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>Supervisoræºç ç ”ç©¶å’Œå­¦ä¹  | windanchaos</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Supervisoræºç ç ”ç©¶å’Œå­¦ä¹ </h1><a id="logo" href="/.">windanchaos</a><p class="description">çŸ¥è¡Œåˆä¸€</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/me.html"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Supervisoræºç ç ”ç©¶å’Œå­¦ä¹ </h1><div class="post-meta">2019-11-26<span> | </span><span class="category"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºç§‘å­¦åŸºç¡€</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span></div><a class="disqus-comment-count" href="/2019/11/26/Supervisor%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E5%92%8C%E5%AD%A6%E4%B9%A0%E4%B8%80/#vcomment"><span class="valine-comment-count" data-xid="/2019/11/26/Supervisor%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E5%92%8C%E5%AD%A6%E4%B9%A0%E4%B8%80/"></span><span> æ¡è¯„è®º</span></a><div class="post-content"><h1 id="å‡ºå‘ç‚¹"><a href="#å‡ºå‘ç‚¹" class="headerlink" title="å‡ºå‘ç‚¹"></a>å‡ºå‘ç‚¹</h1><p>æœ€è¿‘ï¼Œåœ¨æ„æ€ä¸€å¥—å†…éƒ¨ç¯å¢ƒæœåŠ¡çš„ç›‘æ§ç³»ç»Ÿï¼Œèµ·ç çš„åŠŸèƒ½æ˜¯èƒ½è¯†åˆ«åˆ°ä¸šåŠ¡è¿›ç¨‹å¼‚å¸¸ï¼ˆè¿›ç¨‹çº§åˆ«çš„ï¼‰ï¼Œé€€å‡ºåè‡ªåŠ¨æ‹‰èµ·ã€‚<br>æ‰¾åˆ°äº†supervisorï¼Œäº†è§£åŸºæœ¬åŠŸèƒ½åï¼Œè§‰å¾—å®ƒåœ¨åˆ†å¸ƒå¼æ–¹é¢è¿˜å­˜åœ¨ä¸è¶³ä¹‹å¤„ï¼Œæ‰€æœ‰é…ç½®åˆ†æ•£åœ¨å•æœºä¸Šã€‚é‰´äºå®ƒçš„æŠ€æœ¯ç¬¦åˆç›®å‰éœ€è¦ç»ƒä¹ pythonæŠ€æœ¯æ ˆã€‚æ‰€ä»¥ï¼Œå‡†å¤‡å¯¹å…¶æºä»£ç è¿›è¡Œè§£æ„ã€åˆ†æå’Œå­¦ä¹ ã€‚</p>
<h1 id="æ¦‚è§ˆ"><a href="#æ¦‚è§ˆ" class="headerlink" title="æ¦‚è§ˆ"></a>æ¦‚è§ˆ</h1><p>æºç ç ”ç©¶å’Œå­¦ä¹ ï¼Œèµ·ç è¦å¯¹è¯¥å·¥å…·å¦‚ä½•ä½¿ç”¨æœ‰ä¸ªåŸºæœ¬çš„æŒæ¡ã€‚</p>
<p>Supervisoræ˜¯ç”¨Pythonå¼€å‘çš„ä¸€å¥—é€šç”¨çš„è¿›ç¨‹ç®¡ç†ç¨‹åºï¼Œèƒ½å°†ä¸€ä¸ªæ™®é€šçš„å‘½ä»¤è¡Œè¿›ç¨‹å˜ä¸ºåå°daemonï¼Œå¹¶ç›‘æ§è¿›ç¨‹çŠ¶æ€ï¼Œå¼‚å¸¸é€€å‡ºæ—¶èƒ½è‡ªåŠ¨é‡å¯ã€‚å®ƒæ˜¯é€šè¿‡fork&#x2F;execçš„æ–¹å¼æŠŠè¿™äº›è¢«ç®¡ç†çš„è¿›ç¨‹å½“ä½œsupervisorçš„å­è¿›ç¨‹æ¥å¯åŠ¨ï¼Œè¿™æ ·åªè¦åœ¨supervisorçš„é…ç½®æ–‡ä»¶ä¸­ï¼ŒæŠŠè¦ç®¡ç†çš„è¿›ç¨‹çš„å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„å†™è¿›å»å³å¯ã€‚ä¹Ÿå®ç°å½“å­è¿›ç¨‹æŒ‚æ‰çš„æ—¶å€™ï¼Œçˆ¶è¿›ç¨‹å¯ä»¥å‡†ç¡®è·å–å­è¿›ç¨‹æŒ‚æ‰çš„ä¿¡æ¯çš„ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦è‡ªå·±å¯åŠ¨å’ŒæŠ¥è­¦ã€‚supervisorè¿˜æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ä¸ºsupervisordæˆ–è€…æ¯ä¸ªå­è¿›ç¨‹ï¼Œè®¾ç½®ä¸€ä¸ªérootçš„userï¼Œè¿™ä¸ªuserå°±å¯ä»¥ç®¡ç†å®ƒå¯¹åº”çš„è¿›ç¨‹ã€‚</p>
<h2 id="medusa"><a href="#medusa" class="headerlink" title="medusa"></a>medusa</h2><p>å®ƒä¾èµ–ç¬¬ä¸‰æ–¹çš„<a target="_blank" rel="noopener" href="http://www.nightmare.com/medusa/">medusa</a>æ¥å¤„ç†ç½‘ç»œè¯·æ±‚ã€‚medusaçš„æºç ä¹Ÿå€¼å¾—å­¦ä¹ å’Œç ”ç©¶ã€‚</p>
<h2 id="supervisord"><a href="#supervisord" class="headerlink" title="supervisord"></a>supervisord</h2><p>ç±»ä¼¼äºdockeræ‰€åœ¨æœåŠ¡å™¨è¿è¡Œçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œè´Ÿè´£å“åº”å®¢æˆ·ç«¯çš„å‘½ä»¤è¡Œã€å—ç›‘æ§è¿›ç¨‹çš„ç›‘æ§ã€é‡å¯ã€å—æ§å­è¿›ç¨‹çš„æ ‡å‡†è¾“å…¥è¾“å‡ºçš„æ—¥å¿—ã€ç”Ÿæˆå’Œå¤„ç†ä¸å­æµç¨‹ç”Ÿå‘½å‘¨æœŸä¸­ç›¸å¯¹åº”çš„â€œäº‹ä»¶â€ã€‚é…ç½®æ–‡ä»¶ä¸€èˆ¬ä¸º&#x2F;etc&#x2F;supervisord.confã€‚</p>
<h2 id="supervisorctl"><a href="#supervisorctl" class="headerlink" title="supervisorctl"></a>supervisorctl</h2><p>æ§åˆ¶å°ï¼Œå’Œsupervisordäº¤äº’ã€‚é€šè¿‡æ§åˆ¶å°ï¼Œç”¨æˆ·å¯ä»¥è¿æ¥åˆ°ä¸åŒçš„supervisordè¿›ç¨‹ï¼ˆ é€šè¿‡UNIX domain socket or an internet (TCP) socketï¼‰ï¼ŒæŸ¥çœ‹supervisordçš„æ§åˆ¶è¿›ç¨‹çš„çŠ¶æ€ã€‚è¯»å–&#x2F;etc&#x2F;supervisord.confä¸‹çš„[supervisorctl]å†…å®¹ä½œä¸ºé…ç½®ã€‚</p>
<h2 id="Web-Server"><a href="#Web-Server" class="headerlink" title="Web Server"></a>Web Server</h2><p>supervisordçš„æµè§ˆå™¨æ§åˆ¶å°ã€‚ä»…æ”¯æŒå•æœºæ¨¡å¼ï¼Œå°±æ˜¯è¯´ï¼ŒNå°æœåŠ¡å™¨å®‰è£…äº†supervisorçš„è¯ï¼Œå°±æœ‰Nä¸ªwebServerï¼Œå®ƒä»¬å½¼æ­¤ä¹‹é—´å¹¶æ²¡æœ‰å…³è”ï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰ä¸€ä¸ªé›†ä¸­åŒ–çš„ç•Œé¢ç»Ÿä¸€ç®¡ç†ã€‚</p>
<p>æœ‰ä¸ªphpçš„è§£å†³æ–¹æ¡ˆï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/geerniya/article/details/80107761">https://blog.csdn.net/geerniya/article/details/80107761</a></p>
<h2 id="XML-RPC-Interface"><a href="#XML-RPC-Interface" class="headerlink" title="XML-RPC Interface"></a>XML-RPC Interface</h2><p>The same HTTP server which serves the web UI serves up an XML-RPC interface that can be used to interrogate and control supervisor and the programs it runs.</p>
<h2 id="ä¸è¶³"><a href="#ä¸è¶³" class="headerlink" title="ä¸è¶³"></a>ä¸è¶³</h2><p>ä¼˜ç‚¹ï¼š<br>    - å¯ä»¥å°†éåå°è¿è¡Œç¨‹åºåå°è¿è¡Œ<br>    - è‡ªåŠ¨ç›‘æ§ï¼Œé‡å¯è¿›ç¨‹</p>
<p>ç¼ºç‚¹ï¼š<br>    - ä¸èƒ½ç®¡ç†åå°è¿è¡Œç¨‹åº<br>    - å¯¹å¤šè¿›ç¨‹æœåŠ¡ï¼Œä¸èƒ½ä½¿ç”¨killå…³é—­</p>
<h1 id="æºç åˆ†æ"><a href="#æºç åˆ†æ" class="headerlink" title="æºç åˆ†æ"></a>æºç åˆ†æ</h1><p>æºç åˆ†ææ­¥éª¤ï¼š</p>
<p>1ã€cloneä»£ç åˆ°æœ¬åœ°ï¼›</p>
<p>2ã€æœ¬åœ°åšsupervisordçš„é…ç½®</p>
<p>3ã€å‚è€ƒåˆ«å†™çš„æºç æ–‡ç« ï¼Œæ‰¾åˆ°ç¨‹åºå…¥å£ï¼Œé˜…è¯»ä»£ç </p>
<p>4ã€debugè‹¥å¹²æ¬¡ï¼Œè¿½ä¸­ä»£ç è¿è¡Œé€»è¾‘</p>
<span id="more"></span>

<h2 id="æ‰§è¡Œé€»è¾‘å’Œæ ¸å¿ƒ"><a href="#æ‰§è¡Œé€»è¾‘å’Œæ ¸å¿ƒ" class="headerlink" title="æ‰§è¡Œé€»è¾‘å’Œæ ¸å¿ƒ"></a>æ‰§è¡Œé€»è¾‘å’Œæ ¸å¿ƒ</h2><p>supervisordä½œä¸ºè¿›ç¨‹å…¥å£ï¼Œå¯åŠ¨åå…ˆå°†è‡ªå·±çš„è¿›ç¨‹daemonåŒ–ã€‚æ¥ç€å¼€å§‹åˆ©ç”¨opitons.pyä¸­çš„ä»£ç ï¼Œå¯¹é…ç½®è¿›è¡Œåˆå§‹åŒ–ï¼Œè¯»å–å…³é”®é…ç½®ï¼Œæˆ‘ç›®å‰åªç ”ç©¶äº†å¯åŠ¨ç›‘æ§è¿›ç¨‹éƒ¨åˆ†ã€‚è¯»å–å®Œé…ç½®åï¼Œå»æ£€æŸ¥è¿è¡Œç¯å¢ƒã€è¿›ç¨‹çŠ¶æ€ç­‰ï¼Œæ²¡æœ‰å¯åŠ¨åˆ™å¯åŠ¨å—æ§è¿›ç¨‹ï¼Œå—æ§è¿›ç¨‹å’Œsupervisorçš„è¿›ç¨‹é€šè¿‡pipesé€šä¿¡ï¼Œå­è¿›ç¨‹çŠ¶æ€ä¸ŠæŠ¥ã€‚å…¶ä¸­çš„æ ¸å¿ƒæ–¹æ³•åªæœ‰ä¸€å¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># options.pyä¸­çš„æ–¹æ³•</span><br><span class="line">    def execve(self, filename, argv, env):</span><br><span class="line">        return os.execve(filename, argv, env)</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–ä»£ç éƒ½æœåŠ¡äºå®ƒï¼Œsupervisorçš„è¿›ç¨‹æ§åˆ¶æ¨¡å—çš„ä»£ç åŸºæœ¬å°±å›´ç»•è¿™å¦‚ä½•æ„å»ºfilename,argv,envè¿™ä¸‰å¤§å‚æ•°å±•å¼€ã€‚å¦‚ä½•å±•å¼€çš„æˆ‘å°±ä¸ç»†è¯´äº†ï¼Œdebugè¿è¡Œè·Ÿï¼ŒåŸºæœ¬éƒ½æš´éœ²ç»™å‡ºæ¥äº†ã€‚è¦æé†’ä»¥ä¸‹çš„æ˜¯ï¼Œæ‰§è¡Œos.execveè¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯supervisorçš„è¿›ç¨‹å…ˆforkäº†å­è¿›ç¨‹åå†è·‘çš„os.execveã€‚</p>
<h2 id="supervisorè‡ªèº«çš„æ•°æ®æ¨¡å‹"><a href="#supervisorè‡ªèº«çš„æ•°æ®æ¨¡å‹" class="headerlink" title="supervisorè‡ªèº«çš„æ•°æ®æ¨¡å‹"></a>supervisorè‡ªèº«çš„æ•°æ®æ¨¡å‹</h2><p>å½“ç„¶è¿™ä¸ªä¸»è¦å†…å®¹éƒ½åœ¨supervisor&#x2F;supervisor&#x2F;supervisord.pyé‡Œäº†ã€‚</p>
<p>æˆ‘è¯•ç€åšä¸ªç®€å•è§£è¯»</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Supervisor:</span><br><span class="line">    # ä¸‹é¢4ä¸ªæ˜¯è¿›ç¨‹è‡ªèº«çš„çŠ¶æ€æ§åˆ¶ä¿¡æ¯</span><br><span class="line">    # å¤„ç†å‘é€äº†åœæ­¢è¯·æ±‚çš„å‚æ•°</span><br><span class="line">    stopping = False # set after we detect that we are handling a stop request</span><br><span class="line">    # æš‚æ—¶ä¸æ¸…æ¥šè¿™ä¸ªå‚æ•°å…·ä½“å¹²ä»€ä¹ˆ</span><br><span class="line">    lastshutdownreport = 0 # throttle for delayed process error reports at stop</span><br><span class="line">    # &#123;è¿›ç¨‹ç»„åç§°:è¿›ç¨‹ç»„&#125;çš„mapä¿¡æ¯</span><br><span class="line">    process_groups = None # map of process group name to process group object</span><br><span class="line">    # æŒ‰ä¼˜å…ˆçº§æ’åºäº†çš„è¢«shutdownäº†çš„è¿›ç¨‹ç»„ä¿¡æ¯çš„list</span><br><span class="line">    stop_groups = None # list used for priority ordered shutdown</span><br><span class="line"></span><br><span class="line">    def __init__(self, options):</span><br><span class="line">        self.options = options #é…ç½®ä¿¡æ¯</span><br><span class="line">        self.process_groups = &#123;&#125; #holdä½çš„è¿›ç¨‹ç»„</span><br><span class="line">        self.ticks = &#123;&#125; #æ¶ˆæ¯æœºåˆ¶</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œsupervisorå¯¹å—æ§è¿›ç¨‹è¿›è¡Œç®¡ç†ï¼Œé‡‡ç”¨çš„è¿›ç¨‹ç»„çš„æ¦‚å¿µï¼Œè€Œä¸æ˜¯å•è¿›ç¨‹ã€‚</p>
<p>supervisord.pyé‡Œæœ‰ä¸ªé€»è¾‘å¾ˆæ¼‚äº®ï¼Œé‚£å°±æ˜¯æŠŠè‡ªå·±daemonåŒ–äº†ã€‚å…·ä½“ä»£ç æ€ä¹ˆæµè½¬çš„è‡ªå·±çœ‹ä»£ç äº†ï¼Œåªå†™æˆ‘è§‰å¾—å¯¹æˆ‘æœ‰ä»·å€¼çš„å†…å®¹ã€‚</p>
<h3 id="å®ç°daemonè¿›ç¨‹çš„å¥—è·¯"><a href="#å®ç°daemonè¿›ç¨‹çš„å¥—è·¯" class="headerlink" title="å®ç°daemonè¿›ç¨‹çš„å¥—è·¯"></a>å®ç°daemonè¿›ç¨‹çš„å¥—è·¯</h3><p>supervisorå¯åŠ¨æ—¶ï¼Œä¹Ÿæ˜¯è¢«è‡ªå·±çš„çˆ¶è¿›ç¨‹forkå‡ºæ¥çš„ã€‚å› æ­¤ï¼Œå®ƒéµå¾ªäº†daemonåŒ–çš„ä¸€èˆ¬åŸåˆ™ï¼Œè¯¦è§ä¸‹é¢æ–¹æ³•çš„è¯´æ˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># supervisorçš„runæ–¹æ³•ä¸­æœ‰ä¸€å¥ï¼Œè¿›ç¨‹çŠ¶æ€è¿˜ä¸æ˜¯daemonå¹¶ä¸”æ˜¯ç¬¬ä¸€åŠ è½½é…ç½®å°±daemonåŒ–</span><br><span class="line">        if (not self.options.nodaemon) and self.options.first:</span><br><span class="line">            self.options.daemonize()</span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨os.setsid,è®©è¿›ç¨‹æ‘†è„±çˆ¶è¿›ç¨‹çš„sessionï¼ˆä¼šè¯ï¼‰è€Œè‡ªç«‹é—¨æˆ·ï¼Œæˆä¸ºæ–°çš„è¿›ç¨‹ç»„çš„leaderã€‚è€Œæœ‰ä¸€ç§æƒ…å†µæ˜¯è‡ªèº«æœ¬æ¥å°±æ˜¯ä¼šè¯çš„leaderçš„åŒ–å°±æ²¡æœ‰åŠæ³•å†è‡ªç«‹é—¨æˆ·äº†ï¼Œæ‰€ä»¥æ ‡å‡†åŠ¨ä½œæ˜¯å…ˆforkè‡ªå·±ï¼Œé€€å‡ºè‡ªå·±ï¼Œå†æŠŠforkå‡ºæ¥çš„è¿›ç¨‹ã€‚optionsä¸­çš„daemonæ–¹æ³•ï¼Œæ»¡æ»¡çš„å¥—è·¯ã€‚ä»£ç ä½œè€…è¿˜ç»™å‡ºäº†ä¸ºä»€ä¹ˆè¦æŠŠæ ‡å‡†0.1.2è®¾ç½®ä¸ºnullçš„åŸå› ã€‚<a target="_blank" rel="noopener" href="http://www.hawklord.uklinux.net/system/daemons/d3.htm">ç‚¹å‡»è·³è½¬è‡ªå·±è¯»</a>ï¼Œå¦‚æœç”¨æˆ‘å¤§ç™½è¯è¯´çš„è¯ï¼Œæ„æ€å¾ˆç®€å•ï¼Œlinuxä¸‹ä¸€åˆ‡ã€‚è€å®è¯´ï¼Œæˆ‘è§‰å¾—damonizeè¿™ä¸ªæ–¹æ³•åº”è¯¥æ”¾åˆ°è¿›ç¨‹çš„ç›¸å…³æ¨¡å—ä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">def daemonize(self):</span><br><span class="line">    # To disassociate ourselves from our parent&#x27;s session group we use</span><br><span class="line">    # os.setsid.  It means &quot;set session id&quot;, which has the effect of</span><br><span class="line">    # disassociating a process from is current session and process group</span><br><span class="line">    # and setting itself up as a new session leader.</span><br><span class="line">    #</span><br><span class="line">    # Unfortunately we cannot call setsid if we&#x27;re already a session group</span><br><span class="line">    # leader, so we use &quot;fork&quot; to make a copy of ourselves that is</span><br><span class="line">    # guaranteed to not be a session group leader.</span><br><span class="line">    #</span><br><span class="line">    # We also change directories, set stderr and stdout to null, and</span><br><span class="line">    # change our umask.</span><br><span class="line">    #</span><br><span class="line">    # This explanation was (gratefully) garnered from</span><br><span class="line">    # http://www.hawklord.uklinux.net/system/daemons/d3.htm</span><br><span class="line"></span><br><span class="line">    pid = os.fork()</span><br><span class="line">    if pid != 0:</span><br><span class="line">        # Parent</span><br><span class="line">        self.logger.blather(&quot;supervisord forked; parent exiting&quot;)</span><br><span class="line">        os._exit(0)</span><br><span class="line">    # Child</span><br><span class="line">    self.logger.info(&quot;daemonizing the supervisord process&quot;)</span><br><span class="line">    if self.directory:</span><br><span class="line">        try:</span><br><span class="line">            os.chdir(self.directory)</span><br><span class="line">        except OSError, err:</span><br><span class="line">            self.logger.critical(&quot;can&#x27;t chdir into %r: %s&quot;</span><br><span class="line">                                 % (self.directory, err))</span><br><span class="line">        else:</span><br><span class="line">            self.logger.info(&quot;set current directory: %r&quot;</span><br><span class="line">                             % self.directory)</span><br><span class="line">    os.close(0)</span><br><span class="line">    self.stdin = sys.stdin = sys.__stdin__ = open(&quot;/dev/null&quot;)</span><br><span class="line">    os.close(1)</span><br><span class="line">    self.stdout = sys.stdout = sys.__stdout__ = open(&quot;/dev/null&quot;, &quot;w&quot;)</span><br><span class="line">    os.close(2)</span><br><span class="line">    self.stderr = sys.stderr = sys.__stderr__ = open(&quot;/dev/null&quot;, &quot;w&quot;)</span><br><span class="line">    os.setsid()</span><br><span class="line">    os.umask(self.umask)</span><br><span class="line">    # XXX Stevens, in his Advanced Unix book, section 13.3 (page</span><br><span class="line">    # 417) recommends calling umask(0) and closing unused</span><br><span class="line">    # file descriptors.  In his Network Programming book, he</span><br><span class="line">    # additionally recommends ignoring SIGHUP and forking again</span><br><span class="line">    # after the setsid() call, for obscure SVR4 reasons.</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥ï¼Œpythonçš„daemonè¿›ç¨‹çš„ä¸€èˆ¬å¥—è·¯å¯ä»¥æ€»ç»“ä¸ºï¼š</p>
<ul>
<li>forkå­è¿›ç¨‹ï¼Œforkæœ‰ä¸¤ä¸ªè¿”å›å€¼ï¼Œé€šè¿‡è¿”å›å€¼æ‰§è¡Œé€»è¾‘</li>
<li>è¿”å›å€¼ä¸ºä¸ä¸º0ï¼Œå°±æ˜¯çˆ¶è¿›ç¨‹ï¼Œé€€å‡ºçˆ¶è¿›ç¨‹</li>
<li>å­è¿›ç¨‹æ‰§è¡Œos.setid()ï¼Œè®©è‡ªå·±æˆä¸ºè¿›ç¨‹ç»„å’Œä¼šè¯çš„leaderã€‚</li>
<li>å®‰å…¨çš„å…³é—­çˆ¶è¿›ç¨‹çš„ä¸‰æ ‡ï¼ˆè¾“å…¥ã€è¾“å‡ºã€é”™è¯¯ï¼‰</li>
<li>é‡æ–°æŒ‡å®šå­è¿›ç¨‹çš„æ ‡ä¸‰æ ‡ï¼Œä½¿ç”¨os.dupæˆ–os.dup2å‡½æ•°ï¼Œsupervisorç›´æ¥èµ‹å€¼ã€‚</li>
<li>é‡æ–°è®¾ç½®å­è¿›ç¨‹çš„æ©ç umaskï¼Œå°±æ˜¯chmodç»™æƒé™çš„æ—¶å€™é‚£ç»„ç»„åˆæ•°å­—ï¼Œå‡ºäºå®‰å…¨æ€§çš„è€ƒè™‘ï¼Œå¾€å¾€ä¸å¸Œæœ›è¿™äº›æ–‡ä»¶è¢«åˆ«çš„ç”¨æˆ·æŸ¥çœ‹ã€‚è¿™æ—¶ï¼Œå¯ä»¥ä½¿ç”¨umaskå‡½æ•°ä¿®æ”¹æ–‡ä»¶æƒé™ï¼Œåˆ›å»ºæ©ç çš„å–å€¼ï¼Œä»¥æ»¡è¶³å®ˆæŠ¤è¿›ç¨‹çš„è¦æ±‚ã€‚</li>
<li>é‡æ–°æŒ‡å®šå­è¿›ç¨‹çš„å·¥ä½œç›®å½•ã€‚å½“è¿›ç¨‹æ²¡æœ‰ç»“æŸæ—¶ï¼Œå…¶å·¥ä½œç›®å½•æ˜¯ä¸èƒ½è¢«å¸è½½çš„ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§é—®é¢˜å‘ç”Ÿï¼Œå®ˆæŠ¤è¿›ç¨‹ä¸€èˆ¬ä¼šå°†å…¶å·¥ä½œç›®å½•æ›´æ”¹åˆ°æ ¹ç›®å½•ä¸‹ï¼ˆ&#x2F;ç›®å½•ï¼‰ã€‚æ›´æ”¹å·¥ä½œç›®å½•ä½¿ç”¨çš„å‡½æ•°æ˜¯chdirã€‚</li>
</ul>
<p>éœ€è¦æ³¨æ„ï¼š</p>
<p> åœ¨ Unix ä¸Šé€šè¿‡ spawn å’Œ forkserver æ–¹å¼å¯åŠ¨å¤šè¿›ç¨‹ä¼šåŒæ—¶å¯åŠ¨ä¸€ä¸ª èµ„æºè¿½è¸ª è¿›ç¨‹ï¼Œè´Ÿè´£è¿½è¸ªå½“å‰ç¨‹åºçš„è¿›ç¨‹äº§ç”Ÿçš„ã€å¹¶ä¸”ä¸å†è¢«ä½¿ç”¨çš„å‘½åç³»ç»Ÿèµ„æº(å¦‚å‘½åä¿¡å·é‡ä»¥åŠ SharedMemory å¯¹è±¡)ã€‚å½“æ‰€æœ‰è¿›ç¨‹é€€å‡ºåï¼Œèµ„æºè¿½è¸ªä¼šè´Ÿè´£é‡Šæ”¾è¿™äº›ä»è¢«è¿½è¸ªçš„çš„å¯¹è±¡ã€‚é€šå¸¸æƒ…å†µä¸‹æ˜¯ä¸ä¼šæœ‰è¿™ç§å¯¹è±¡çš„ï¼Œä½†æ˜¯å‡å¦‚ä¸€ä¸ªå­è¿›ç¨‹è¢«æŸä¸ªä¿¡å·æ€æ­»ï¼Œå°±å¯èƒ½å­˜åœ¨è¿™ä¸€ç±»èµ„æºçš„â€œæ³„éœ²â€æƒ…å†µã€‚ï¼ˆæ³„éœ²çš„ä¿¡å·é‡ä»¥åŠå…±äº«å†…å­˜ä¸ä¼šè¢«é‡Šæ”¾ï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡ç³»ç»Ÿé‡å¯ï¼Œå¯¹äºè¿™ä¸¤ç±»èµ„æºæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„é—®é¢˜ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿå…è®¸çš„å‘½åä¿¡å·é‡çš„æ•°é‡æ˜¯æœ‰é™çš„ï¼Œè€Œå…±äº«å†…å­˜ä¹Ÿä¼šå æ®ä¸»å†…å­˜çš„ä¸€ç‰‡ç©ºé—´ï¼‰ã€‚è¦é€‰æ‹©ä¸€ä¸ªå¯åŠ¨æ–¹æ³•ï¼Œä½ åº”è¯¥åœ¨ä¸»æ¨¡å—çš„ if <strong>name</strong> &#x3D;&#x3D; â€˜<strong>main</strong>â€˜ å­å¥ä¸­è°ƒç”¨ set_start_method()</p>
<p>supervisordæ¨¡å—å°±è§£è¯»å®Œæ¯•ã€‚</p>
<h2 id="supervisorçš„é…ç½®æ¨¡å‹"><a href="#supervisorçš„é…ç½®æ¨¡å‹" class="headerlink" title="supervisorçš„é…ç½®æ¨¡å‹"></a>supervisorçš„é…ç½®æ¨¡å‹</h2><p>éƒ½åœ¨options.pyä¸­äº†ï¼ŒåŸºç±»Optionsã€‚</p>
<p>ä»é…ç½®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çª¥æ¢å‡ºsupervisoræ•´ä¸ªç³»ç»Ÿç”±å“ªäº›å…ƒç´ æ„æˆã€‚è¿™é‡Œåšä¸€ä¸ªåˆ—ä¸¾ï¼Œå®ƒä»¬çš„åŸºç±»æ˜¯Optionsï¼š</p>
<ul>
<li>ServerOptions</li>
<li>ClientOptions</li>
<li>ProcessConfig</li>
<li>ProcessGroupConfig</li>
<li>EventListenerConfig</li>
<li>EventListenerPoolConfig</li>
<li>FastCGIGroupConfig</li>
<li>FastCGIProcessConfig</li>
</ul>
<p>è¿™é‡Œè¦åæ§½ä¸‹ï¼Œæˆ‘ç°åœ¨å¯¹pythonçš„æ¨¡å—åŸåˆ™è¿˜ä¸äº†è§£ï¼Œæ‰€ä»¥æˆ‘å¯¹supervisorä½œè€…åœ¨options.pyå†™äº†äº›å¼‚å¸¸ç±»è¡¨ç¤ºä¸ç†è§£ï¼ŒæŒ‰linuxä¸€ä¸ªå‘½ä»¤åªåšä¸€ä»¶äº‹è¿™ç§åŸåˆ™ï¼Œä¸æ˜¯åº”è¯¥æœ‰ä¸ªå¼‚å¸¸ç±»çš„æ¨¡å—æ‰å¯¹ï¼Ÿ</p>
<p>é…ç½®ä»å“ªé‡Œæ¥ï¼Œæˆ‘å¤§è‡´çœ‹äº†ï¼šå‘½ä»¤è¡Œã€é»˜è®¤é…ç½®è·¯å¾„æ‰¾ã€‚</p>
<p>å¦‚æœæˆ‘è¦å†™å’Œé…ç½®æœ‰å…³çš„ä»£ç ï¼Œæˆ‘ä¼šå†æ¥ç»†ç©¶ï¼Œè¿™é‡Œå°±è·³è¿‡äº†ã€‚</p>
<h2 id="supervisorå—æ§è¿›ç¨‹æ¨¡å‹"><a href="#supervisorå—æ§è¿›ç¨‹æ¨¡å‹" class="headerlink" title="supervisorå—æ§è¿›ç¨‹æ¨¡å‹"></a>supervisorå—æ§è¿›ç¨‹æ¨¡å‹</h2><p>process.pyä¸­ï¼ŒSubprocessæ˜¯æœ€é‡è¦çš„ä¸€ä¸ªç±»ã€‚åŸºæœ¬å‡ å¤§ç±»ï¼šçŠ¶æ€ã€æ—¥å¿—ã€äº‹ä»¶ã€ç®¡é“ã€å¼‚å¸¸ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">class Subprocess:</span><br><span class="line"></span><br><span class="line">    &quot;&quot;&quot;A class to manage a subprocess.&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">    # Initial state; overridden by instance variables</span><br><span class="line"></span><br><span class="line">    pid = 0 # Subprocess pid; 0 when not running</span><br><span class="line">    config = None # ProcessConfig instance</span><br><span class="line">    state = None # process state code</span><br><span class="line">    listener_state = None # listener state code (if we&#x27;re an event listener)</span><br><span class="line">    event = None # event currently being processed (if we&#x27;re an event listener)</span><br><span class="line">    laststart = 0 # Last time the subprocess was started; 0 if never</span><br><span class="line">    laststop = 0  # Last time the subprocess was stopped; 0 if never</span><br><span class="line">    delay = 0 # If nonzero, delay starting or killing until this time</span><br><span class="line">    administrative_stop = 0 # true if the process has been stopped by an admin</span><br><span class="line">    system_stop = 0 # true if the process has been stopped by the system</span><br><span class="line">    killing = 0 # flag determining whether we are trying to kill this proc</span><br><span class="line">    backoff = 0 # backoff counter (to startretries)</span><br><span class="line">    dispatchers = None # asnycore output dispatchers (keyed by fd)</span><br><span class="line">    pipes = None # map of channel name to file descriptor #</span><br><span class="line">    exitstatus = None # status attached to dead process by finsh()</span><br><span class="line">    spawnerr = None # error message attached by spawn() if any</span><br><span class="line">    group = None # ProcessGroup instance if process is in the group</span><br><span class="line"></span><br><span class="line">    def __init__(self, config):</span><br><span class="line">        &quot;&quot;&quot;Constructor.</span><br><span class="line"></span><br><span class="line">        Argument is a ProcessConfig instance.</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        self.config = config</span><br><span class="line">        self.dispatchers = &#123;&#125;</span><br><span class="line">        self.pipes = &#123;&#125;</span><br><span class="line">        self.state = ProcessStates.STOPPED</span><br></pre></td></tr></table></figure>
<h3 id="è¿›ç¨‹çŠ¶æ€æ¨¡å‹"><a href="#è¿›ç¨‹çŠ¶æ€æ¨¡å‹" class="headerlink" title="è¿›ç¨‹çŠ¶æ€æ¨¡å‹"></a>è¿›ç¨‹çŠ¶æ€æ¨¡å‹</h3><p>ProcessStatesç±»ä¸­ï¼Œè¯¥ç±»åœ¨state.pyä¸­ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class ProcessStates:</span><br><span class="line">    STOPPED = 0</span><br><span class="line">    STARTING = 10</span><br><span class="line">    RUNNING = 20</span><br><span class="line">    BACKOFF = 30</span><br><span class="line">    STOPPING = 40</span><br><span class="line">    EXITED = 100</span><br><span class="line">    FATAL = 200</span><br><span class="line">    UNKNOWN = 1000</span><br><span class="line"></span><br><span class="line">STOPPED_STATES = (ProcessStates.STOPPED,</span><br><span class="line">                  ProcessStates.EXITED,</span><br><span class="line">                  ProcessStates.FATAL,</span><br><span class="line">                  ProcessStates.UNKNOWN)</span><br><span class="line"></span><br><span class="line">RUNNING_STATES = (ProcessStates.RUNNING,</span><br><span class="line">                  ProcessStates.BACKOFF,</span><br><span class="line">                  ProcessStates.STARTING)</span><br></pre></td></tr></table></figure>



<p>é‚£æ¥ä¸‹æ¥ï¼Œåœ¨å¼€æºä»£ç ä¸­å­¦ä¹ ä»£ç åŠæ‰€å±é¢†åŸŸçš„çŸ¥è¯†æ˜¯ç ”ç©¶çš„å‡ºå‘ç‚¹ã€‚</p>
<h1 id="æˆ‘çš„åº”ç”¨åœºæ™¯"><a href="#æˆ‘çš„åº”ç”¨åœºæ™¯" class="headerlink" title="æˆ‘çš„åº”ç”¨åœºæ™¯"></a>æˆ‘çš„åº”ç”¨åœºæ™¯</h1><p>supervisorå¹¶ä¸é€‚åˆæˆ‘çš„åº”ç”¨åœºæ™¯ã€‚</p>
<p>é¦–å…ˆï¼Œå®ƒæ˜¯ä½œä¸ºçˆ¶è¿›ç¨‹æ¥forkå—ç›‘æ§çš„è¿›ç¨‹çš„ï¼Œä¹Ÿå°±æ˜¯å­è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå®ƒèƒ½æ— å¾®ä¸è‡³çš„ç…§é¡¾åˆ°ï¼Œè™½ç„¶å­è¿›ç¨‹çš„æ‰€æœ‰ä¿¡æ¯å®ƒéƒ½èƒ½æŒæ¡ï¼Œä½†åœ¨æˆ‘çš„åœºæ™¯ä¸‹ï¼Œæœ‰å‘ç‰ˆå’Œæ›´æ–°çš„åˆšæ€§éœ€æ±‚ã€‚å¦‚æœç”¨supervisoræ¥ç›‘æ§å’Œæ‹‰èµ·ï¼Œå°±å¯¼è‡´å‘ç‰ˆæ›´æ–°åä¹Ÿä¸å¾—ä¸ç”¨supervisorçš„è‡ªåŠ¨é‡å¯æ¥å®Œæˆã€‚è¿™ç§å¼ºè€¦åˆçš„æ–¹å¼å¹¶ä¸æ˜¯å¾ˆä¼˜ç¾ï¼Œä¼šå¯¼è‡´å¤§é‡æ”¹é€ å·¥ä½œã€‚</p>
<p>å…¶æ¬¡ï¼Œéƒ¨ç½²ä¿¡æ¯éƒ½æ˜¯æ•£è½åœ¨æœåŠ¡å™¨ä¸Šçš„ï¼Œå¯¹äºè¶…è¿‡10ä¸ªåº”ç”¨ï¼Œç”šè‡³æ›´å¤šï¼Œåˆ†æ•£åŒ–çš„éƒ¨ç½²ç»´æŠ¤èµ·æ¥ä¹Ÿä¸æ–¹ä¾¿ã€‚æ‰€ä»¥æœ‰ä¸ªæ½œåœ¨çš„éœ€æ±‚ï¼Œç»Ÿä¸€é…ç½®å—æ§è¿›ç¨‹ã€‚supervisorçš„httpæœåŠ¡æ˜¯å•æœºç‰ˆçš„ï¼Œå¯¹äºåˆ†å¸ƒå¼éƒ¨ç½²æ¥è¯´ï¼Œç¼ºå°‘ä¸€ä¸ªç»Ÿä¸€ç•Œé¢ç»´æŠ¤ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘å¯èƒ½ä¼šsupervisoråšå¦‚ä¸‹çš„æ”¹é€ ï¼š</p>
<ul>
<li>è·å–ç›‘æ§è¿›ç¨‹çš„ä¿¡æ¯æºæ¥è‡ªdbæˆ–è€…redisä¹‹ç±»æŒä¹…åŒ–çš„å­˜å‚¨æœåŠ¡</li>
<li>forkå­è¿›ç¨‹ï¼Œä½†æ˜¯å¹¶ä¸ç›‘æ§å­è¿›ç¨‹çš„çŠ¶æ€ï¼Œåªåˆ¤å®šå®ƒæ˜¯å¦å­˜åœ¨ã€‚ä¸å­˜åœ¨è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼è‡ªåŠ¨æ‹‰èµ·ã€‚</li>
<li>æœ‰ä¸€ä¸ªå—æ§è¿›ç¨‹çš„å±•ç°é¡µé¢ï¼Œæ‰€æœ‰è¢«supervisoråˆ†æ•£ç›‘æ§è¿›ç¨‹çŠ¶æ€éƒ½åˆ—åœ¨ä¸Šé¢ï¼Œå¯ä»¥è§¦å‘é‡å¯ã€å¯åŠ¨æ“ä½œ</li>
</ul>
<p>æºç è§£è¯»ç¬¬ä¸€æ³¢å°±åˆ°è¿™äº†ã€‚</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a target="_blank" rel="noopener" href="http://www.supervisord.org/">supervisorå®˜æ–¹æ–‡æ¡£</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33339479/article/details/78374837">supervisoeræºç åˆ†æ</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/xybz1993/article/details/80869471">è¿›ç¨‹ç»„ã€sessionã€å‰å°ä»»åŠ¡ã€åå°ä»»åŠ¡ã€å®ˆæŠ¤è¿›ç¨‹</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/edisonchou/p/5003694.html">æ“ä½œç³»ç»Ÿæ ¸å¿ƒåŸç†-3.è¿›ç¨‹åŸç†ï¼ˆä¸Šï¼‰ï¼šè¿›ç¨‹æ¦‚è¦</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u014688145/article/details/50644876">è¿›ç¨‹å®ç°åŸç†</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_22613757/article/details/88770579">fork()å­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹çš„å…³ç³»ï¼ˆç»§æ‰¿äº†ä»€ä¹ˆï¼‰</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/gangstudyit/article/details/80551912">æ“ä½œç³»ç»Ÿä¸­ä¿¡å·å·¥ä½œåŸç†</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cems.uwe.ac.uk/~irjohnso/coursenotes/lrc/system/daemons/d3.htm">supervisorçš„daenonè¿›ç¨‹åŸç†</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/diantong/p/10413079.html">linuxçš„æ–‡ä»¶æè¿°ç¬¦</a></p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2019/12/20/%E4%B8%AD%E5%B0%8F%E5%9E%8B%E7%BD%91%E7%AB%99%E7%9A%84%E5%AE%B9%E9%87%8F%E8%A7%84%E5%88%92%E7%BA%B2%E8%A6%81/">ä¸­å°å‹ç½‘ç«™çš„å®¹é‡è§„åˆ’çº²è¦</a><a class="next" href="/2019/11/24/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B%E7%A8%8B%E5%8E%9F%E7%90%86/">æ“ä½œç³»ç»Ÿè¿›ç¨‹åŸç†</a></div><div id="vcomment"></div><script src="//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'0indNw0niJU8jN2a1E43bDW7-gzGzoHsz',
  appKey:'toErPcjDI3431WvXQVKoy0rC',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://windanchaos.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="å…³äº"><img src="/images/avatar.jpeg"/></a><p>ç‰©æœ‰æœ¬æœ«ï¼Œäº‹æœ‰ç»ˆå§‹ã€‚çŸ¥æ‰€å…ˆåï¼Œåˆ™è¿‘é“çŸ£ï¼</p><a class="info-icon" href="https://blog.csdn.net/windanchaos" title="CSDN" target="_blank" style="margin-inline:5px"> <i class="fa fa-CSDN-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:454522630@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/windanchaos" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://gitee.com/windanchaos" title="Gitee" target="_blank" style="margin-inline:5px"> <i class="fa fa-gitee-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">Javaç¼–ç¨‹è¯­è¨€</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E7%AE%A1%E7%90%86%E7%BB%B4%E6%8A%A4/">Linuxç®¡ç†ç»´æŠ¤</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/">MySQLæ•°æ®åº“</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">pythonç¼–ç¨‹è¯­è¨€</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">å‰ç«¯æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">åç«¯æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">æ€§èƒ½æµ‹è¯•</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">æŒç»­é›†æˆ</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">æ•°æ®ç»“æ„ä¸ç®—æ³•</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B9%E6%B3%95%E4%B8%8E%E7%AE%A1%E7%90%86/">æ–¹æ³•ä¸ç®¡ç†</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E6%96%87/">æ‚æ–‡</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8B%E8%AF%95%E7%9A%84%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">æµ‹è¯•çš„æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E5%A4%A7%E6%9D%82%E7%83%A9/">ç”Ÿæ´»å¤§æ‚çƒ©</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%82%A1%E7%A5%A8%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93/">è‚¡ç¥¨é‡åŒ–äº¤æ˜“</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">è‡ªåŠ¨åŒ–æµ‹è¯•</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºç§‘å­¦åŸºç¡€</a><span class="category-list-count">10</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/FromCSDN/" style="font-size: 15px;">FromCSDN</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/10/11/JDK%E4%B8%ADJUC%E5%8C%85%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94atomic%E5%8C%85/">JDKä¸­JUCåŒ…ç”±æµ…å…¥æ·±åŸç†â€”â€”atomicåŒ…</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/22/ELF%E5%AD%A6%E4%B9%A0%E4%B8%80/">ELFå­¦ä¹ ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/07/SpringBoot%E4%B9%8B%E5%8D%9A%E5%AE%A2%E5%AE%9E%E6%88%98/">SpringBootä¹‹åšå®¢å®æˆ˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/17/shell%E4%B8%89%E5%89%91%E5%AE%A2%E5%AE%9E%E6%88%98/">shellä¸‰å‰‘å®¢å®æˆ˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/16/mybatis%E5%85%A5%E4%B8%AA%E9%97%A8/">mybatiså…¥ä¸ªé—¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/23/SpringBoot%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%B8%80/">SpringBootå…¥é—¨ç³»åˆ—ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/23/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%BA%8C/">Javaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯è¯»ä¹¦ç¬”è®°äºŒ</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/20/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B8%80/">Javaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯è¯»ä¹¦ç¬”è®°ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/19/Spring%E6%A1%86%E6%9E%B6%E5%85%A5%E4%B8%AA%E9%97%A8/">Springæ¡†æ¶å…¥ä¸ªé—¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/16/java%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/">javaåŠ¨æ€ä»£ç†</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2022 <a href="/." rel="nofollow">windanchaos.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>