<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>ELFå­¦ä¹ ä¸€ | windanchaos</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ELFå­¦ä¹ ä¸€</h1><a id="logo" href="/.">windanchaos</a><p class="description">çŸ¥è¡Œåˆä¸€</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/me.html"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ELFå­¦ä¹ ä¸€</h1><div class="post-meta">2022-06-22<span> | </span><span class="category"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºç§‘å­¦åŸºç¡€</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span></div><a class="disqus-comment-count" href="/2022/06/22/ELF%E5%AD%A6%E4%B9%A0%E4%B8%80/#vcomment"><span class="valine-comment-count" data-xid="/2022/06/22/ELF%E5%AD%A6%E4%B9%A0%E4%B8%80/"></span><span> æ¡è¯„è®º</span></a><div class="post-content"><p>Excutable and Linking Formatï¼ŒELFï¼Œæœ‰UNIXç³»ç»Ÿå®éªŒå®¤å‘å¸ƒå¹¶ç¡®å®šä¸ºåº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ¥å£ABIï¼ˆäºŒè¿›åˆ¶ç¨‹åºæ ‡è¯†æ‰€æœ‰å·¥å…·é›†æ‰€éµå¾ªçš„ä¸€ç»„è¿è¡Œæ—¶çº¦å®šï¼ŒåŒ…æ‹¬ï¼šç¼–è¯‘å™¨ã€æ±‡ç¼–å™¨ã€è¿æ¥å™¨å’Œè¯­è¨€è¿è¡Œæ—¶æ”¯æŒï¼‰çš„è½åœ°æ–‡ä»¶å½¢å¼ï¼Œå…¶é‡è¦æ€§ä¸è¨€è€Œå–»ã€‚</p>
<h1 id="ELFæ–‡ä»¶ç±»å‹"><a href="#ELFæ–‡ä»¶ç±»å‹" class="headerlink" title="ELFæ–‡ä»¶ç±»å‹"></a>ELFæ–‡ä»¶ç±»å‹</h1><p>ELFæ–‡ä»¶æ˜¯ç”±æ±‡ç¼–å™¨å’Œè¿æ¥å™¨åˆ›å»ºï¼Œæ˜¯ç¨‹åºçš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä»¥æä¾›ç›´æ¥åœ¨ç›®æ ‡å¤„ç†å™¨ä¸Šæ‰§è¡Œçš„ä»£ç ï¼ˆæŒ‡ä»¤ï¼‰å’Œæ•°æ®ã€‚</p>
<p>ELFæœ‰ä¸‰ç±»æ–‡ä»¶ç±»å‹ï¼Œå‚ä¸ç¨‹åºçš„æ„å»ºå’Œæ‰§è¡Œï¼š</p>
<ul>
<li>å¯é‡å®šä½ (relocatable file)ï¼Œä¹Ÿå«é™æ€é“¾æ¥åº“ï¼ŒåŒ…å«éƒ¨åˆ†å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼æˆ–è€…åŠ¨æ€é“¾æ¥æ ¼å¼çš„æ•°æ®æˆ–ä»£ç ï¼Œéœ€ä¸å…¶ä»–ä¸¤ç§æ ¼å¼è¿›è¡Œæ•´åˆ</li>
<li>å¯æ‰§è¡Œï¼ˆexecutable fileï¼‰ï¼ŒåŒ…å«ç¨‹åºæ‰§è¡Œçš„æ‰€æœ‰ä»£ç å’Œæ•°æ®ä¿¡æ¯ï¼Œè¢«ç³»ç»Ÿè¯»å–ç”¨äºåˆ›å»ºè¿›ç¨‹</li>
<li>å…±äº«å¯¹è±¡æ–‡ä»¶ï¼ˆshared object fileï¼‰ï¼Œä¹Ÿå«åŠ¨æ€é“¾æ¥åº“ï¼ŒåŒ…å«é€‚åˆåœ¨ä»¥ä¸Šä¸¤ç§æ–‡ä»¶æ ¼å¼ä¸­éœ€è¦é“¾æ¥çš„ä»£ç å’Œæ•°æ®ä¿¡æ¯ã€‚</li>
</ul>
<p>æˆ‘ä»¬ä»¥Cä»£ç æ¥å­¦ä¹ ï¼Œmain.cæ˜¯ä¸»å‡½æ•°ï¼Œå¼•ç”¨äº†fun.cä¸­çš„printHelloå‡½æ•°ï¼š</p>
<p>main.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">extern</span> <span class="title function_">func</span><span class="params">(<span class="type">int</span> a)</span>;</span><br><span class="line"><span class="type">int</span> g1 = <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> g2;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">static</span> <span class="type">int</span> b = <span class="number">0</span>;</span><br><span class="line">  <span class="type">int</span> c = <span class="number">1</span>;</span><br><span class="line">  func(a+b+c);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;this main!&quot;</span>); </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>fun.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> value;</span><br><span class="line"><span class="type">void</span> <span class="title function_">func</span><span class="params">(<span class="type">int</span> sum)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;sum is %d\n&quot;</span>,sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>gccç¼–è¯‘å‘½ä»¤å¸®åŠ©ï¼š</p>
<p>  <em><em>-E                       Preprocess only; do not compile, assemble or link</em><br>  <em>-S                       Compile only; do not assemble or link</em> åªç¼–è¯‘æˆæ±‡ç¼–ä»£ç <br>  <em>-c                       Compile and assemble, but do not link</em> ç¼–è¯‘äºŒè¿›åˆ¶çš„ELFæ–‡ä»¶ï¼Œæ²¡æœ‰è¿æ¥<br>  -o <file>                Place the output into <file></em></p>
<p>æˆ‘ä»¬åªç ”ç©¶å’ŒELFæœ‰å…³çš„gccæ“ä½œã€‚ä¸‹é¢ï¼Œç¼–è¯‘ELFæ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -c fun.c main.c </span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆäº†å¯¹åº”.oçš„ELFæ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o main main.o fun.o</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆäº†mainçš„å¯æ‰§è¡ŒELFæ–‡ä»¶ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -shared -fPIC -o fun.so fun.c</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆäº†fun.soçš„å…±äº«ELFæ–‡ä»¶ã€‚</p>
<p>å‘½ä»¤readelf å¯è¯»å–ELFæ–‡ä»¶ï¼Œä½¿ç”¨å¸®åŠ©æŸ¥çœ‹ç›¸å…³å‚æ•°ã€‚</p>
<p>æŸ¥çœ‹æ–‡ä»¶çš„typeç±»å‹æ˜¯ä»€ä¹ˆ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">readelf -h fun.o</span><br><span class="line">readelf -h fun.so</span><br><span class="line">readelf -h main</span><br></pre></td></tr></table></figure>

<p>ELFå®šä¹‰æºç åœ¨linuxæ–‡ä»¶&#x2F;user&#x2F;include&#x2F;elf.hä¸­ï¼Œç›¸å…³çš„ç»“æ„éƒ½èƒ½é€šè¿‡æºç è·å–åˆ°ã€‚</p>
<h1 id="ELFå†…éƒ¨çš„æ•°æ®è¡¨ç¤º"><a href="#ELFå†…éƒ¨çš„æ•°æ®è¡¨ç¤º" class="headerlink" title="ELFå†…éƒ¨çš„æ•°æ®è¡¨ç¤º"></a>ELFå†…éƒ¨çš„æ•°æ®è¡¨ç¤º</h1><p>è¿™é‡Œçš„æ•°æ®æŒ‡ä¸€åˆ‡å¯ä»¥è¡¨ç¤ºä¿¡æ¯çš„äºŒè¿›åˆ¶è®°å½•ã€‚</p>
<p>ELFæ–‡ä»¶æ”¯æŒå…·æœ‰8ä½å­—èŠ‚å’Œ32ä½æ¶æ„çš„å¤„ç†å™¨ï¼Œå…¶ç›®çš„æ˜¯åœ¨æ›´å¤§ï¼ˆæ›´å°ï¼‰çš„ä½“ç³»ç»“æ„ä¸­æ‰§è¡Œï¼Œå…·æœ‰å¹³å°æ— å…³æ€§ï¼Œå› æ­¤ï¼ŒELFçš„å¯¹è±¡æ–‡ä»¶æ˜¯ä»¥ä¸€ç§ç‹¬ç«‹äºæ‰§è¡Œæœºå™¨çš„æ ¼å¼æ¥è¡¨ç¤ºæ§åˆ¶æ•°æ®ï¼Œè€Œæ•°æ®åˆ™ä½¿ç”¨ç›®æ ‡å¤„ç†å™¨è¿›è¡Œç¼–ç å’Œè§£é‡Šï¼Œè€Œä¸ç®¡ELFæ˜¯åœ¨å“ªå°æœºå™¨ä¸Šåˆ›å»ºçš„ã€‚å³ï¼š</p>
<ul>
<li>ELFè®°å½•çš„æ§åˆ¶ä¿¡æ¯æ— è§†å¤„ç†å™¨ç»“æ„</li>
<li>ELFè®°å½•çš„æ“ä½œæ•°æ®æŒ‰ç›®æ ‡å¤„ç†å™¨è§£é‡Š</li>
</ul>
<p>ELFæ–‡ä»¶æ ¼å¼å®šä¹‰çš„æ‰€æœ‰æ•°æ®ç»“æ„éƒ½éµå¾ªç‰¹å®šçš„å¤§å°å’Œå¯¹é½è§„åˆ™ã€‚å¦‚æœ‰å¿…è¦ï¼Œå¯¹åº”çš„structç»“æ„ä½“éœ€è¦å¡«å……0ä»¥ç¡®ä¿4å­—èŠ‚å¯¹é½ï¼Œç›¸åº”çš„åŸºç¡€æ•°æ®ç±»å‹ï¼ˆ1ã€2ã€4ã€8å­—èŠ‚ï¼‰å‡éœ€å¯¹é½ã€‚å¤„äºå¯ç§»æ¤ç›®çš„ï¼ŒELFä¸å®ç”¨ä½ï¼ˆ1bitï¼‰ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ELFçš„æ ‡å‡†æ•°æ®ç”³æ˜ï¼ˆä»£ç æ³¨é‡Šè¯·å‹¿å¿½ç•¥ï¼‰ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Standard ELF types.  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdint.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Type for a 16-bit quantity.  */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint16_t</span> Elf32_Half;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint16_t</span> Elf64_Half;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Types for signed and unsigned 32-bit quantities.  */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint32_t</span> Elf32_Word;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int32_t</span>  Elf32_Sword;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint32_t</span> Elf64_Word;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int32_t</span>  Elf64_Sword;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Types for signed and unsigned 64-bit quantities.  */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint64_t</span> Elf32_Xword;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int64_t</span>  Elf32_Sxword;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint64_t</span> Elf64_Xword;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">int64_t</span>  Elf64_Sxword;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Type of addresses.  */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint32_t</span> Elf32_Addr;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint64_t</span> Elf64_Addr;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Type of file offsets.  */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint32_t</span> Elf32_Off;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint64_t</span> Elf64_Off;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Type for section indices, which are 16-bit quantities.  */</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint16_t</span> Elf32_Section;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">uint16_t</span> Elf64_Section;</span><br></pre></td></tr></table></figure>

<p>ä»ä¸Šæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼š</p>
<p>Halfã€Sectionã€wordï¼ˆSï¼‰ã€Xwordï¼ˆSï¼‰éƒ½æ˜¯ä½æ•°æ— å…³çš„ã€‚</p>
<p>åªæœ‰Addåœ°å€å’ŒOffåç§»æ˜¯åœ°å€æœ‰å…³çš„ã€‚</p>
<h1 id="Headers"><a href="#Headers" class="headerlink" title="Headers"></a>Headers</h1><p>headerçš„è®¾è®¡ç›®çš„æ˜¯æ§åˆ¶ç»“æ„ï¼Œæè¿°ã€å®šä½å¯¹åº”æ•°æ®çš„ç»“æ„å’Œä¿¡æ¯ã€‚</p>
<p><code>readelf -e fun.o</code></p>
<p><code>readelf -e fun.so</code></p>
<p><code>readelf -e main</code></p>
<p>æœ‰3ä¸ªheaderï¼š</p>
<h2 id="ELFæ–‡ä»¶è‡ªèº«çš„header"><a href="#ELFæ–‡ä»¶è‡ªèº«çš„header" class="headerlink" title="ELFæ–‡ä»¶è‡ªèº«çš„header"></a>ELFæ–‡ä»¶è‡ªèº«çš„header</h2><p>ELFæ–‡ä»¶è‡ªèº«çš„headerï¼Œ32ä½ï¼ˆä»¥ä¸‹éƒ½ä»¥32ä¸ºä¸»ï¼‰ç»“æ„ä½“å®šäº†æ–‡ä»¶çš„header</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* The ELF file header.  This appears at the start of every ELF file.  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> EI_NIDENT (16)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> e_ident[EI_NIDENT];     <span class="comment">/* Magic number and other info */</span></span><br><span class="line">  Elf32_Half    e_type;                 <span class="comment">/* Object file type */</span></span><br><span class="line">  Elf32_Half    e_machine;              <span class="comment">/* Architecture */</span></span><br><span class="line">  Elf32_Word    e_version;              <span class="comment">/* Object file version */</span></span><br><span class="line">  Elf32_Addr    e_entry;                <span class="comment">/* Entry point virtual address */</span></span><br><span class="line">  Elf32_Off     e_phoff;                <span class="comment">/* Program header table file offset */</span></span><br><span class="line">  Elf32_Off     e_shoff;                <span class="comment">/* Section header table file offset */</span></span><br><span class="line">  Elf32_Word    e_flags;                <span class="comment">/* Processor-specific flags */</span></span><br><span class="line">  Elf32_Half    e_ehsize;               <span class="comment">/* ELF header size in bytes */</span></span><br><span class="line">  Elf32_Half    e_phentsize;            <span class="comment">/* Program header table entry size */</span></span><br><span class="line">  Elf32_Half    e_phnum;                <span class="comment">/* Program header table entry count */</span></span><br><span class="line">  Elf32_Half    e_shentsize;            <span class="comment">/* Section header table entry size */</span></span><br><span class="line">  Elf32_Half    e_shnum;                <span class="comment">/* Section header table entry count */</span></span><br><span class="line">  Elf32_Half    e_shstrndx;             <span class="comment">/* Section header string table index */</span></span><br><span class="line">&#125; Elf32_Ehdr;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Legal values for e_type (object file type).  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_NONE         0               <span class="comment">/* No file type */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_REL          1               <span class="comment">/* Relocatable file */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_EXEC         2               <span class="comment">/* Executable file */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_DYN          3               <span class="comment">/* Shared object file */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_CORE         4               <span class="comment">/* Core file */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_NUM          5               <span class="comment">/* Number of defined types */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_LOOS         0xfe00          <span class="comment">/* OS-specific range start */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_HIOS         0xfeff          <span class="comment">/* OS-specific range end */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_LOPROC       0xff00          <span class="comment">/* Processor-specific range start */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ET_HIPROC       0xffff          <span class="comment">/* Processor-specific range end */</span></span></span><br></pre></td></tr></table></figure>

<p>e_typeä¸­åŒ…å«äº†ELFçš„ä¸‰å¤§æ–‡ä»¶ç±»å‹ã€‚</p>
<p>ä¸‹é¢æ˜¯bashä¸­æŸ¥çœ‹main.oçš„ELFæ–‡ä»¶å¤´æ‰“å°å†…å®¹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/*æ‰“å°çš„ELF headerå†…å®¹*/</span><br><span class="line">ELF Header:</span><br><span class="line">  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class="line">  Class:                             ELF64</span><br><span class="line">  Data:                              2<span class="string">&#x27;s complement, little endian</span></span><br><span class="line"><span class="string">  Version:                           1 (current)</span></span><br><span class="line"><span class="string">  OS/ABI:                            UNIX - System V</span></span><br><span class="line"><span class="string">  ABI Version:                       0</span></span><br><span class="line"><span class="string">  Type:                              REL (Relocatable file)</span></span><br><span class="line"><span class="string">  Machine:                           Advanced Micro Devices X86-64</span></span><br><span class="line"><span class="string">  Version:                           0x1</span></span><br><span class="line"><span class="string">  Entry point address:               0x0</span></span><br><span class="line"><span class="string">  Start of program headers:          0 (bytes into file)</span></span><br><span class="line"><span class="string">  Start of section headers:          936 (bytes into file)</span></span><br><span class="line"><span class="string">  Flags:                             0x0</span></span><br><span class="line"><span class="string">  Size of this header:               64 (bytes)</span></span><br><span class="line"><span class="string">  Size of program headers:           0 (bytes)</span></span><br><span class="line"><span class="string">  Number of program headers:         0</span></span><br><span class="line"><span class="string">  Size of section headers:           64 (bytes)</span></span><br><span class="line"><span class="string">  Number of section headers:         13</span></span><br><span class="line"><span class="string">  Section header string table index: 12</span></span><br></pre></td></tr></table></figure>

<p>ELFæ–‡ä»¶æ’å¸ƒï¼š</p>
<p>|     ELF header    |  Sections  |  Section header table |</p>
<p>ä»ä¸Šé¢Headerä¿¡æ¯ä¸­ï¼Œå¯å¾—åˆ°å¦‚ä¸‹å¤§å°ç›¸å…³ä¿¡æ¯</p>
<p>Headerå¤§å°ï¼š Size of this header:               64 (bytes)</p>
<p>Sectionså¤§å°ï¼šStart of section headers - Header å¤§å°:          936byte -  64bytes</p>
<p>Section header tableå¤§å°ï¼šSize of section headers * Number of section headers &#x3D; 13 * 64</p>
<p>æ•´ä¸ªæ–‡ä»¶å¤§å°ä¸ºï¼š64 + 936- 64 +  13 * 64&#x3D; 1768bytes</p>
<p>æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹main.oçš„å¤§å°è¾“å‡ºçš„ä¹Ÿæ˜¯1768ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wc</span> -c main.o</span><br></pre></td></tr></table></figure>

<h2 id="sectionçš„header"><a href="#sectionçš„header" class="headerlink" title="sectionçš„header"></a>sectionçš„header</h2><p>sectionï¼ˆç¿»è¯‘ä¸ºèŠ‚ï¼‰çš„headerï¼Œæè¿°èŠ‚çš„ä¿¡æ¯ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Section header.  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  Elf32_Word    sh_name;                <span class="comment">/* Section name (string tbl index) */</span></span><br><span class="line">  Elf32_Word    sh_type;                <span class="comment">/* Section type */</span></span><br><span class="line">  Elf32_Word    sh_flags;               <span class="comment">/* Section flags */</span></span><br><span class="line">  Elf32_Addr    sh_addr;                <span class="comment">/* Section virtual addr at execution */</span></span><br><span class="line">  Elf32_Off     sh_offset;              <span class="comment">/* Section file offset */</span></span><br><span class="line">  Elf32_Word    sh_size;                <span class="comment">/* Section size in bytes */</span></span><br><span class="line">  Elf32_Word    sh_link;                <span class="comment">/* Link to another section */</span></span><br><span class="line">  Elf32_Word    sh_info;                <span class="comment">/* Additional section information */</span></span><br><span class="line">  Elf32_Word    sh_addralign;           <span class="comment">/* Section alignment */</span></span><br><span class="line">  Elf32_Word    sh_entsize;             <span class="comment">/* Entry size if section holds table */</span></span><br><span class="line">&#125; Elf32_Shdr;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* æˆªå– section header */</span></span><br><span class="line">Section Headers:</span><br><span class="line">  [Nr] Name              Type             Address           Offset</span><br><span class="line">       Size              EntSize          Flags  Link  Info  Align</span><br><span class="line">  [ <span class="number">0</span>]                   <span class="literal">NULL</span>             <span class="number">0000000000000000</span>  <span class="number">00000000</span></span><br><span class="line">       <span class="number">0000000000000000</span>  <span class="number">0000000000000000</span>           <span class="number">0</span>     <span class="number">0</span>     <span class="number">0</span></span><br><span class="line">  [ <span class="number">1</span>] .text             PROGBITS         <span class="number">0000000000000000</span>  <span class="number">00000040</span></span><br><span class="line">       <span class="number">0000000000000044</span>  <span class="number">0000000000000000</span>  AX       <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">  [ <span class="number">2</span>] .rela.text        RELA             <span class="number">0000000000000000</span>  <span class="number">000002</span>a8</span><br><span class="line">       <span class="number">0000000000000078</span>  <span class="number">0000000000000018</span>   I      <span class="number">10</span>     <span class="number">1</span>     <span class="number">8</span></span><br><span class="line">  [ <span class="number">3</span>] .data             PROGBITS         <span class="number">0000000000000000</span>  <span class="number">00000084</span></span><br><span class="line">       <span class="number">0000000000000008</span>  <span class="number">0000000000000000</span>  WA       <span class="number">0</span>     <span class="number">0</span>     <span class="number">4</span></span><br><span class="line">  [ <span class="number">4</span>] .bss              NOBITS           <span class="number">0000000000000000</span>  <span class="number">0000008</span>c</span><br><span class="line">       <span class="number">0000000000000004</span>  <span class="number">0000000000000000</span>  WA       <span class="number">0</span>     <span class="number">0</span>     <span class="number">4</span></span><br><span class="line">  [ <span class="number">5</span>] .rodata           PROGBITS         <span class="number">0000000000000000</span>  <span class="number">0000008</span>c</span><br><span class="line">       <span class="number">000000000000000b</span>  <span class="number">0000000000000000</span>   A       <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">  [ <span class="number">6</span>] .comment          PROGBITS         <span class="number">0000000000000000</span>  <span class="number">00000097</span></span><br><span class="line">       <span class="number">000000000000002</span>e  <span class="number">0000000000000001</span>  MS       <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">  [ <span class="number">7</span>] .note.GNU-<span class="built_in">stack</span>   PROGBITS         <span class="number">0000000000000000</span>  <span class="number">000000</span>c5</span><br><span class="line">       <span class="number">0000000000000000</span>  <span class="number">0000000000000000</span>           <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">  [ <span class="number">8</span>] .eh_frame         PROGBITS         <span class="number">0000000000000000</span>  <span class="number">000000</span>c8</span><br><span class="line">       <span class="number">0000000000000038</span>  <span class="number">0000000000000000</span>   A       <span class="number">0</span>     <span class="number">0</span>     <span class="number">8</span></span><br><span class="line">  [ <span class="number">9</span>] .rela.eh_frame    RELA             <span class="number">0000000000000000</span>  <span class="number">00000320</span></span><br><span class="line">       <span class="number">0000000000000018</span>  <span class="number">0000000000000018</span>   I      <span class="number">10</span>     <span class="number">8</span>     <span class="number">8</span></span><br><span class="line">  [<span class="number">10</span>] .symtab           SYMTAB           <span class="number">0000000000000000</span>  <span class="number">00000100</span></span><br><span class="line">       <span class="number">0000000000000180</span>  <span class="number">0000000000000018</span>          <span class="number">11</span>    <span class="number">11</span>     <span class="number">8</span></span><br><span class="line">  [<span class="number">11</span>] .strtab           STRTAB           <span class="number">0000000000000000</span>  <span class="number">00000280</span></span><br><span class="line">       <span class="number">0000000000000028</span>  <span class="number">0000000000000000</span>           <span class="number">0</span>     <span class="number">0</span>     <span class="number">1</span></span><br><span class="line">  [<span class="number">12</span>] .shstrtab         STRTAB           <span class="number">0000000000000000</span>  <span class="number">00000338</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>sectionä¸­çš„ç±»å‹ï¼ˆTypeï¼‰ï¼Œç±»å‹å¯¹èŠ‚sectionçš„å†…å®¹å’Œè¯­ä¹‰è¿›è¡Œäº†åˆ†äº†ã€‚å…·ä½“å‚è€ƒä¸‹èŠ‚sectionã€‚</p>
<p>Offsetæ˜¯åœ¨æ–‡ä»¶ä¸­åç§»ä½ç½®ï¼ˆå³è¯¥éƒ¨åˆ†èµ·å§‹åœ°å€ï¼‰ï¼ŒSizeä¸ºå…¶å¤§å°ã€‚é€šè¿‡è¿™2éƒ¨åˆ†ï¼Œå°±å¯ä»¥ç¡®è®¤æ¯ä¸ªsectionçš„ä½ç½®å¤§å°ã€‚ç”±ä¸Šä¸€å°èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬çŸ¥é“elf æ–‡ä»¶çš„headeræœ‰64bytesï¼Œ16è¿›åˆ¶ä¸º0x40ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥çŸ¥é“.texçš„offsetå€¼00000040ï¼Œæ˜¯ç´§è·Ÿåœ¨elfçš„æ–‡ä»¶headerä¹‹åçš„ã€‚ä½¿ç”¨å‘½ä»¤éªŒè¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -h main.o</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°å¦‚ä¸‹å†…å®¹ï¼Œä¹Ÿå³å„sectionçš„æ’å¸ƒé¡ºåºï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sections:</span><br><span class="line">Idx Name          Size      VMA               LMA               File off  Algn</span><br><span class="line">  0 .text         00000044  0000000000000000  0000000000000000  00000040  2**0</span><br><span class="line">                  CONTENTS, ALLOC, LOAD, RELOC, READONLY, CODE</span><br><span class="line">  1 .data         00000008  0000000000000000  0000000000000000  00000084  2**2</span><br><span class="line">                  CONTENTS, ALLOC, LOAD, DATA</span><br><span class="line">  2 .bss          00000004  0000000000000000  0000000000000000  0000008c  2**2</span><br><span class="line">                  ALLOC</span><br><span class="line">  3 .rodata       0000000b  0000000000000000  0000000000000000  0000008c  2**0</span><br><span class="line">                  CONTENTS, ALLOC, LOAD, READONLY, DATA</span><br><span class="line">  4 .comment      0000002e  0000000000000000  0000000000000000  00000097  2**0</span><br><span class="line">                  CONTENTS, READONLY</span><br><span class="line">  5 .note.GNU-stack 00000000  0000000000000000  0000000000000000  000000c5  2**0</span><br><span class="line">                  CONTENTS, READONLY</span><br><span class="line">  6 .eh_frame     00000038  0000000000000000  0000000000000000  000000c8  2**3</span><br><span class="line">                  CONTENTS, ALLOC, LOAD, RELOC, READONLY, DATA</span><br></pre></td></tr></table></figure>



<h2 id="programçš„header"><a href="#programçš„header" class="headerlink" title="programçš„header"></a>programçš„header</h2><p>programçš„headerï¼Œç”¨äºå‘ŠçŸ¥æ“ä½œç³»ç»Ÿå¦‚ä½•åˆ›å»ºè¿›ç¨‹ã€‚programçš„headeråœ¨å¯æ‰§è¡Œå’Œå…±äº«æ–‡ä»¶ä¸­æœ‰ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Program segment header.  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  Elf32_Word    p_type;                 <span class="comment">/* Segment type */</span></span><br><span class="line">  Elf32_Off     p_offset;               <span class="comment">/* Segment file offset */</span></span><br><span class="line">  Elf32_Addr    p_vaddr;                <span class="comment">/* Segment virtual address */</span></span><br><span class="line">  Elf32_Addr    p_paddr;                <span class="comment">/* Segment physical address */</span></span><br><span class="line">  Elf32_Word    p_filesz;               <span class="comment">/* Segment size in file */</span></span><br><span class="line">  Elf32_Word    p_memsz;                <span class="comment">/* Segment size in memory */</span></span><br><span class="line">  Elf32_Word    p_flags;                <span class="comment">/* Segment flags */</span></span><br><span class="line">  Elf32_Word    p_align;                <span class="comment">/* Segment alignment */</span></span><br><span class="line">&#125; Elf32_Phdr;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* program header */</span></span><br><span class="line">Program Headers:</span><br><span class="line">  Type           Offset             VirtAddr           PhysAddr</span><br><span class="line">                 FileSiz            MemSiz              Flags  Align</span><br><span class="line">  PHDR           <span class="number">0x0000000000000040</span> <span class="number">0x0000000000400040</span> <span class="number">0x0000000000400040</span></span><br><span class="line">                 <span class="number">0x00000000000001f8</span> <span class="number">0x00000000000001f8</span>  R E    <span class="number">8</span></span><br><span class="line">  INTERP         <span class="number">0x0000000000000238</span> <span class="number">0x0000000000400238</span> <span class="number">0x0000000000400238</span></span><br><span class="line">                 <span class="number">0x000000000000001c</span> <span class="number">0x000000000000001c</span>  R      <span class="number">1</span></span><br><span class="line">      [Requesting program interpreter: /lib64/ld-linux-x86<span class="number">-64.</span>so<span class="number">.2</span>]</span><br><span class="line">  LOAD           <span class="number">0x0000000000000000</span> <span class="number">0x0000000000400000</span> <span class="number">0x0000000000400000</span></span><br><span class="line">                 <span class="number">0x0000000000000754</span> <span class="number">0x0000000000000754</span>  R E    <span class="number">200000</span></span><br><span class="line">  LOAD           <span class="number">0x0000000000000e10</span> <span class="number">0x0000000000600e10</span> <span class="number">0x0000000000600e10</span></span><br><span class="line">                 <span class="number">0x0000000000000224</span> <span class="number">0x0000000000000228</span>  RW     <span class="number">200000</span></span><br><span class="line">  DYNAMIC        <span class="number">0x0000000000000e28</span> <span class="number">0x0000000000600e28</span> <span class="number">0x0000000000600e28</span></span><br><span class="line">                 <span class="number">0x00000000000001d0</span> <span class="number">0x00000000000001d0</span>  RW     <span class="number">8</span></span><br><span class="line">  NOTE           <span class="number">0x0000000000000254</span> <span class="number">0x0000000000400254</span> <span class="number">0x0000000000400254</span></span><br><span class="line">                 <span class="number">0x0000000000000044</span> <span class="number">0x0000000000000044</span>  R      <span class="number">4</span></span><br><span class="line">  GNU_EH_FRAME   <span class="number">0x0000000000000600</span> <span class="number">0x0000000000400600</span> <span class="number">0x0000000000400600</span></span><br><span class="line">                 <span class="number">0x000000000000003c</span> <span class="number">0x000000000000003c</span>  R      <span class="number">4</span></span><br><span class="line">  GNU_STACK      <span class="number">0x0000000000000000</span> <span class="number">0x0000000000000000</span> <span class="number">0x0000000000000000</span></span><br><span class="line">                 <span class="number">0x0000000000000000</span> <span class="number">0x0000000000000000</span>  RW     <span class="number">10</span></span><br><span class="line">  GNU_RELRO      <span class="number">0x0000000000000e10</span> <span class="number">0x0000000000600e10</span> <span class="number">0x0000000000600e10</span></span><br><span class="line">                 <span class="number">0x00000000000001f0</span> <span class="number">0x00000000000001f0</span>  R      <span class="number">1</span></span><br></pre></td></tr></table></figure>





<h1 id="sections"><a href="#sections" class="headerlink" title="sections"></a>sections</h1><p>sectionä»£è¡¨çš„æ˜¯ä¸€æ®µè¿ç»­çš„åœ°å€ç©ºé—´ï¼ŒåŒ…å«äº†é™¤headerï¼ˆsectionã€elf æ–‡ä»¶ã€programï¼‰å¤–çš„æ‰€æœ‰ä¿¡æ¯ã€‚sectionçš„headerå‚è€ƒä¸Šä¸€èŠ‚ã€‚</p>
<p>èŠ‚çš„ç±»å‹ï¼Œæºç ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Legal values for sh_type (section type).  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_NULL          0             <span class="comment">/* Section header table entry unused */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_PROGBITS      1             <span class="comment">/* Program data */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_SYMTAB        2             <span class="comment">/* Symbol table */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_STRTAB        3             <span class="comment">/* String table */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_RELA          4             <span class="comment">/* Relocation entries with addends */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_HASH          5             <span class="comment">/* Symbol hash table */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_DYNAMIC       6             <span class="comment">/* Dynamic linking information */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_NOTE          7             <span class="comment">/* Notes */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_NOBITS        8             <span class="comment">/* Program space with no data (bss) */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_REL           9             <span class="comment">/* Relocation entries, no addends */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_SHLIB         10            <span class="comment">/* Reserved */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_DYNSYM        11            <span class="comment">/* Dynamic linker symbol table */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_INIT_ARRAY    14            <span class="comment">/* Array of constructors */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_FINI_ARRAY    15            <span class="comment">/* Array of destructors */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_PREINIT_ARRAY 16            <span class="comment">/* Array of pre-constructors */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GROUP         17            <span class="comment">/* Section group */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_SYMTAB_SHNDX  18            <span class="comment">/* Extended section indeces */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_NUM           19            <span class="comment">/* Number of defined types.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_LOOS          0x60000000    <span class="comment">/* Start OS-specific.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GNU_ATTRIBUTES 0x6ffffff5   <span class="comment">/* Object attributes.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GNU_HASH      0x6ffffff6    <span class="comment">/* GNU-style hash table.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GNU_LIBLIST   0x6ffffff7    <span class="comment">/* Prelink library list */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_CHECKSUM      0x6ffffff8    <span class="comment">/* Checksum for DSO content.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_LOSUNW        0x6ffffffa    <span class="comment">/* Sun-specific low bound.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_SUNW_move     0x6ffffffa</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_SUNW_COMDAT   0x6ffffffb</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_SUNW_syminfo  0x6ffffffc</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GNU_verdef    0x6ffffffd    <span class="comment">/* Version definition section.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GNU_verneed   0x6ffffffe    <span class="comment">/* Version needs section.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_GNU_versym    0x6fffffff    <span class="comment">/* Version symbol table.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_HISUNW        0x6fffffff    <span class="comment">/* Sun-specific high bound.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_HIOS          0x6fffffff    <span class="comment">/* End OS-specific type */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_LOPROC        0x70000000    <span class="comment">/* Start of processor-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_HIPROC        0x7fffffff    <span class="comment">/* End of processor-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_LOUSER        0x80000000    <span class="comment">/* Start of application-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHT_HIUSER        0x8fffffff    <span class="comment">/* End of application-specific */</span></span></span><br></pre></td></tr></table></figure>

<p>éƒ¨åˆ†æ±‰è¯­ç¿»è¯‘ï¼ˆå†…å®¹æ‘˜è‡ªï¼šé»„ä¿Šçš„æ··æ²Œå­¦å ‚çŸ¥è¯†æ˜Ÿçƒï¼Œæœ‰å¢æ”¹ï¼‰</p>
<p>SHT_NULLï¼šè¯¥å€¼å°†èŠ‚æ ‡è®°ä¸ºéæ´»åŠ¨çŠ¶æ€ </p>
<p>SHT_PROGBITSï¼šè¯¥å€¼ä¿å­˜ç€ç”±ç¨‹åºå®šä¹‰çš„èŠ‚ä¿¡æ¯ï¼Œå…¶æ ¼å¼å’Œå«ä¹‰å®Œå…¨ç”±ç¨‹åºå†³å®šï¼ˆç¨‹åºæ˜¯ä»€ä¹ˆï¼Ÿè€ƒè™‘ä¸‹è°ç”Ÿæˆäº†ç›®æ ‡æ–‡ä»¶ï¼‰ </p>
<p>SHT_SYMTAB å’Œ SHT_DYNSYMï¼šè¡¨ç¤ºå½“å‰èŠ‚ä¿å­˜ç€ä¸€ä¸ªç¬¦å·è¡¨ã€‚SHT_SYMTAB è¡¨ç¤ºæä¾›äº†ç”¨äºé“¾æ¥å™¨é™æ€é“¾æ¥çš„ç¬¦å·ï¼Œå…¶ä½œä¸ºä¸€ä¸ªå®Œæ•´çš„ç¬¦å·è¡¨ï¼Œå®ƒå¯èƒ½åŒ…å«è®¸å¤šåŠ¨æ€é“¾æ¥ä¸­ä¸éœ€è¦çš„ç¬¦å·ï¼Œå› æ­¤ï¼Œä¸€ä¸ªå¯¹è±¡æ–‡ä»¶ä¹Ÿå¯ä»¥åŒ…å«ä¸€ä¸ª SHT_DYNSYM çš„èŠ‚ç”¨äºä¿å­˜åŠ¨æ€é“¾æ¥ç¬¦å·çš„æœ€å°é›†åˆï¼Œä»¥èŠ‚çœç©ºé—´ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡stripå»æ‰å®Œæ•´ç¬¦å·è¡¨ï¼Œä½†è¿™ä¼šå¯¼è‡´ä¸èƒ½è¿›è¡Œé™æ€é“¾æ¥ ã€‚SYM &#x3D; symbolã€‚</p>
<p>SHT_DYNAMICï¼šè¡¨ç¤ºå½“å‰èŠ‚ä¿å­˜åŠ¨æ€é“¾æ¥ä¿¡æ¯ </p>
<p>SHT_STRTABï¼šè¡¨ç¤ºå½“å‰èŠ‚ä¸ºå­—ç¬¦ä¸²è¡¨ </p>
<p>SHT_RELAï¼šè¡¨ç¤ºå½“å‰èŠ‚ä¿å­˜ç€å¸¦æœ‰æ˜¾å¼åŠ æ•°çš„é‡å®šä½è¡¨é¡¹ï¼Œä¾‹å¦‚å¯¹è±¡æ–‡ä»¶çš„32ä½ç±»çš„Elf32_Relaç±»å‹ï¼ˆåé¢ä¼šè¯´è¿™é‡Œçš„åŠ æ•°æ˜¯ä»€ä¹ˆï¼‰</p>
<p>SHT_RELï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç€æ²¡æœ‰æ˜¾å¼åŠ æ•°çš„é‡å®šä½è¡¨é¡¹ã€‚ä¸€ä¸ªELFæ–‡ä»¶å¯èƒ½æœ‰å¤šä¸ªé‡å®šä½çš„sectionã€‚</p>
<p>SHT_HASHï¼šè¡¨ç¤ºå½“å‰èŠ‚ä¿å­˜ç€ä¸€ä¸ªç¬¦å·å“ˆå¸Œè¡¨ã€‚æ‰€æœ‰å‚ä¸åŠ¨æ€é“¾æ¥çš„å¯¹è±¡æ–‡ä»¶å¿…é¡»åŒ…å«ä¸€ä¸ªç¬¦å·å“ˆå¸Œè¡¨ </p>
<p>SHT_NOTEï¼šè¡¨ç¤ºå½“å‰èŠ‚ä¿å­˜æ–‡ä»¶çš„æ³¨é‡Šä¿¡æ¯ </p>
<p>SHT_NOBITSï¼šè¡¨ç¤ºä¸å ä»»ä½•ç©ºé—´çš„èŠ‚ä¿¡æ¯ï¼Œè™½ç„¶è¯¥èŠ‚ä¸åŒ…å«å­—èŠ‚ï¼Œä½†æ˜¯sh_offsetæˆå‘˜åŒ…å«æ¦‚å¿µä¸Šçš„æ–‡ä»¶åç§»é‡ </p>
<p>SHT_SHLIBï¼šè¯¥èŠ‚ç±»å‹æ˜¯ä¿ç•™çš„ï¼Œä½†å…·æœ‰æœªæŒ‡å®šçš„è¯­ä¹‰ã€‚åŒ…å«è¿™ç§ç±»å‹çš„éƒ¨åˆ†çš„ç¨‹åºä¸ç¬¦åˆABIè§„èŒƒ </p>
<p>SHT_LOPROC ä¸ SHT_HIPROCï¼šè¿™ä¸ªèŒƒå›´å†…çš„å€¼ä¸ºç‰¹å®šäºå¤„ç†å™¨çš„è¯­ä¹‰ä¿ç•™ </p>
<p>SHT_LOUSERï¼šè¯¥ç±»å‹çš„èŠ‚è¡¨ç¤ºåº”ç”¨ç¨‹åºä¿ç•™çš„ç´¢å¼•èŒƒå›´çš„ä¸‹ç•Œ </p>
<p>SHT_HIUSERï¼šè¯¥ç±»å‹çš„èŠ‚è¡¨ç¤ºåº”ç”¨ç¨‹åºä¿ç•™çš„ç´¢å¼•èŒƒå›´çš„ä¸Šé™ </p>
<p>ä¸‹é¢é‡ç‚¹ä»‹ç»å‡ ä¸ªé‡è¦Section Typeã€‚</p>
<h2 id="String-table"><a href="#String-table" class="headerlink" title="String table"></a>String table</h2><p>å­—ç¬¦ä¸²è¡¨èŠ‚ä¿å­˜ä»¥ç©ºç™½ç¬¦ç»“å°¾çš„å­—ç¬¦ä¸²åºåˆ—ã€‚ELFæ–‡ä»¶ä½¿ç”¨è¿™äº›å­—ç¬¦ä¸²æ¥è¡¨ç¤ºç¬¦å·å’ŒèŠ‚åã€‚ä½¿ç”¨æ–¹å¼ï¼Œæ˜¯ç¬¦å·ä¿å­˜ä¸€ä¸ªæŒ‡å‘æ”¯ä»˜ä¸²æ ‡çš„ç´¢å¼•ä¸‹æ ‡ï¼Œç»“æŸå­—ç¬¦æ˜¯ç©ºç™½ç¬¦ã€‚</p>
<h2 id="symbol-table"><a href="#symbol-table" class="headerlink" title="symbol table"></a>symbol table</h2><p>ä¸€ä¸ªELFæ–‡ä»¶çš„ç¬¦å·è¡¨ä¿å­˜äº†<strong>éœ€è¦</strong>è¿›è¡Œé‡å®šä½ç¨‹åºçš„ç¬¦å·å®šä¹‰ã€‚</p>
<p>åœ¨Section Headerä¸­ï¼Œtypeä¸ºSYMTABçš„å°±æ˜¯ã€‚</p>
<p><code>readelf -s fun.o</code></p>
<p><code>readelf -s fun.so</code></p>
<p><code>readelf -s main.o</code></p>
<p>æœ‰2ä¸ªç¬¦å·è¡¨ï¼Œåˆ†åˆ«æ˜¯.dynsym ã€.symtabï¼Œå…¶ä¸­.oçš„é™æ€é“¾æ¥æ–‡ä»¶æ²¡æœ‰.dynsymã€‚</p>
<p>æºç å®šä¹‰çš„ç»“æ„ä½“ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Symbol table entry.  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  Elf32_Word    st_name;                <span class="comment">/* Symbol name (string tbl index) */</span></span><br><span class="line">  Elf32_Addr    st_value;               <span class="comment">/* Symbol value */</span></span><br><span class="line">  Elf32_Word    st_size;                <span class="comment">/* Symbol size */</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> st_info;                <span class="comment">/* Symbol type and binding */</span></span><br><span class="line">  <span class="type">unsigned</span> <span class="type">char</span> st_other;               <span class="comment">/* Symbol visibility */</span></span><br><span class="line">  Elf32_Section st_shndx;               <span class="comment">/* Section index */</span></span><br><span class="line">&#125; Elf32_Sym;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>st_nameï¼Œç›®æ ‡æ–‡ä»¶çš„å­—ç¬¦ä¸²æ ‡çš„ç´¢å¼•ä¸‹æ ‡ã€‚</p>
<p>st_valueï¼Œå…³è”ç¬¦å·å€¼ï¼ˆSymbol Valuesï¼‰</p>
<p>åœ¨ä¸åŒçš„å¯¹è±¡æ–‡ä»¶ï¼ˆELFï¼‰ä¸­è§£é‡Šä¸åŒï¼š</p>
<ul>
<li>å¯é‡å®šä½æ–‡ä»¶ä¸­ï¼ŒèŠ‚indexæ˜¯SHN_COMMONï¼Œst_valueä¿å­˜çš„æ˜¯ä¸€ä¸ªç¬¦å·çš„å¯¹é½çº¦æŸ</li>
<li>å¯é‡å®šä½æ–‡ä»¶ä¸­ï¼Œst_valueä¿å­˜çš„æ˜¯æ˜¯ä¸€ä¸ªå·²å®šä¹‰çš„èŠ‚åç§»é‡ï¼Œå³st_shndxæ ‡è¯†å¼€å§‹çš„åœ°æ–¹å¼€å§‹çš„åç§»é‡ã€‚</li>
<li>åœ¨å¯æ‰§è¡Œå’Œå…±äº«æ–‡ä»¶ä¸­ï¼Œst_valueä¿å­˜ä¸€ä¸ªç”¨æˆ·å†…å­˜æ’å¸ƒçš„è™šæ‹Ÿåœ°å€ã€‚</li>
</ul>
<p>st_infoåœ¨ç¬¦å·è¡¨ä¸­æ˜¾ç¤ºä¸ºTypeå­—æ®µå’ŒBindå­—æ®µï¼ŒTypeæä¾›äº†å…³è”å®ä½“çš„ä¸€èˆ¬åˆ†ç±»ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* How to extract and insert information held in the st_info field.  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELF32_ST_BIND(val)              (((unsigned char) (val)) &gt;&gt; 4)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELF32_ST_TYPE(val)              ((val) &amp; 0xf)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ELF32_ST_INFO(bind, type)       (((bind) &lt;&lt; 4) + ((type) &amp; 0xf))</span></span><br><span class="line"><span class="comment">/* Legal values for ST_TYPE subfield of st_info (symbol type).  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_NOTYPE      0               <span class="comment">/* Symbol type is unspecified */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_OBJECT      1               <span class="comment">/* Symbol is a data object */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_FUNC        2               <span class="comment">/* Symbol is a code object */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_SECTION     3               <span class="comment">/* Symbol associated with a section */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_FILE        4               <span class="comment">/* Symbol&#x27;s name is file name */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_COMMON      5               <span class="comment">/* Symbol is a common data object */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_TLS         6               <span class="comment">/* Symbol is thread-local data object*/</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_NUM         7               <span class="comment">/* Number of defined types.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_LOOS        10              <span class="comment">/* Start of OS-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_GNU_IFUNC   10              <span class="comment">/* Symbol is indirect code object */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_HIOS        12              <span class="comment">/* End of OS-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_LOPROC      13              <span class="comment">/* Start of processor-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STT_HIPROC      15              <span class="comment">/* End of processor-specific */</span></span></span><br></pre></td></tr></table></figure>



<p>Bindå­—æ®µï¼Œå†³å®šäº†è¯¥ç¬¦å·è®°å½•çš„å¯è§æ€§å’Œè¡Œä¸ºã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Legal values for ST_BIND subfield of st_info (symbol binding).  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_LOCAL       0               <span class="comment">/* Local symbol */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_GLOBAL      1               <span class="comment">/* Global symbol */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_WEAK        2               <span class="comment">/* Weak symbol */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_NUM         3               <span class="comment">/* Number of defined types.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_LOOS        10              <span class="comment">/* Start of OS-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_GNU_UNIQUE  10              <span class="comment">/* Unique symbol.  */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_HIOS        12              <span class="comment">/* End of OS-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_LOPROC      13              <span class="comment">/* Start of processor-specific */</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STB_HIPROC      15              <span class="comment">/* End of processor-specific */</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸»è¦å…³æ³¨STB_LOCALã€STB_GLOBALã€STB_WEAKã€‚</p>
<p>STB_GLOBALå’ŒSTB_WEAKåŒºåˆ«ä¸»è¦ä½“ç°åœ¨ï¼Œå½“è¿æ¥å™¨ç»„åˆå‡ ä¸ªå¯é‡å®šä½æ–‡ä»¶æ—¶ï¼Œä¸å…è®¸STB_GLOBALç¬¦å·æœ‰ç›¸åŒåç§°çš„å¤šä¸ªå®šä¹‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœå·²å®šä¹‰çš„å…¨å±€ç¬¦å·å­˜åœ¨äº†ï¼Œåˆ™ç”¨åŒåå¼±ç¬¦å·ä¸ä¼šæŠ¥é”™ï¼Œæ­¤æ—¶å¿½ç•¥å¼±ç¬¦å·ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">readelf -s main.o</span><br><span class="line"></span><br><span class="line">Symbol table <span class="string">&#x27;.symtab&#x27;</span> contains 16 entries:</span><br><span class="line">   Num:    Value          Size Type    Bind   Vis      Ndx Name</span><br><span class="line">     0: 0000000000000000     0 NOTYPE  LOCAL  DEFAULT  UND </span><br><span class="line">     1: 0000000000000000     0 FILE    LOCAL  DEFAULT  ABS main.c</span><br><span class="line">     2: 0000000000000000     0 SECTION LOCAL  DEFAULT    1 </span><br><span class="line">     3: 0000000000000000     0 SECTION LOCAL  DEFAULT    3 </span><br><span class="line">     4: 0000000000000000     0 SECTION LOCAL  DEFAULT    4 </span><br><span class="line">     5: 0000000000000000     0 SECTION LOCAL  DEFAULT    5 </span><br><span class="line">     6: 0000000000000004     4 OBJECT  LOCAL  DEFAULT    3 a.2180</span><br><span class="line">     7: 0000000000000000     4 OBJECT  LOCAL  DEFAULT    4 b.2181</span><br><span class="line">     8: 0000000000000000     0 SECTION LOCAL  DEFAULT    7 </span><br><span class="line">     9: 0000000000000000     0 SECTION LOCAL  DEFAULT    8 </span><br><span class="line">    10: 0000000000000000     0 SECTION LOCAL  DEFAULT    6 </span><br><span class="line">    11: 0000000000000000     4 OBJECT  GLOBAL DEFAULT    3 g1</span><br><span class="line">    12: 0000000000000004     4 OBJECT  GLOBAL DEFAULT  COM g2</span><br><span class="line">    13: 0000000000000000    68 FUNC    GLOBAL DEFAULT    1 main</span><br><span class="line">    14: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND func</span><br><span class="line">    15: 0000000000000000     0 NOTYPE  GLOBAL DEFAULT  UND <span class="built_in">printf</span></span><br></pre></td></tr></table></figure>

<p>Ndxæ˜¯sectionçš„header tableä¸­çš„indexï¼Œå…¶ä¸­UNDä¸åœ¨mainä¸­ã€‚</p>
<p>g1ã€g2å…¨å±€Objectï¼ˆæ•°æ®å¯¹è±¡ï¼‰ï¼Œæ‰€å±çš„sectionä¸ä¸€æ ·ã€‚g2 COMMONå­˜æ”¾æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡ï¼Œ.bssæœªåˆå§‹åŒ–çš„é™æ€å˜é‡ï¼Œåˆå§‹åŒ–ä¸º0çš„å…¨å±€æˆ–é™æ€å˜é‡ï¼ˆä¸¤è€…åŒºåˆ«ï¼‰ã€‚</p>
<p>å±€éƒ¨Objectaå’Œbå­˜æ”¾ä½ç½®ä¸åŒï¼Œaåˆå§‹åŒ–äº†ï¼Œbåˆå§‹åŒ–ä¸º0ï¼ˆå¹¶æ²¡ä»€ä¹ˆç”¨ï¼‰ã€‚ a.2180 å’Œb.2181ï¼Œæ˜¯åç§°ä¿®é¥°ï¼Œé˜²æ­¢é‡å¤ã€‚</p>
<h2 id="Relocation-section"><a href="#Relocation-section" class="headerlink" title="Relocation section"></a>Relocation section</h2><p> <strong>é‡å®šä½RelocationåŸºæœ¬æ¦‚å¿µï¼šæ˜¯å°†ç¬¦å·å¼•ç”¨å’Œç¬¦å·å®šä¹‰è¿æ¥èµ·æ¥çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚ç¼–è¯‘ä¸­é™æ€é“¾æ¥åº“åˆå¹¶åˆ°ä¸€èµ·æ—¶ï¼Œå„è‡ªæ–‡ä»¶ä¸­çš„å†…å­˜ç›¸å¯¹åœ°å€æ›´æ–°åˆ°æ–°æ–‡ä»¶ä¸­çš„åœ°å€ã€‚</strong>åˆæ¯”å¦‚ï¼Œä¸€ä¸ªç¨‹åºè°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œç›¸å…³è°ƒç”¨æŒ‡ä»¤ï¼ˆcall sumï¼‰å¿…é¡»åœ¨æ‰§è¡Œæ—¶å°†è°ƒç”¨ç¬¦å·åˆ†é…é€‚å½“çš„ç›®æ ‡åœ°å€ï¼ˆcall 0x800001ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œå¯é‡å®šä½æ–‡ä»¶å¿…é¡»æä¾›å…·æœ‰æè¿°å¦‚ä½•ä¿®æ”¹èŠ‚å†…å®¹çš„ä¿¡æ¯ï¼Œä»è€Œå…è®¸å¯æ‰§è¡Œå’Œå…±äº«ç›®æ ‡æ–‡ä»¶ä¿å­˜è¿›ç¨‹è£…è½½æ‰§è¡Œæ‰€éœ€è¦çš„æ­£ç¡®ä¿¡æ¯ã€‚</p>
<p>åœ¨Section Headerä¸­ï¼ŒTypeæ˜¯RELAæˆ–RELçš„å°±æ˜¯ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Relocation table entry without addend (in section of type SHT_REL).  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  Elf32_Addr    r_offset;               <span class="comment">/* Address */</span></span><br><span class="line">  Elf32_Word    r_info;                 <span class="comment">/* Relocation type and symbol index */</span></span><br><span class="line">&#125; Elf32_Rel;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Relocation table entry with addend (in section of type SHT_RELA).  */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">  Elf32_Addr    r_offset;               <span class="comment">/* Address */</span></span><br><span class="line">  Elf32_Word    r_info;                 <span class="comment">/* Relocation type and symbol index */</span></span><br><span class="line">  Elf32_Sword   r_addend;               <span class="comment">/* Addend */</span></span><br><span class="line">&#125; Elf32_Rela;</span><br></pre></td></tr></table></figure>

<p>r_offsetä¸åŒç›®æ ‡æ–‡ä»¶çš„é‡å®šä½è¡¨è±¡çš„è§£é‡Šç•¥æœ‰ä¸åŒï¼š</p>
<ul>
<li>å¯é‡å®šä½æ–‡ä»¶ï¼Œr_offsetä¿å­˜ç€ä¸€ä¸ªä»èŠ‚å¼€å¤´åˆ°éœ€è¦é‡å®šä½çš„å†…å­˜å•å…ƒçš„å­—èŠ‚åç§»é‡ã€‚</li>
<li>å¯æ‰§è¡Œå’Œå…±äº«æ–‡ä»¶ä¸­ï¼Œr_offsetä¿å­˜çš„æ˜¯è™šæ‹Ÿåœ°å€ï¼Œç”¨æˆ·å†…å­˜æ’å¸ƒæ ‡è¯†ã€‚</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">readelf -r main.o</span><br><span class="line">readelf -r fun.o</span><br><span class="line">readelf -r fun.so</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>r_infoè¡¨ç¤ºç¬¦å·è¡¨ç´¢å¼•ä»¥åŠé‡å®šä½ç±»å‹ï¼ˆåœ°å€è§£æç±»å‹ï¼‰ã€‚</p>
<p>ä¸€ä¸ªé‡å®šä½èŠ‚å¼•ç”¨å¦å¤–2ä¸ªèŠ‚ï¼Œç¬¦å·è¡¨å’Œè¦ä¿®æ”¹çš„èŠ‚ã€‚èŠ‚å¤´çš„sh_infoå’Œsh_linkæˆå‘˜ï¼Œåœ¨ä¸Šé¢çš„èŠ‚ä¿¡æ¯ä¸­æè¿°ï¼ŒæŒ‡å®šäº†è¿™äº›å…³ç³»ã€‚</p>
<h2 id="ç‰¹æ®Šçš„èŠ‚"><a href="#ç‰¹æ®Šçš„èŠ‚" class="headerlink" title="ç‰¹æ®Šçš„èŠ‚"></a>ç‰¹æ®Šçš„èŠ‚</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">readelf -l main</span><br></pre></td></tr></table></figure>

<p>Section to Segment mappingï¼ŒèŠ‚å’Œæ®µsegmentçš„æ˜ å°„ã€‚æ˜¯ä¸ªç‰¹æ®Šçš„èŠ‚ï¼Œç”¨äºä¿å­˜ç¨‹åºä¿¡æ¯å’Œæ§åˆ¶ä¿¡æ¯ã€‚ä¸æ¸…æ¥šä¸ºä»€ä¹ˆè¢«åˆ’åˆ†åˆ° program headersç±»åˆ«ä¸­ã€‚.systabå’Œ.rel(.rela)ä¸Šé¢ä¸¤èŠ‚æè¿°äº†ã€‚</p>
<ul>
<li>.initï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†è¿›ç¨‹åˆå§‹åŒ–ä»£ç çš„å¯æ‰§è¡ŒæŒ‡ä»¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªç¨‹åºå¼€å§‹è¿è¡Œæ—¶ï¼Œå°†ä¼šåœ¨è°ƒç”¨ä¸»ç¨‹åºå…¥å£ç‚¹ï¼ˆCç¨‹åºçš„mainå‡½æ•°ï¼‰ä¹‹å‰æ‰§è¡Œè¿™ä¸€éƒ¨åˆ†çš„ä»£ç </li>
<li>.bssï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç€æœªåˆå§‹åŒ–çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®æ„æˆäº†ç¨‹åºçš„æ•°æ®å†…å­˜æ’å¸ƒã€‚æ ¹æ®å®šä¹‰ï¼Œå½“ç¨‹åºå¼€å§‹è¿è¡Œæ—¶ï¼Œç³»ç»Ÿç”¨é›¶åˆå§‹åŒ–è¿™äº›æ•°æ®ã€‚èŠ‚ç±»å‹ SHT_NOBITS è¡¨ç¤ºè¯¥èŠ‚ä¸å ç”¨æ–‡ä»¶ç©ºé—´ã€‚</li>
<li>.data å’Œ .data1ï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç€å·²ç»åˆå§‹åŒ–çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®æ„æˆäº†ç¨‹åºçš„æ•°æ®å†…å­˜æ’å¸ƒ</li>
<li>.dynamicï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜åŠ¨æ€é“¾æ¥ä¿¡æ¯</li>
<li>.dynstrï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜åŠ¨æ€é“¾æ¥æ‰€éœ€çš„å­—ç¬¦ä¸²ï¼Œæœ€å¸¸è§çš„æ˜¯è¡¨ç¤ºç¬¦å·è¡¨é¡¹ç›¸å…³åç§°çš„å­—ç¬¦ä¸²</li>
<li>.dynsymï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç€åŠ¨æ€é“¾æ¥ç¬¦å·è¡¨</li>
<li>.finiï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†è¿›ç¨‹ç»ˆæ­¢ä»£ç çš„å¯æ‰§è¡ŒæŒ‡ä»¤ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä¸€ä¸ªç¨‹åºæ­£å¸¸é€€å‡ºæ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸€éƒ¨åˆ†çš„ä»£ç </li>
<li>.gotï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†å…¨å±€åç§»é‡è¡¨</li>
<li>.hashï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†ç¬¦å·hashè¡¨</li>
<li>.pltï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†ç¨‹åºè¿æ¥è¡¨ä¿¡æ¯</li>
<li>.rel name å’Œ .rela nameï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç€é‡å®šä½ä¿¡æ¯ã€‚å¦‚æœæ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªåŒ…å«é‡å®šä½çš„å¯åŠ è½½æ®µï¼Œåˆ™èŠ‚çš„å±æ€§å°†åŒ…å« SHF_ALLOC ã€‚é€šå¸¸ï¼Œname ç”±é‡å®šä½çš„èŠ‚æä¾›ã€‚å› æ­¤.text çš„é‡å®šä½èŠ‚çš„åç§°é€šå¸¸ä¸º.rel.text æˆ– .rela.text</li>
<li>.rodata å’Œ .rodata1ï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜åªè¯»æ•°æ®ï¼Œè¿™äº›æ•°æ®é€šå¸¸ä¼šåœ¨è¿›ç¨‹ä¸­å½¢æˆä¸€ä¸ªä¸å¯å†™çš„æ•°æ®æ®µ</li>
<li>.shstrtabï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜èŠ‚çš„åå­—</li>
<li>.strtabï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜å­—ç¬¦ä¸²ä¿¡æ¯ï¼Œæœ€å¸¸è§çš„æ˜¯è¡¨ç¤ºä¸ç¬¦å·è¡¨é¡¹å…³è”çš„åç§°çš„å­—ç¬¦ä¸²</li>
<li>.symtabï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç¬¦å·è¡¨ä¿¡æ¯</li>
<li>.textï¼šè¡¨ç¤ºå½“å‰èŠ‚åŒ…å«ç¨‹åºçš„å¯æ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—ä¿¡æ¯</li>
<li>.commentï¼šæŒæœ‰æ³¨é‡Šä¿¡æ¯</li>
<li>.interpï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç¨‹åºåŠ¨æ€é“¾æ¥å™¨çš„è·¯å¾„åã€‚å¦‚æœæ–‡ä»¶ä¸­æœ‰ä¸€ä¸ªåŒ…å«è¯¥èŠ‚çš„å¯åŠ è½½æ®µï¼Œè¯¥èŠ‚çš„å±æ€§å°†åŒ…æ‹¬SHF_ALLOCä½</li>
<li>.lineï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜ç”¨äºç¬¦å·è°ƒè¯•çš„è¡Œå·ä¿¡æ¯ï¼Œå®ƒæè¿°äº†æºç¨‹åºå’Œæœºå™¨ç ä¹‹é—´çš„å¯¹åº”å…³ç³»</li>
<li>.noteï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†æ ‡æ³¨ä¿¡æ¯</li>
<li>.debugï¼šè¡¨ç¤ºè¯¥èŠ‚ä¿å­˜äº†ç”¨äºè°ƒè¯•çš„ç¬¦å·ä¿¡æ¯</li>
</ul>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>elfå®˜æ–¹æ–‡æ¡£ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://refspecs.linuxfoundation.org/elf/elf.pdf">https://refspecs.linuxfoundation.org/elf/elf.pdf</a></p>
<p>çŸ¥è¯†æ˜Ÿçƒæ··æ²Œå­¦å ‚â€”é»„ä¿Šï¼š</p>
<p><a target="_blank" rel="noopener" href="https://articles.zsxq.com/id_iwals7svgn0g.html">https://articles.zsxq.com/id_iwals7svgn0g.html</a></p>
<p><a target="_blank" rel="noopener" href="https://articles.zsxq.com/id_ohm2xh6becp2.html">https://articles.zsxq.com/id_ohm2xh6becp2.html</a></p>
<p><a target="_blank" rel="noopener" href="https://articles.zsxq.com/id_n35kk7n2sf0e.html">https://articles.zsxq.com/id_n35kk7n2sf0e.html</a></p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2022/10/11/JDK%E4%B8%ADJUC%E5%8C%85%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94atomic%E5%8C%85/">JDKä¸­JUCåŒ…ç”±æµ…å…¥æ·±åŸç†â€”â€”atomicåŒ…</a><a class="next" href="/2021/06/07/SpringBoot%E4%B9%8B%E5%8D%9A%E5%AE%A2%E5%AE%9E%E6%88%98/">SpringBootä¹‹åšå®¢å®æˆ˜</a></div><div id="vcomment"></div><script src="//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'0indNw0niJU8jN2a1E43bDW7-gzGzoHsz',
  appKey:'toErPcjDI3431WvXQVKoy0rC',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://windanchaos.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="å…³äº"><img src="/images/avatar.jpeg"/></a><p>ç‰©æœ‰æœ¬æœ«ï¼Œäº‹æœ‰ç»ˆå§‹ã€‚çŸ¥æ‰€å…ˆåï¼Œåˆ™è¿‘é“çŸ£ï¼</p><a class="info-icon" href="https://blog.csdn.net/windanchaos" title="CSDN" target="_blank" style="margin-inline:5px"> <i class="fa fa-CSDN-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:454522630@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/windanchaos" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://gitee.com/windanchaos" title="Gitee" target="_blank" style="margin-inline:5px"> <i class="fa fa-gitee-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">Javaç¼–ç¨‹è¯­è¨€</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E7%AE%A1%E7%90%86%E7%BB%B4%E6%8A%A4/">Linuxç®¡ç†ç»´æŠ¤</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/">MySQLæ•°æ®åº“</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">pythonç¼–ç¨‹è¯­è¨€</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">å‰ç«¯æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">åç«¯æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">æ€§èƒ½æµ‹è¯•</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">æŒç»­é›†æˆ</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">æ•°æ®ç»“æ„ä¸ç®—æ³•</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B9%E6%B3%95%E4%B8%8E%E7%AE%A1%E7%90%86/">æ–¹æ³•ä¸ç®¡ç†</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E6%96%87/">æ‚æ–‡</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8B%E8%AF%95%E7%9A%84%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">æµ‹è¯•çš„æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E5%A4%A7%E6%9D%82%E7%83%A9/">ç”Ÿæ´»å¤§æ‚çƒ©</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%82%A1%E7%A5%A8%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93/">è‚¡ç¥¨é‡åŒ–äº¤æ˜“</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">è‡ªåŠ¨åŒ–æµ‹è¯•</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºç§‘å­¦åŸºç¡€</a><span class="category-list-count">11</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/FromCSDN/" style="font-size: 15px;">FromCSDN</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">è®¡ç®—æœºåŸºç¡€</a> <a href="/tags/testerhome/" style="font-size: 15px;">testerhome</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/10/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%84%E5%B1%82%E6%AC%A1%E6%89%A7%E8%A1%8C%E9%80%9F%E5%BA%A6/">è®¡ç®—æœºå„å±‚æ¬¡æ‰§è¡Œé€Ÿåº¦</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/11/JDK%E4%B8%ADJUC%E5%8C%85%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94atomic%E5%8C%85/">JDKä¸­JUCåŒ…ç”±æµ…å…¥æ·±åŸç†â€”â€”atomicåŒ…</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/22/ELF%E5%AD%A6%E4%B9%A0%E4%B8%80/">ELFå­¦ä¹ ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/07/SpringBoot%E4%B9%8B%E5%8D%9A%E5%AE%A2%E5%AE%9E%E6%88%98/">SpringBootä¹‹åšå®¢å®æˆ˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/17/shell%E4%B8%89%E5%89%91%E5%AE%A2%E5%AE%9E%E6%88%98/">shellä¸‰å‰‘å®¢å®æˆ˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/16/mybatis%E5%85%A5%E4%B8%AA%E9%97%A8/">mybatiså…¥ä¸ªé—¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/23/SpringBoot%E5%85%A5%E9%97%A8%E7%B3%BB%E5%88%97%E4%B8%80/">SpringBootå…¥é—¨ç³»åˆ—ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/23/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%BA%8C/">Javaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯è¯»ä¹¦ç¬”è®°äºŒ</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/20/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%BC%96%E7%A8%8B%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%E4%B8%80/">Javaå¤šçº¿ç¨‹ç¼–ç¨‹æ ¸å¿ƒæŠ€æœ¯è¯»ä¹¦ç¬”è®°ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/19/Spring%E6%A1%86%E6%9E%B6%E5%85%A5%E4%B8%AA%E9%97%A8/">Springæ¡†æ¶å…¥ä¸ªé—¨</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2022 <a href="/." rel="nofollow">windanchaos.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>