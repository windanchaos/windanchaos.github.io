<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>ã€8 ä½ CPUã€‘ç»™ CPU æ·»åŠ æ§åˆ¶ç³»ç»Ÿå’ŒæŒ‡ä»¤ç³»ç»Ÿ | windanchaos</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ã€8 ä½ CPUã€‘ç»™ CPU æ·»åŠ æ§åˆ¶ç³»ç»Ÿå’ŒæŒ‡ä»¤ç³»ç»Ÿ</h1><a id="logo" href="/.">windanchaos</a><p class="description">æ­£æ–‡å›¾ç‰‡æ˜¾ç¤ºéœ€ä½¿ç”¨éChromeæ— è·¨åŸŸé™åˆ¶çš„æµè§ˆå™¨</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/me.html"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ã€8 ä½ CPUã€‘ç»™ CPU æ·»åŠ æ§åˆ¶ç³»ç»Ÿå’ŒæŒ‡ä»¤ç³»ç»Ÿ</h1><div class="post-meta">2023-02-25<span> | </span><span class="category"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºç§‘å­¦åŸºç¡€</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span></div><a class="disqus-comment-count" href="/2023/02/25/%E3%80%908-%E4%BD%8D-CPU%E3%80%91%E7%BB%99-CPU-%E6%B7%BB%E5%8A%A0%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%92%8C%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/#vcomment"><span class="valine-comment-count" data-xid="/2023/02/25/%E3%80%908-%E4%BD%8D-CPU%E3%80%91%E7%BB%99-CPU-%E6%B7%BB%E5%8A%A0%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%92%8C%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/"></span><span> æ¡è¯„è®º</span></a><div class="post-content"><p>CPUè®¡åˆ’å®Œç»“æ•£èŠ±:tada: :tada: :tada: ã€‚</p>
<h1 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h1><p>ç»™æ¯ä¸ªé€»è¾‘å…ƒä»¶æ·»åŠ æ§åˆ¶å•å…ƒä»¥è¾¾åˆ°ï¼Œä¸åŒè¾“å…¥ç»„åˆå¯¹åº”ä¸åŒçš„è¾“å‡ºã€‚ç”±äºæˆ‘ä»¬å·²å®ç°äº†å¯„å­˜å™¨ï¼ˆä¸€ç§èƒ½å¤Ÿè®°ä½1byteçš„å•å…ƒï¼‰ï¼Œé‚£ä¹ˆéå¯ä»¥æ§åˆ¶å…¶å…è®¸è¾“å…¥&#x2F;è¾“å‡ºã€‚<br>ä¸åŒçš„åŸä»¶ï¼ŒåŒä¸€æ—¶åˆ»çš„å…è®¸è¾“å…¥è¾“å‡ºçŠ¶æ€å°±å®šä¹‰äº†å½“æ—¶å•å…ƒå’Œå•å…ƒä¹‹é—´çš„å…³ç³»ï¼Œå¦‚Aå¯„å­˜å™¨è¾“å‡ºï¼ŒBæ˜¯è¾“å…¥ï¼Œå…¶ä»–ä¸è®¾ç½®ï¼Œé‚£ä¹ˆæ­¤åˆ»å®Œæˆäº†Aå¯„å­˜å™¨å‘Bå¯„å­˜å™¨ä¼ è¾“æ•°æ®çš„ç›®çš„ã€‚å¦‚æ­¤ç±»æ¨ã€‚</p>
<h1 id="æ§åˆ¶å•å…ƒ-Control-Unit"><a href="#æ§åˆ¶å•å…ƒ-Control-Unit" class="headerlink" title="æ§åˆ¶å•å…ƒ Control Unit"></a>æ§åˆ¶å•å…ƒ Control Unit</h1><p>æ§åˆ¶å•å…ƒæ˜¯CPUçš„æ ¸å¿ƒéƒ¨ä»¶ï¼Œç”±å¯„å­˜å™¨æ§åˆ¶å™¨ã€è¯»å†™æ§åˆ¶å™¨åŠå…¶ä»–è¾“å…¥è¾“å…¥æ„æˆã€‚å¦‚ä¸‹ï¼š</p>
<h2 id="æ§åˆ¶å•å…ƒæ¥çº¿â€”â€”æ€»è§ˆ"><a href="#æ§åˆ¶å•å…ƒæ¥çº¿â€”â€”æ€»è§ˆ" class="headerlink" title="æ§åˆ¶å•å…ƒæ¥çº¿â€”â€”æ€»è§ˆ"></a>æ§åˆ¶å•å…ƒæ¥çº¿â€”â€”æ€»è§ˆ</h2><p>å°†å¯„å­˜å™¨æ§åˆ¶å™¨å’Œè¯»å†™æ§åˆ¶å™¨æ¥çº¿ï¼Œè¾“å…¥32ä½ï¼Œå¯¹åº”ä½å®ç°ä¸åŒç›®çš„ï¼š</p>
<ul>
<li>ä½10ä½åˆ†2ç»„ï¼Œ5+5åˆ†åˆ«æ ‡è¯†å†™å’Œè¯»ï¼Œæ¥çº¿åˆ°RWCä¸Šè¾“å…¥å“ªä¸ªå•å…ƒè¯»ã€å“ªä¸ªå•å…ƒå†™ã€‚</li>
<li>ç¬¬11-15ä½åˆ†åˆ«æ ‡è¯†æºè¯»ã€æºå†™ï¼Œç›®çš„è¯»ã€ç›®çš„å†™</li>
<li>ç¬¬16-19ä½ä½PCè®¡æ•°</li>
<li>ç¬¬20-23ä½ä¸ºå››åˆ™è¿ç®—ç»„åˆï¼Œä¸€ç§8ç§</li>
<li>ç¬¬24-28 ä¸ºæ§åˆ¶ALUå•å…ƒç»„åˆ<br><img src="https://testerhome.com/uploads/photo/2023/46bf1f0b-4a56-4117-a8d3-c0dc718b5193.png!large"></li>
</ul>
<h2 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h2><p>æ—¶é’Ÿä¸‹é™æ²¿ï¼ˆ1-&gt;0)æ—¶å®ŒæˆæŒ‡ä»¤è®¡æ•°ï¼Œé‡æ–°è®¡æ•°ã€‚æ˜¯æ§åˆ¶æŒ‡ä»¤å‘¨æœŸç”¨çš„ã€‚</p>
<h2 id="å¯„å­˜å™¨æ§åˆ¶-RC"><a href="#å¯„å­˜å™¨æ§åˆ¶-RC" class="headerlink" title="å¯„å­˜å™¨æ§åˆ¶ RC"></a>å¯„å­˜å™¨æ§åˆ¶ RC</h2><p>è¯´æ˜ï¼ŒW\Ræ˜¯5ä½è¾“å…¥ï¼Œé€šè¿‡ä¸€ä¸ª5-32è¯‘ç å™¨è½¬æ¢æˆ0-32ï¼Œå¯è¯†åˆ«32ä¸ªå¯„å­˜å™¨ã€‚<br><img src="https://testerhome.com/uploads/photo/2023/1317f0bf-2c5e-40d3-bc27-41569615919f.png!large"></p>
<h2 id="è¯»å†™æ§åˆ¶å™¨RWC"><a href="#è¯»å†™æ§åˆ¶å™¨RWC" class="headerlink" title="è¯»å†™æ§åˆ¶å™¨RWC"></a>è¯»å†™æ§åˆ¶å™¨RWC</h2><p>è¯»å†™æ§åˆ¶å™¨ä¹Ÿæ˜¯5ä½è¾“å…¥ï¼Œæ¥å¯„å­˜å™¨æ§åˆ¶å™¨<br><img src="https://testerhome.com/uploads/photo/2023/9dd4e5b2-30d7-44b0-830a-3445f09a9649.png!large"></p>
<h2 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a>ALU</h2><p>Aã€Bæ˜¯8ä½è¾“å…¥ï¼ŒOPæ˜¯3ä½ï¼Œ3-8è¯‘ç å™¨ï¼Œè½¬ä¸º1-8ï¼Œå¯æ”¯æŒ8ç§è¿ç®—ã€‚<br>1&#x3D;åŠ æ³•    2&#x3D;å‡æ³•   3&#x3D;åŠ 1   4&#x3D;å‡1   5&#x3D;And    6&#x3D;OR   7&#x3D;XOR    8&#x3D;å–å<br><img src="https://testerhome.com/uploads/photo/2023/a1fbf119-52c4-42dd-a8ec-b1a224c2d35c.png!large"></p>
<h2 id="å†…å­˜æ§åˆ¶å™¨MC"><a href="#å†…å­˜æ§åˆ¶å™¨MC" class="headerlink" title="å†…å­˜æ§åˆ¶å™¨MC"></a>å†…å­˜æ§åˆ¶å™¨MC</h2><p>RAMä»£è¡¨å†…å­˜ï¼ŒMCä¸ºå…¶æ§åˆ¶å•å…ƒ<br><img src="https://testerhome.com/uploads/photo/2023/ed3d26de-70ea-4d41-b941-0bcecb4ce211.png!large"></p>
<h2 id="CPUæ¥çº¿"><a href="#CPUæ¥çº¿" class="headerlink" title="CPUæ¥çº¿"></a>CPUæ¥çº¿</h2><p><img src="https://testerhome.com/uploads/photo/2023/a271acf2-c048-4198-b22e-934f82953808.png!large"></p>
<h1 id="æŒ‡ä»¤ç³»ç»Ÿ"><a href="#æŒ‡ä»¤ç³»ç»Ÿ" class="headerlink" title="æŒ‡ä»¤ç³»ç»Ÿ"></a>æŒ‡ä»¤ç³»ç»Ÿ</h1><h2 id="æ‰§è¡Œçš„æ¨¡å¼"><a href="#æ‰§è¡Œçš„æ¨¡å¼" class="headerlink" title="æ‰§è¡Œçš„æ¨¡å¼"></a>æ‰§è¡Œçš„æ¨¡å¼</h2><p>é€šç”µä¹‹åï¼Œæ—¶é’Ÿå®šæ—¶è„‰åŠ¨ï¼Œæä¾›ç»™æ•´ä¸ªç”µè·¯ç”µå‹å˜åŒ–ã€‚é€šè¿‡control Uinitæ—è¾¹çš„ROMä¸­å†™å…¥æŒ‡ä»¤ï¼ˆ32ä½çš„01ç»„åˆæ•°ï¼‰ï¼ŒCUï¼ˆcontrol Unitï¼‰ çš„PCæ¯åŠ 1ï¼Œåˆ™æŒ‡ä»¤ROMè¯»å–çš„index +1ï¼Œè¾“å…¥åä»CUçš„dè¿›å…¥ï¼Œå®Œæˆå¯¹æ•´ä¸ªå•å…ƒçš„æ§åˆ¶ã€‚<br><img src="https://testerhome.com/uploads/photo/2023/ccc237ff-1176-40c3-a961-44ad763572e2.png!large"></p>
<ul>
<li>å–æŒ‡ä»¤ï¼šå…ˆä»RAMä¸­æŠŠæŒ‡ä»¤å–åˆ°IRå¯„å­˜å™¨ï¼Œç›®çš„æ“ä½œæ•°å–åˆ°DSTä¸­ï¼ŒåŸæ“ä½œæ•°å–åˆ°SRCä¸­ã€‚</li>
<li>è¯‘æŒ‡ä»¤ï¼ŒIRæŒ‡ä»¤è¿›å…¥CUä¸­ï¼Œä»L1è¾“å…¥ï¼ŒDSTä»L2è¾“å…¥ï¼ŒSRCä»L3è¾“å…¥â€”â€”æ‹¼å‡º  æ§åˆ¶ä¿¡æ¯ + æ“ä½œå•å…ƒ çš„ç»„åˆ</li>
</ul>
<p>æœ€åå¯¹è¿™äº›ç”µè·¯æŒ‰è®¾è®¡è½¬æˆä»£ç ï¼Œä»£ç å¤‡æ³¨ä¹Ÿç”±è¯´æ˜</p>
<h2 id="ç®¡è„šä»£ç "><a href="#ç®¡è„šä»£ç " class="headerlink" title="ç®¡è„šä»£ç "></a>ç®¡è„šä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯„å­˜å™¨ï¼ŒRAM=MC</span></span><br><span class="line">MSR = <span class="number">1</span></span><br><span class="line">MAR = <span class="number">2</span></span><br><span class="line">MDR = <span class="number">3</span></span><br><span class="line"><span class="comment"># RAMå°±æ˜¯MCæ§åˆ¶å™¨</span></span><br><span class="line">RAM = <span class="number">4</span></span><br><span class="line">IR = <span class="number">5</span></span><br><span class="line">DST = <span class="number">6</span></span><br><span class="line">SRC = <span class="number">7</span></span><br><span class="line">A = <span class="number">8</span></span><br><span class="line">B = <span class="number">9</span></span><br><span class="line">C = <span class="number">10</span></span><br><span class="line">D = <span class="number">11</span></span><br><span class="line">DI = <span class="number">12</span></span><br><span class="line">SI = <span class="number">13</span></span><br><span class="line">SP = <span class="number">14</span></span><br><span class="line">BP = <span class="number">15</span></span><br><span class="line">CS = <span class="number">16</span></span><br><span class="line">DS = <span class="number">17</span></span><br><span class="line">SS = <span class="number">18</span></span><br><span class="line">ES = <span class="number">19</span></span><br><span class="line">VEC = <span class="number">20</span></span><br><span class="line">T1 = <span class="number">21</span></span><br><span class="line">T2 = <span class="number">22</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯„å­˜å™¨è¾“å‡ºåˆ°æ€»çº¿ä¸Š</span></span><br><span class="line">MSR_OUT = MSR</span><br><span class="line">MAR_OUT = MAR</span><br><span class="line">MDR_OUT = MDR</span><br><span class="line">RAM_OUT = RAM</span><br><span class="line">IR_OUT = IR</span><br><span class="line">DST_OUT = DST</span><br><span class="line">SRC_OUT = SRC</span><br><span class="line">A_OUT = A</span><br><span class="line">B_OUT = B</span><br><span class="line">C_OUT = C</span><br><span class="line">D_OUT = D</span><br><span class="line">DI_OUT = DI</span><br><span class="line">SI_OUT = SI</span><br><span class="line">SP_OUT = SP</span><br><span class="line">BP_OUT = BP</span><br><span class="line">CS_OUT = CS</span><br><span class="line">DS_OUT = DS</span><br><span class="line">SS_OUT = SS</span><br><span class="line">ES_OUT = ES</span><br><span class="line">VEC_OUT = VEC</span><br><span class="line">T1_OUT = T1</span><br><span class="line">T2_OUT = T2</span><br><span class="line"></span><br><span class="line"><span class="comment"># å†™å…¥å¯„å­˜å™¨,æš‚æ—¶æ²¡ææ‡‚ä¸ºä»€ä¹ˆå·¦ç§»5ä½</span></span><br><span class="line">_DST_SHIFT = <span class="number">5</span></span><br><span class="line">MSR_IN = MSR &lt;&lt; _DST_SHIFT</span><br><span class="line">MAR_IN = MAR &lt;&lt; _DST_SHIFT</span><br><span class="line">MDR_IN = MDR &lt;&lt; _DST_SHIFT</span><br><span class="line">RAM_IN = RAM &lt;&lt; _DST_SHIFT</span><br><span class="line">IR_IN = IR &lt;&lt; _DST_SHIFT</span><br><span class="line">DST_IN = DST &lt;&lt; _DST_SHIFT</span><br><span class="line">SRC_IN = SRC &lt;&lt; _DST_SHIFT</span><br><span class="line">A_IN = A &lt;&lt; _DST_SHIFT</span><br><span class="line">B_IN = B &lt;&lt; _DST_SHIFT</span><br><span class="line">C_IN = C &lt;&lt; _DST_SHIFT</span><br><span class="line">D_IN = D &lt;&lt; _DST_SHIFT</span><br><span class="line">DI_IN = DI &lt;&lt; _DST_SHIFT</span><br><span class="line">SI_IN = SI &lt;&lt; _DST_SHIFT</span><br><span class="line">SP_IN = SP &lt;&lt; _DST_SHIFT</span><br><span class="line">BP_IN = BP &lt;&lt; _DST_SHIFT</span><br><span class="line">CS_IN = CS &lt;&lt; _DST_SHIFT</span><br><span class="line">DS_IN = DS &lt;&lt; _DST_SHIFT</span><br><span class="line">SS_IN = SS &lt;&lt; _DST_SHIFT</span><br><span class="line">ES_IN = ES &lt;&lt; _DST_SHIFT</span><br><span class="line">VEC_IN = VEC &lt;&lt; _DST_SHIFT</span><br><span class="line">T1_IN = T1 &lt;&lt; _DST_SHIFT</span><br><span class="line">T2_IN = T2 &lt;&lt; _DST_SHIFT</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”µè·¯ä¸­11-14ä½ä½œä¸ºRWCå•å…ƒçš„è¾“å…¥ï¼Œæ§åˆ¶Så’ŒDçš„è¯»å†™ï¼Œè½¯ä»¶å±‚é¢ç¡®è®¤ä¸åŒæ—¶è¯»å†™åŒä¸€ä¸ªå•å…ƒ</span></span><br><span class="line"><span class="comment"># srcä¸­çš„å€¼å¯¹åº”çš„å¯„å­˜å™¨ï¼Œè¯»å–å…¶å€¼</span></span><br><span class="line">SRC_R = <span class="number">1</span> &lt;&lt; <span class="number">10</span></span><br><span class="line">SRC_W = <span class="number">1</span> &lt;&lt; <span class="number">11</span></span><br><span class="line">DST_R = <span class="number">1</span> &lt;&lt; <span class="number">12</span></span><br><span class="line">DST_W = <span class="number">1</span> &lt;&lt; <span class="number">13</span></span><br><span class="line"></span><br><span class="line">PC_CS = <span class="number">1</span> &lt;&lt; <span class="number">14</span></span><br><span class="line">PC_WE = <span class="number">1</span> &lt;&lt; <span class="number">15</span></span><br><span class="line">PC_EN = <span class="number">1</span> &lt;&lt; <span class="number">16</span></span><br><span class="line">PC_OUT = PC_CS</span><br><span class="line">PC_IN = PC_CS | PC_WE | PC_EN</span><br><span class="line">PC_INC = PC_CS | PC_WE</span><br><span class="line"></span><br><span class="line"><span class="comment"># ALU</span></span><br><span class="line">_OP_SHIFT = <span class="number">17</span></span><br><span class="line">OP_ADD = <span class="number">0</span></span><br><span class="line">OP_SUB = <span class="number">1</span> &lt;&lt; _OP_SHIFT</span><br><span class="line"><span class="comment"># åŠ å‡1</span></span><br><span class="line">OP_INC = <span class="number">2</span> &lt;&lt; _OP_SHIFT</span><br><span class="line">OP_DEC = <span class="number">3</span> &lt;&lt; _OP_SHIFT</span><br><span class="line">OP_AND = <span class="number">4</span> &lt;&lt; _OP_SHIFT</span><br><span class="line">OP_OR = <span class="number">5</span> &lt;&lt; _OP_SHIFT</span><br><span class="line">OP_XOR = <span class="number">6</span> &lt;&lt; _OP_SHIFT</span><br><span class="line">OP_NOT = <span class="number">7</span> &lt;&lt; _OP_SHIFT</span><br><span class="line">ALU_OUT = <span class="number">1</span> &lt;&lt; <span class="number">20</span></span><br><span class="line">ALU_PSW = <span class="number">1</span> &lt;&lt; <span class="number">21</span></span><br><span class="line">ALU_INT_W = <span class="number">1</span> &lt;&lt; <span class="number">22</span></span><br><span class="line">ALU_INT = <span class="number">1</span> &lt;&lt; <span class="number">23</span></span><br><span class="line"></span><br><span class="line">ALU_STI = ALU_INT_W</span><br><span class="line">ALU_CLI = ALU_INT_W | ALU_INT</span><br><span class="line"></span><br><span class="line"><span class="comment"># cycæ ‡è¯†å½“å‰æŒ‡ä»¤æ‰§è¡Œå®Œäº†ï¼Œéœ€è¦é‡ç½®å¾®ç¨‹åºçš„pcæ•°</span></span><br><span class="line">CYC = <span class="number">1</span> &lt;&lt; <span class="number">30</span></span><br><span class="line">HLT = <span class="number">1</span> &lt;&lt; <span class="number">31</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># äºŒåœ°å€æŒ‡ä»¤å’Œä¸€åœ°å€ æŒ‡ä»¤</span></span><br><span class="line">ADDR2 = <span class="number">1</span> &lt;&lt; <span class="number">7</span></span><br><span class="line">ADDR1 = <span class="number">1</span> &lt;&lt; <span class="number">6</span></span><br><span class="line">ADDR2_SHIFT = <span class="number">4</span></span><br><span class="line">ADDR1_SHIFT = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å››ç§å¯»å€æ–¹å¼</span></span><br><span class="line">AM_INS = <span class="number">0</span>  <span class="comment"># ç«‹å³æ•°</span></span><br><span class="line">AM_REG = <span class="number">1</span>  <span class="comment"># å¯„å­˜å™¨</span></span><br><span class="line">AM_DIR = <span class="number">2</span>  <span class="comment"># å†…å­˜ç›´æ¥å¯»å€</span></span><br><span class="line">AM_RAM = <span class="number">3</span>  <span class="comment"># å¯„å­˜å™¨é—´æ¥å¯»å€</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="æ§åˆ¶å™¨ä»£ç controller-py"><a href="#æ§åˆ¶å™¨ä»£ç controller-py" class="headerlink" title="æ§åˆ¶å™¨ä»£ç controller.py"></a>æ§åˆ¶å™¨ä»£ç controller.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ§åˆ¶å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> assembly <span class="keyword">as</span> ASM</span><br><span class="line"><span class="keyword">import</span> pin</span><br><span class="line"></span><br><span class="line">dirname = os.path.dirname(__file__)</span><br><span class="line">filename = os.path.join(dirname, <span class="string">&#x27;micro.bin&#x27;</span>)</span><br><span class="line">micro = [pin.HLT <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0x10000</span>)]</span><br><span class="line"><span class="comment"># è·³è½¬è½¬ç§»æŒ‡ä»¤</span></span><br><span class="line">CJMPS = &#123;ASM.JO, ASM.JNO, ASM.JZ, ASM.JNZ, ASM.JP, ASM.JNP&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compile_addr2</span>(<span class="params">addr, ir, psw, index</span>):</span><br><span class="line">    <span class="keyword">global</span> micro</span><br><span class="line">    <span class="comment"># æ“ä½œ</span></span><br><span class="line">    op = ir &amp; <span class="number">0xf0</span></span><br><span class="line">    amd = (ir &gt;&gt; <span class="number">2</span>) &amp; <span class="number">3</span>  <span class="comment"># 3 = 011</span></span><br><span class="line">    ams = ir &amp; <span class="number">3</span></span><br><span class="line">    INST = ASM.INSTRUCTIONS[<span class="number">2</span>]</span><br><span class="line">    <span class="keyword">if</span> op <span class="keyword">not</span> <span class="keyword">in</span> INST:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    am = (amd, ams)</span><br><span class="line">    <span class="keyword">if</span> am <span class="keyword">not</span> <span class="keyword">in</span> INST[op]:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    EXEC = INST[op][am]</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="built_in">len</span>(EXEC):</span><br><span class="line">        micro[addr] = EXEC[index]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_condition_jump</span>(<span class="params"><span class="built_in">exec</span>, op, psw</span>):</span><br><span class="line">    overflow = psw &amp; <span class="number">1</span></span><br><span class="line">    zero = psw &amp; <span class="number">2</span></span><br><span class="line">    parity = psw &amp; <span class="number">4</span></span><br><span class="line">    <span class="keyword">if</span> op == ASM.JO <span class="keyword">and</span> overflow:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">if</span> op == ASM.JNO <span class="keyword">and</span> <span class="keyword">not</span> overflow:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">if</span> op == ASM.JZ <span class="keyword">and</span> zero:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">if</span> op == ASM.JNZ <span class="keyword">and</span> <span class="keyword">not</span> zero:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">if</span> op == ASM.JP <span class="keyword">and</span> parity:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">if</span> op == ASM.JNP <span class="keyword">and</span> <span class="keyword">not</span> parity:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">return</span> [pin.CYC]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_interrupt</span>(<span class="params"><span class="built_in">exec</span>, op, psw</span>):</span><br><span class="line">    interrupt = psw &amp; <span class="number">8</span></span><br><span class="line">    <span class="keyword">if</span> interrupt:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">exec</span></span><br><span class="line">    <span class="keyword">return</span> [pin.CYC]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compile_addr1</span>(<span class="params">addr, ir, psw, index</span>):</span><br><span class="line">    <span class="keyword">global</span> micro</span><br><span class="line">    <span class="keyword">global</span> CJMPS</span><br><span class="line">    op = ir &amp; <span class="number">0xfc</span></span><br><span class="line">    amd = ir &amp; <span class="number">3</span></span><br><span class="line">    INST = ASM.INSTRUCTIONS[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> op <span class="keyword">not</span> <span class="keyword">in</span> INST:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">if</span> amd <span class="keyword">not</span> <span class="keyword">in</span> INST[op]:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    EXEC = INST[op][amd]</span><br><span class="line">    <span class="keyword">if</span> op <span class="keyword">in</span> CJMPS:</span><br><span class="line">        EXEC = get_condition_jump(EXEC, op, psw)</span><br><span class="line">    <span class="keyword">if</span> op == ASM.INT:</span><br><span class="line">        EXEC = get_interrupt(EXEC, op, psw)</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="built_in">len</span>(EXEC):</span><br><span class="line">        micro[addr] = EXEC[index]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compile_addr0</span>(<span class="params">addr, ir, psw, index</span>):</span><br><span class="line">    <span class="keyword">global</span> micro</span><br><span class="line">    <span class="comment"># æ“ä½œ</span></span><br><span class="line">    op = ir</span><br><span class="line">    INST = ASM.INSTRUCTIONS[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> op <span class="keyword">not</span> <span class="keyword">in</span> INST:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    EXEC = INST[op]</span><br><span class="line">    <span class="keyword">if</span> index &lt; <span class="built_in">len</span>(EXEC):</span><br><span class="line">        micro[addr] = EXEC[index]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        micro[addr] = pin.CYC</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2^16æ¬¡æ–¹æ˜¯16è¿›åˆ¶çš„10000</span></span><br><span class="line"><span class="comment"># forå¾ªç¯å¯¹ä¸‹æ ‡å°±è¡Œéå†èµ‹å€¼ï¼ŒROMåˆ—æœ‰16ä¸ªï¼Œä¸€è¡Œä¸€æ¡æŒ‡ä»¤ã€‚</span></span><br><span class="line"><span class="comment"># 16ä½ç»„æˆ:ir[8]+psw[4]+cyc[4],ä¸è¿ç®—é«˜ä½å’Œä½ä½åŒæˆªæ–­</span></span><br><span class="line"><span class="keyword">for</span> addr <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0x10000</span>):</span><br><span class="line">    ir = addr &gt;&gt; <span class="number">8</span></span><br><span class="line">    psw = (addr &gt;&gt; <span class="number">4</span>) &amp; <span class="number">0xf</span></span><br><span class="line">    cyc = addr &amp; <span class="number">0xf</span></span><br><span class="line">    <span class="comment"># å°äºå–å€é•¿åº¦ï¼Œåˆ™å†™å…¥å–æŒ‡ä»¤ï¼Œ6ä¸ªæ—¶é’Ÿæ²¿</span></span><br><span class="line">    <span class="keyword">if</span> cyc &lt; <span class="built_in">len</span>(ASM.FETCH):</span><br><span class="line">        micro[addr] = ASM.FETCH[cyc]</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    addr2 = ir &amp; (<span class="number">1</span> &lt;&lt; <span class="number">7</span>)</span><br><span class="line">    addr1 = ir &amp; (<span class="number">1</span> &lt;&lt; <span class="number">6</span>)</span><br><span class="line">    <span class="comment"># å–æŒ‡ä»¤ä¹‹åçš„index</span></span><br><span class="line">    index = cyc - <span class="built_in">len</span>(ASM.FETCH)</span><br><span class="line">    <span class="keyword">if</span> addr2:</span><br><span class="line">        compile_addr2(addr, ir, psw, index)</span><br><span class="line">    <span class="keyword">elif</span> addr1:</span><br><span class="line">        compile_addr1(addr, ir, psw, index)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        compile_addr0(addr, ir, psw, index)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filename, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="keyword">for</span> var <span class="keyword">in</span> micro:</span><br><span class="line">        value = var.to_bytes(<span class="number">4</span>, byteorder=<span class="string">&#x27;little&#x27;</span>)</span><br><span class="line">        file.write(value)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;micro instruction compile finished! &#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ç¨‹åºä»£ç -compiler-py"><a href="#ç¨‹åºä»£ç -compiler-py" class="headerlink" title="ç¨‹åºä»£ç  compiler.py"></a>ç¨‹åºä»£ç  compiler.py</h2><p>ä¸»è¦å®Œæˆæ±‡ç¼–è½¬æœºå™¨ç çš„å·¥ä½œ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> pin</span><br><span class="line"><span class="keyword">import</span> assembly <span class="keyword">as</span> ASM</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">dirname = os.path.dirname(__file__)</span><br><span class="line">inputFileName = os.path.join(dirname, <span class="string">&#x27;program.asm&#x27;</span>)</span><br><span class="line">outputFileName = os.path.join(dirname, <span class="string">&#x27;program.bin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»£ç çš„æ­£åˆ™ï¼Œåˆ†å·æ˜¯æ³¨é‡Š</span></span><br><span class="line">annotation = re.<span class="built_in">compile</span>(<span class="string">r&quot;(.*?);.*&quot;</span>)</span><br><span class="line"><span class="comment"># ä»£ç </span></span><br><span class="line">codes = []</span><br><span class="line"><span class="comment"># æ ‡è®°ï¼Œå¯¹åº”çš„ä»£ç </span></span><br><span class="line">marks = &#123;&#125;</span><br><span class="line">OP2 = &#123;</span><br><span class="line">    <span class="string">&#x27;MOV&#x27;</span>: ASM.MOV,</span><br><span class="line">    <span class="string">&#x27;ADD&#x27;</span>: ASM.ADD,</span><br><span class="line">    <span class="string">&#x27;CMP&#x27;</span>: ASM.CMP,</span><br><span class="line">    <span class="string">&#x27;SUB&#x27;</span>: ASM.SUB,</span><br><span class="line">    <span class="string">&#x27;AND&#x27;</span>: ASM.AND,</span><br><span class="line">    <span class="string">&#x27;OR&#x27;</span>: ASM.OR,</span><br><span class="line">    <span class="string">&#x27;XOR&#x27;</span>: ASM.XOR,</span><br><span class="line">&#125;</span><br><span class="line">OP1 = &#123;</span><br><span class="line">    <span class="string">&#x27;INC&#x27;</span>: ASM.INC,</span><br><span class="line">    <span class="string">&#x27;DEC&#x27;</span>: ASM.DEC,</span><br><span class="line">    <span class="string">&#x27;NOT&#x27;</span>: ASM.NOT,</span><br><span class="line">    <span class="string">&#x27;JMP&#x27;</span>: ASM.JMP,</span><br><span class="line">    <span class="string">&#x27;JO&#x27;</span>: ASM.JO,</span><br><span class="line">    <span class="string">&#x27;JNO&#x27;</span>: ASM.JNO,</span><br><span class="line">    <span class="string">&#x27;JZ&#x27;</span>: ASM.JZ,</span><br><span class="line">    <span class="string">&#x27;JNZ&#x27;</span>: ASM.JNZ,</span><br><span class="line">    <span class="string">&#x27;JP&#x27;</span>: ASM.JP,</span><br><span class="line">    <span class="string">&#x27;JNP&#x27;</span>: ASM.JNP,</span><br><span class="line">    <span class="string">&#x27;PUSH&#x27;</span>: ASM.PUSH,</span><br><span class="line">    <span class="string">&#x27;POP&#x27;</span>: ASM.POP,</span><br><span class="line">    <span class="string">&#x27;CALL&#x27;</span>: ASM.CALL,</span><br><span class="line">    <span class="string">&#x27;INT&#x27;</span>: ASM.INT,</span><br><span class="line">&#125;</span><br><span class="line">OP0 = &#123;</span><br><span class="line">    <span class="string">&#x27;NOP&#x27;</span>: ASM.NOP,</span><br><span class="line">    <span class="string">&#x27;HLT&#x27;</span>: ASM.HLT,</span><br><span class="line">    <span class="string">&#x27;RET&#x27;</span>: ASM.RET,</span><br><span class="line">    <span class="string">&#x27;STI&#x27;</span>: ASM.STI,</span><br><span class="line">    <span class="string">&#x27;CLI&#x27;</span>: ASM.CLI,</span><br><span class="line">    <span class="string">&#x27;IRET&#x27;</span>: ASM.IRET,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">OP2SET = <span class="built_in">set</span>(OP2.values())</span><br><span class="line">OP1SET = <span class="built_in">set</span>(OP1.values())</span><br><span class="line">OP0SET = <span class="built_in">set</span>(OP0.values())</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯æ“ä½œçš„å¯„å­˜å™¨</span></span><br><span class="line">REGISTERS = &#123;</span><br><span class="line">    <span class="string">&#x27;A&#x27;</span>: pin.A,</span><br><span class="line">    <span class="string">&#x27;B&#x27;</span>: pin.B,</span><br><span class="line">    <span class="string">&#x27;C&#x27;</span>: pin.C,</span><br><span class="line">    <span class="string">&#x27;D&#x27;</span>: pin.D,</span><br><span class="line">    <span class="string">&#x27;SS&#x27;</span>: pin.SS,</span><br><span class="line">    <span class="string">&#x27;CS&#x27;</span>: pin.CS,</span><br><span class="line">    <span class="string">&#x27;SP&#x27;</span>: pin.SP,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Code</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="comment"># ä»£ç </span></span><br><span class="line">    CODE = <span class="number">1</span></span><br><span class="line">    <span class="comment"># æ ‡è®°</span></span><br><span class="line">    LABEL = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, number, source: <span class="built_in">str</span>, code_type=CODE</span>):</span><br><span class="line">        self.number = number</span><br><span class="line">        self.source = source.upper()</span><br><span class="line">        self.op = <span class="literal">None</span></span><br><span class="line">        self.dst = <span class="literal">None</span></span><br><span class="line">        self.src = <span class="literal">None</span></span><br><span class="line">        self.code_type = code_type</span><br><span class="line">        <span class="comment"># ä»£ç è¡Œ</span></span><br><span class="line">        self.index = <span class="number">0</span></span><br><span class="line">        self.prepare_source()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_op</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.op <span class="keyword">in</span> OP2:</span><br><span class="line">            <span class="keyword">return</span> OP2[self.op]</span><br><span class="line">        <span class="keyword">if</span> self.op <span class="keyword">in</span> OP1:</span><br><span class="line">            <span class="keyword">return</span> OP1[self.op]</span><br><span class="line">        <span class="keyword">if</span> self.op <span class="keyword">in</span> OP0:</span><br><span class="line">            <span class="keyword">return</span> OP0[self.op]</span><br><span class="line">        <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–æ“ä½œæ•°ç±»å‹å’Œå…¶æ“ä½œå€¼</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_am</span>(<span class="params">self, addr</span>):</span><br><span class="line">        <span class="keyword">global</span> marks</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> addr:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> addr <span class="keyword">in</span> marks:</span><br><span class="line">            <span class="comment"># ä¸€è¡Œä»£ç å 3ä¸ªå­—èŠ‚</span></span><br><span class="line">            <span class="keyword">return</span> pin.AM_INS, marks[addr].index * <span class="number">3</span></span><br><span class="line">        <span class="keyword">if</span> addr <span class="keyword">in</span> REGISTERS:</span><br><span class="line">            <span class="keyword">return</span> pin.AM_REG, REGISTERS[addr]</span><br><span class="line">        <span class="keyword">if</span> re.<span class="keyword">match</span>(<span class="string">r&#x27;^[0-9]+$&#x27;</span>, addr):</span><br><span class="line">            <span class="keyword">return</span> pin.AM_INS, <span class="built_in">int</span>(addr)</span><br><span class="line">        <span class="keyword">if</span> re.<span class="keyword">match</span>(<span class="string">r&#x27;^0X[0-9A-F]+$&#x27;</span>, addr):</span><br><span class="line">            <span class="keyword">return</span> pin.AM_INS, <span class="built_in">int</span>(addr, <span class="number">16</span>)</span><br><span class="line">        <span class="comment"># åŒ¹é…ç›´æ¥å¯»å€ï¼Œå†…å­˜å•å…ƒå–å€é€å‡º10è¿›åˆ¶</span></span><br><span class="line">        <span class="keyword">match</span> = re.<span class="keyword">match</span>(<span class="string">r&#x27;^\[([0-9]+)\]$&#x27;</span>, addr)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">            <span class="keyword">return</span> pin.AM_DIR, <span class="built_in">int</span>(<span class="keyword">match</span>.group(<span class="number">1</span>))</span><br><span class="line">        <span class="comment"># åŒ¹é…ç›´æ¥å¯»å€ï¼Œå†…å­˜å•å…ƒå–å€é€å‡º16è¿›åˆ¶</span></span><br><span class="line">        <span class="keyword">match</span> = re.<span class="keyword">match</span>(<span class="string">r&#x27;^\[0X([0-9A-F]+)\]$&#x27;</span>, addr)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">match</span>:</span><br><span class="line">            <span class="keyword">return</span> pin.AM_DIR, <span class="built_in">int</span>(<span class="keyword">match</span>.group(<span class="number">1</span>), <span class="number">16</span>)</span><br><span class="line">        <span class="comment"># å¯„å­˜å™¨é—´æ¥å¯»å€ï¼Œå³å°†å¯„å­˜å™¨ä¸­çš„å€¼ä½œä¸ºROMä¸‹æ ‡å–å‡ºå€¼é€å‡º</span></span><br><span class="line">        <span class="keyword">match</span> = re.<span class="keyword">match</span>(<span class="string">r&#x27;^\[(.+)\]$&#x27;</span>, addr)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">match</span> <span class="keyword">and</span> <span class="keyword">match</span>.group(<span class="number">1</span>) <span class="keyword">in</span> REGISTERS:</span><br><span class="line">            <span class="keyword">return</span> pin.AM_RAM, REGISTERS[<span class="keyword">match</span>.group(<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ–‡æœ¬é¢„å¤„ç†ï¼Œè·å–åˆ°æŒ‡ä»¤-æºæ“ä½œæ•°-ç›®çš„æ“ä½œæ•°</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">prepare_source</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">if</span> self.source.endswith(<span class="string">&quot;:&quot;</span>):</span><br><span class="line">            self.<span class="built_in">type</span> = self.LABEL</span><br><span class="line">            self.name = self.source.strip(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="comment"># é€—å·åˆ†å‰²ï¼Œå¦‚æœå¤§äº2å°±æ˜¯é”™è¯¯</span></span><br><span class="line">        tup = self.source.split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tup) &gt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tup) == <span class="number">2</span>:</span><br><span class="line">            self.src = tup[<span class="number">1</span>].strip()</span><br><span class="line">        <span class="comment"># å°†æŒ‡ä»¤å’Œæ“ä½œæ•°åˆ†å¼€</span></span><br><span class="line">        tup = re.split(<span class="string">r&#x27; +&#x27;</span>, tup[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tup) &gt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(tup) == <span class="number">2</span>:</span><br><span class="line">            self.dst = tup[<span class="number">1</span>].strip()</span><br><span class="line">        self.op = tup[<span class="number">0</span>].strip()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¡ç®—æŒ‡ä»¤-ç›®çš„æ“ä½œæ•°-æºæ“ä½œæ•°çš„äºŒè¿›åˆ¶å€¼</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">compile_code</span>(<span class="params">self</span>):</span><br><span class="line">        op = self.get_op()</span><br><span class="line">        amd, dst = self.get_am(self.dst)</span><br><span class="line">        ams, src = self.get_am(self.src)</span><br><span class="line">        <span class="keyword">if</span> src <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> (amd, ams) <span class="keyword">not</span> <span class="keyword">in</span> ASM.INSTRUCTIONS[<span class="number">2</span>][op]:</span><br><span class="line">            <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line">        <span class="keyword">if</span> src <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">and</span> dst <span class="keyword">and</span> amd <span class="keyword">not</span> <span class="keyword">in</span> ASM.INSTRUCTIONS[<span class="number">1</span>][op]:</span><br><span class="line">            <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line">        <span class="keyword">if</span> src <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">and</span> dst <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">and</span> op <span class="keyword">not</span> <span class="keyword">in</span> ASM.INSTRUCTIONS[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">raise</span> SyntaxError(self)</span><br><span class="line">        amd = amd <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">        ams = ams <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">        dst = dst <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">        src = src <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> op <span class="keyword">in</span> OP2SET:</span><br><span class="line">            ir = op | (amd &lt;&lt; <span class="number">2</span>) | ams</span><br><span class="line">        <span class="keyword">elif</span> op <span class="keyword">in</span> OP1SET:</span><br><span class="line">            ir = op | amd</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ir = op</span><br><span class="line">        <span class="keyword">return</span> [ir, dst, src]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&#x27;[<span class="subst">&#123;self.number&#125;</span>] - <span class="subst">&#123;self.source&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SyntaxError</span>(<span class="title class_ inherited__">Exception</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, code: Code, *args, **kwargs</span>):</span><br><span class="line">        <span class="built_in">super</span>.__init__(*args, **kwargs)</span><br><span class="line">        self.code = code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">compile_program</span>():</span><br><span class="line">    <span class="keyword">global</span> codes</span><br><span class="line">    <span class="keyword">global</span> marks</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(inputFileName, encoding=<span class="string">&#x27;utf8&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        lines = file.readlines()</span><br><span class="line">    <span class="comment"># éå†è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> index, line <span class="keyword">in</span> <span class="built_in">enumerate</span>(lines):</span><br><span class="line">        <span class="comment"># å»æ‰ç©ºæ ¼ç¬¦</span></span><br><span class="line">        source = line.strip()</span><br><span class="line">        <span class="comment"># å»æ‰åˆ†å·åŠåçš„å¤‡æ³¨ï¼Œåˆ†å·å°±æ˜¯æ ‡è¯†ä»£ç ç”¨çš„ï¼ˆç®€ç‰ˆï¼‰,å†’å·æ˜¯æ ‡è¯†LABçš„</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;;&#x27;</span> <span class="keyword">in</span> source:</span><br><span class="line">            <span class="keyword">match</span> = annotation.<span class="keyword">match</span>(source)</span><br><span class="line">            source = <span class="keyword">match</span>.group(<span class="number">1</span>)</span><br><span class="line">            code = Code(index + <span class="number">1</span>, source)</span><br><span class="line">            codes.append(code)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> source.endswith(<span class="string">&quot;:&quot;</span>):</span><br><span class="line">            codes.append(Code(index + <span class="number">2</span>, source, Code.LABEL))</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> source:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    result = []</span><br><span class="line">    current = <span class="literal">None</span></span><br><span class="line">    <span class="comment"># ä»åå¾€å‰éå†ä»£ç è¡Œ</span></span><br><span class="line">    <span class="keyword">for</span> var <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(codes) - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        code = codes[var]</span><br><span class="line">        <span class="keyword">if</span> code.code_type == Code.CODE:</span><br><span class="line">            current = code</span><br><span class="line">            result.insert(<span class="number">0</span>, code)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> code.<span class="built_in">type</span> == Code.LABEL:</span><br><span class="line">            <span class="comment"># è¿™é‡ŒæŒ‡å‘çš„æ˜¯codeçš„å¼•ç”¨ï¼Œåè¾¹çš„éå†æ”¹indexä¸å½±å“</span></span><br><span class="line">            marks[code.name] = current</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">raise</span> SyntaxError(code)</span><br><span class="line">    <span class="comment"># æ›´æ–°ç´¢å¼•index</span></span><br><span class="line">    <span class="keyword">for</span> index, var <span class="keyword">in</span> <span class="built_in">enumerate</span>(result):</span><br><span class="line">        var.index = index</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(outputFileName, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="keyword">for</span> code <span class="keyword">in</span> result:</span><br><span class="line">            values = code.compile_code()</span><br><span class="line">            <span class="keyword">for</span> value <span class="keyword">in</span> values:</span><br><span class="line">                <span class="keyword">if</span> value <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                    result = value.to_bytes(<span class="number">1</span>, byteorder=<span class="string">&#x27;little&#x27;</span>)</span><br><span class="line">                    file.write(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        compile_program()</span><br><span class="line">    <span class="keyword">except</span> SyntaxError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;Syntax Error at <span class="subst">&#123;e.code&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;program compile finished&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="æ±‡ç¼–å®šä¹‰ä»£ç assembly-py"><a href="#æ±‡ç¼–å®šä¹‰ä»£ç assembly-py" class="headerlink" title="æ±‡ç¼–å®šä¹‰ä»£ç assembly.py"></a>æ±‡ç¼–å®šä¹‰ä»£ç assembly.py</h2><p>ä¸»è¦å®šä¹‰ï¼Œä¸åŒæŒ‡ä»¤çš„ç”µè·¯ç»„åˆçŠ¶æ€ã€‚ç”µè·¯ç»„åˆçŠ¶æ€ä»ç®¡è„šä¸­å®šä¹‰çš„åŸºæœ¬ç”µè·¯æ§åˆ¶å•å…ƒï¼Œæˆ–è¿ç®—å¾—åˆ°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pin</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ±‡ç¼–</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å–å€</span></span><br><span class="line">FETCH = [</span><br><span class="line">    pin.PC_OUT | pin.MAR_IN,</span><br><span class="line">    pin.RAM_OUT | pin.IR_IN | pin.PC_INC,</span><br><span class="line"></span><br><span class="line">    pin.PC_OUT | pin.MAR_IN,</span><br><span class="line">    pin.RAM_OUT | pin.DST_IN | pin.PC_INC,</span><br><span class="line"></span><br><span class="line">    pin.PC_OUT | pin.MAR_IN,</span><br><span class="line">    pin.RAM_OUT | pin.SRC_IN | pin.PC_INC,</span><br><span class="line">]</span><br><span class="line"><span class="comment"># æŒ‡ä»¤å®šä¹‰</span></span><br><span class="line">MOV = <span class="number">0</span> | pin.ADDR2</span><br><span class="line">ADD = (<span class="number">1</span> &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span><br><span class="line">SUB = (<span class="number">2</span> &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span><br><span class="line">CMP = (<span class="number">3</span> &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span><br><span class="line">AND = (<span class="number">4</span> &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span><br><span class="line">OR = (<span class="number">5</span> &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span><br><span class="line">XOR = (<span class="number">6</span> &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span><br><span class="line"></span><br><span class="line">INC = (<span class="number">0</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">DEC = (<span class="number">1</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">NOT = (<span class="number">2</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">JMP = (<span class="number">3</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line"><span class="comment"># æ¡ä»¶è½¬ç§»</span></span><br><span class="line"><span class="comment"># æº¢å‡ºå’Œéæº¢å‡º</span></span><br><span class="line">JO = (<span class="number">4</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">JNO = (<span class="number">5</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line"><span class="comment"># é›¶å’Œé0</span></span><br><span class="line">JZ = (<span class="number">6</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">JNZ = (<span class="number">7</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line"><span class="comment"># å¥‡æ•°å’Œéå¥‡æ•°</span></span><br><span class="line">JP = (<span class="number">8</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">JNP = (<span class="number">9</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">PUSH = (<span class="number">10</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">POP = (<span class="number">11</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">CALL = (<span class="number">12</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line">INT = (<span class="number">13</span> &lt;&lt; pin.ADDR1_SHIFT) | pin.ADDR1</span><br><span class="line"></span><br><span class="line"><span class="comment"># SUB = (2 &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span></span><br><span class="line"><span class="comment"># SUB = (2 &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span></span><br><span class="line"><span class="comment"># SUB = (2 &lt;&lt; pin.ADDR2_SHIFT) | pin.ADDR2</span></span><br><span class="line"><span class="comment"># 0æ“ä½œæ•°æŒ‡ä»¤</span></span><br><span class="line"><span class="comment"># å•¥ä¹Ÿä¸å¹²</span></span><br><span class="line">NOP = <span class="number">0</span></span><br><span class="line">RET = <span class="number">1</span></span><br><span class="line"><span class="comment"># ä¸­æ–­è¿”å›</span></span><br><span class="line">IRET = <span class="number">2</span></span><br><span class="line"><span class="comment"># å¼€ä¸­æ–­</span></span><br><span class="line">STI = <span class="number">3</span></span><br><span class="line"><span class="comment"># å…³ä¸­æ–­</span></span><br><span class="line">CLI = <span class="number">4</span></span><br><span class="line"><span class="comment"># åœæ­¢</span></span><br><span class="line">HLT = <span class="number">0x3f</span>  <span class="comment"># 111111</span></span><br><span class="line"></span><br><span class="line">INSTRUCTIONS = &#123;</span><br><span class="line">    <span class="number">2</span>: &#123;</span><br><span class="line">        MOV: &#123;</span><br><span class="line">            <span class="comment"># ç«‹å³æ•°å¯»å€ï¼Œå°†ç«‹å³æ•°æ”¾å…¥SRCå¯„å­˜å™¨ï¼Œå­˜å…¥DSTç§å­˜æ”¾çš„å…·ä½“å¯„å­˜å™¨ï¼ˆåœ°å€ï¼‰ä¸­,è¿™é‡Œåªå®šä¹‰æŒ‡ä»¤åŠ¨ä½œï¼Œå…·ä½“æ‰§è¡Œä¹‹åè§£æ</span></span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_W | pin.SRC_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_W | pin.SRC_R,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_DIR): [</span><br><span class="line">                pin.SRC_OUT | pin.MAR_IN,</span><br><span class="line">                pin.DST_W | pin.RAM_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_RAM): [</span><br><span class="line">                pin.SRC_R | pin.MAR_IN,</span><br><span class="line">                pin.DST_W | pin.RAM_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_DIR, pin.AM_INS): [</span><br><span class="line">                pin.DST_OUT | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.SRC_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_DIR, pin.AM_DIR): [</span><br><span class="line">                pin.SRC_OUT | pin.MAR_IN,</span><br><span class="line">                pin.RAM_OUT | pin.T1_IN,</span><br><span class="line">                pin.DST_OUT | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.T1_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_DIR, pin.AM_RAM): [</span><br><span class="line">                pin.SRC_R | pin.MAR_IN,</span><br><span class="line">                pin.RAM_OUT | pin.T1_IN,</span><br><span class="line">                pin.DST_OUT | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.T1_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_RAM, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.SRC_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_RAM, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.SRC_R,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_RAM, pin.AM_DIR): [</span><br><span class="line">                pin.SRC_OUT | pin.MAR_IN,</span><br><span class="line">                pin.RAM_OUT | pin.T1_IN,</span><br><span class="line">                pin.DST_R | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.T1_OUT,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_RAM, pin.AM_RAM): [</span><br><span class="line">                pin.SRC_R | pin.MAR_IN,</span><br><span class="line">                pin.RAM_OUT | pin.T1_IN,</span><br><span class="line">                pin.DST_R | pin.MAR_IN,</span><br><span class="line">                pin.RAM_IN | pin.T1_OUT,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        ADD: &#123;</span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_OUT | pin.B_IN,</span><br><span class="line">                pin.OP_ADD | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_R | pin.B_IN,</span><br><span class="line">                pin.OP_ADD | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        CMP: &#123;</span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_OUT | pin.B_IN,</span><br><span class="line">                pin.OP_SUB | pin.ALU_PSW,</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_R | pin.B_IN,</span><br><span class="line">                pin.OP_SUB | pin.ALU_PSW,</span><br><span class="line"></span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        SUB: &#123;</span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_OUT | pin.B_IN,</span><br><span class="line">                pin.OP_SUB | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_R | pin.B_IN,</span><br><span class="line">                pin.OP_SUB | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        AND: &#123;</span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_OUT | pin.B_IN,</span><br><span class="line">                pin.OP_AND | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_R | pin.B_IN,</span><br><span class="line">                pin.OP_AND | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        OR: &#123;</span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_OUT | pin.B_IN,</span><br><span class="line">                pin.OP_OR | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_R | pin.B_IN,</span><br><span class="line">                pin.OP_OR | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        XOR: &#123;</span><br><span class="line">            (pin.AM_REG, pin.AM_INS): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_OUT | pin.B_IN,</span><br><span class="line">                pin.OP_XOR | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">            (pin.AM_REG, pin.AM_REG): [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.SRC_R | pin.B_IN,</span><br><span class="line">                pin.OP_XOR | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">1</span>: &#123;</span><br><span class="line">        INC: &#123;</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.OP_INC | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        DEC: &#123;</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.OP_DEC | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        NOT: &#123;</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                pin.DST_R | pin.A_IN,</span><br><span class="line">                pin.OP_NOT | pin.ALU_OUT | pin.DST_W | pin.ALU_PSW,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JMP: &#123;</span><br><span class="line">            <span class="comment"># ç«‹å³æ•°å†™å…¥åˆ°PC</span></span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JO: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JNO: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JZ: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JNZ: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JP: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        JNP: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                pin.DST_OUT | pin.PC_IN</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        PUSH: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                <span class="comment"># æ ˆé¡¶æŒ‡é’ˆå‡ä¸€è·å–æ ˆåœ°å€</span></span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_DEC,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                <span class="comment"># è¯»å–ç›®çš„å¯„å­˜å™¨çš„å€¼åˆ°RAMï¼Œåœ°å€ç”±MSR+MAR</span></span><br><span class="line">                pin.DST_OUT | pin.RAM_IN,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN,</span><br><span class="line">            ],</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                <span class="comment"># æ ˆé¡¶æŒ‡é’ˆå‡ä¸€è·å–æ ˆåœ°å€</span></span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_DEC,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                <span class="comment"># è¯»å–ç›®çš„å¯„å­˜å™¨çš„å€¼åˆ°RAMï¼Œåœ°å€ç”±MSR+MAR</span></span><br><span class="line">                pin.DST_R | pin.RAM_IN,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        POP: &#123;</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># RAMè¯»å–å€¼åˆ°ç›®çš„å¯„å­˜å™¨ï¼Œåœ°å€ç”±MSR+MAR</span></span><br><span class="line">                pin.DST_W | pin.RAM_OUT,</span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_INC,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        CALL: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                <span class="comment"># æ ˆé¡¶æŒ‡é’ˆå‡ä¸€è·å–æ ˆåœ°å€</span></span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_DEC,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                <span class="comment"># ä¿å­˜å½“å‰pcåˆ°RAM</span></span><br><span class="line">                pin.PC_OUT | pin.RAM_IN,</span><br><span class="line">                <span class="comment"># è¯»å–ç›®çš„å¯„å­˜å™¨çš„å€¼PC</span></span><br><span class="line">                pin.DST_OUT | pin.PC_IN,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN,</span><br><span class="line">            ],</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                <span class="comment"># æ ˆé¡¶æŒ‡é’ˆå‡ä¸€è·å–æ ˆåœ°å€</span></span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_DEC,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                <span class="comment"># ä¿å­˜å½“å‰pcåˆ°RAM</span></span><br><span class="line">                pin.PC_OUT | pin.RAM_IN,</span><br><span class="line">                <span class="comment"># è¯»å–ç›®çš„å¯„å­˜å™¨çš„å€¼PC</span></span><br><span class="line">                pin.DST_R | pin.PC_IN,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">        INT: &#123;</span><br><span class="line">            pin.AM_INS: [</span><br><span class="line">                <span class="comment"># æ ˆé¡¶æŒ‡é’ˆå‡ä¸€è·å–æ ˆåœ°å€</span></span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_DEC,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                <span class="comment"># ä¿å­˜å½“å‰pcåˆ°RAM</span></span><br><span class="line">                pin.PC_OUT | pin.RAM_IN,</span><br><span class="line">                <span class="comment"># è¯»å–ç›®çš„å¯„å­˜å™¨çš„å€¼PC</span></span><br><span class="line">                pin.DST_OUT | pin.PC_IN,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN | pin.ALU_PSW | pin.ALU_CLI,</span><br><span class="line">            ],</span><br><span class="line">            pin.AM_REG: [</span><br><span class="line">                <span class="comment"># æ ˆé¡¶æŒ‡é’ˆå‡ä¸€è·å–æ ˆåœ°å€</span></span><br><span class="line">                pin.SP_OUT | pin.A_IN,</span><br><span class="line">                pin.SP_IN | pin.ALU_OUT | pin.OP_DEC,</span><br><span class="line">                pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">                <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">                pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">                <span class="comment"># ä¿å­˜å½“å‰pcåˆ°RAM</span></span><br><span class="line">                pin.PC_OUT | pin.RAM_IN,</span><br><span class="line">                <span class="comment"># è¯»å–ç›®çš„å¯„å­˜å™¨çš„å€¼PC</span></span><br><span class="line">                pin.DST_R | pin.PC_IN,</span><br><span class="line">                <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">                pin.CS_OUT | pin.MSR_IN | pin.ALU_PSW | pin.ALU_CLI,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="number">0</span>: &#123;</span><br><span class="line">        NOP: [pin.CYC],</span><br><span class="line">        HLT: [pin.HLT],</span><br><span class="line">        RET: [</span><br><span class="line">            <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">            pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">            pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">            <span class="comment"># RAMè¯»å–å€¼å†™å›PCè®¡æ•°å™¨</span></span><br><span class="line">            pin.PC_IN | pin.RAM_OUT,</span><br><span class="line">            pin.SP_OUT | pin.A_IN,</span><br><span class="line">            pin.SP_IN | pin.ALU_OUT | pin.OP_INC,</span><br><span class="line">            <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">            pin.CS_OUT | pin.MSR_IN,</span><br><span class="line">        ],</span><br><span class="line">        IRET: [</span><br><span class="line">            <span class="comment"># æ ˆæ®µåœ°å€é€åˆ°MSRå¯„å­˜å™¨</span></span><br><span class="line">            pin.SS_OUT | pin.MSR_IN,</span><br><span class="line">            pin.SP_OUT | pin.MAR_IN,</span><br><span class="line">            <span class="comment"># RAMè¯»å–å€¼å†™å›PCè®¡æ•°å™¨</span></span><br><span class="line">            pin.PC_IN | pin.RAM_OUT,</span><br><span class="line">            pin.SP_OUT | pin.A_IN,</span><br><span class="line">            pin.SP_IN | pin.ALU_OUT | pin.OP_INC,</span><br><span class="line">            <span class="comment"># æ¢å¤MSRåˆ°ä»£ç æ®µ</span></span><br><span class="line">            pin.CS_OUT | pin.MSR_IN | pin.ALU_PSW | pin.ALU_STI,</span><br><span class="line">        ],</span><br><span class="line">        STI: [</span><br><span class="line">            pin.ALU_PSW | pin.ALU_STI,</span><br><span class="line">        ],</span><br><span class="line">        CLI: [</span><br><span class="line">            pin.ALU_PSW | pin.ALU_CLI,</span><br><span class="line">        ],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="å®ç°çš„æŒ‡ä»¤"><a href="#å®ç°çš„æŒ‡ä»¤" class="headerlink" title="å®ç°çš„æŒ‡ä»¤"></a>å®ç°çš„æŒ‡ä»¤</h2><h3 id="äºŒåœ°å€æŒ‡ä»¤"><a href="#äºŒåœ°å€æŒ‡ä»¤" class="headerlink" title="äºŒåœ°å€æŒ‡ä»¤"></a>äºŒåœ°å€æŒ‡ä»¤</h3><ul>
<li>MOV</li>
<li>ADD</li>
<li>CMP</li>
<li>SUB</li>
<li>AND</li>
<li>OR</li>
<li>XOR</li>
</ul>
<h3 id="ä¸€åœ°å€æŒ‡ä»¤"><a href="#ä¸€åœ°å€æŒ‡ä»¤" class="headerlink" title="ä¸€åœ°å€æŒ‡ä»¤"></a>ä¸€åœ°å€æŒ‡ä»¤</h3><ul>
<li>INC</li>
<li>DEC</li>
<li>NOT</li>
<li>JMP è·³è½¬</li>
<li>JO æº¢å‡ºè·³è½¬</li>
<li>JNO éæº¢å‡ºè·³è½¬</li>
<li>JZ é›¶è½¬</li>
<li>JNZ</li>
<li>JP å¥‡å¶</li>
<li>JNP </li>
<li>PUSH</li>
<li>POP</li>
<li>CALL</li>
<li>INTä¸­æ–­ï¼ˆå†…éƒ¨çš„ï¼‰</li>
</ul>
<h3 id="é›¶åœ°å€æŒ‡ä»¤"><a href="#é›¶åœ°å€æŒ‡ä»¤" class="headerlink" title="é›¶åœ°å€æŒ‡ä»¤"></a>é›¶åœ°å€æŒ‡ä»¤</h3><ul>
<li>NOP</li>
<li>HLT</li>
<li>RET callå¯¹åº”æ¢å¤</li>
<li>IRET ä¸­æ–­æ¢å¤</li>
<li>STI startä¸­æ–­</li>
<li>CLI closeä¸­æ–­</li>
</ul>
<h2 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h2><p>ä¸‹é¢æ¼”ç¤ºæ±‡ç¼–ä»£ç çš„æ‰§è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MOV D,3;</span><br><span class="line">MOV C,4;</span><br><span class="line">ADD D,C;</span><br><span class="line">HLT;</span><br></pre></td></tr></table></figure>
<p>è¯¥ä»£ç å…ˆè¢«æ±‡ç¼–è§£æä»£ç ç¼–è¯‘åˆ°program.binçš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼ŒåŠ è½½CPUçš„RAMï¼Œä½œä¸ºç¨‹åºæºã€‚<br>ç„¶åæ§åˆ¶å™¨ä»£ç ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶åŠ è½½åˆ°CPUçš„ROMä¸­ï¼Œä½œä¸ºæŒ‡ä»¤æºã€‚<br>æœ€åï¼ŒåŠ æ³•çš„è¾“å‡ºç»“æœæ˜¯ä¸€ä¸ªæ˜¯7ï¼Œåœ¨ALUæ—è¾“å‡ºå’ŒDå¯„å­˜å™¨ä¸­éƒ½æ˜¯ã€‚ã€‚ã€‚<br><img src="https://testerhome.com/uploads/photo/2023/e56a756c-f8ab-4a79-833e-f836edce129f.gif"></p>
</div><div class="tags"></div><div class="post-nav"><a class="next" href="/2023/01/31/%E3%80%908-%E4%BD%8D-CPU%E3%80%91%E6%94%92%E4%B8%AA%E5%8F%AF%E4%BB%A5%E8%AE%A1%E7%AE%97%E5%8A%A0%E5%87%8F%E6%B3%95%E7%9A%84%E5%88%9D%E4%BB%A3-CPU/">ã€8 ä½ CPUã€‘æ”’ä¸ªå¯ä»¥è®¡ç®—åŠ å‡æ³•çš„åˆä»£ CPU</a></div><div id="vcomment"></div><script src="//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == 'true' ? true : false;
var verify = 'false' == 'true' ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'0indNw0niJU8jN2a1E43bDW7-gzGzoHsz',
  appKey:'toErPcjDI3431WvXQVKoy0rC',
  placeholder:'Just so so',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://windanchaos.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="å…³äº"><img src="/images/avatar.jpeg"/></a><p>ç‰©æœ‰æœ¬æœ«ï¼Œäº‹æœ‰ç»ˆå§‹ã€‚çŸ¥æ‰€å…ˆåï¼Œåˆ™è¿‘é“çŸ£ï¼</p><a class="info-icon" href="https://blog.csdn.net/windanchaos" title="CSDN" target="_blank" style="margin-inline:5px"> <i class="fa fa-CSDN-square" style="margin-inline:5px"></i></a><a class="info-icon" href="mailto:454522630@qq.com" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/windanchaos" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://gitee.com/windanchaos" title="Gitee" target="_blank" style="margin-inline:5px"> <i class="fa fa-gitee-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">Javaç¼–ç¨‹è¯­è¨€</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux%E7%AE%A1%E7%90%86%E7%BB%B4%E6%8A%A4/">Linuxç®¡ç†ç»´æŠ¤</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93/">MySQLæ•°æ®åº“</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">pythonç¼–ç¨‹è¯­è¨€</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">å‰ç«¯æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">åç«¯æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/">æ€§èƒ½æµ‹è¯•</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/">æŒç»­é›†æˆ</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">æ•°æ®ç»“æ„ä¸ç®—æ³•</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%B9%E6%B3%95%E4%B8%8E%E7%AE%A1%E7%90%86/">æ–¹æ³•ä¸ç®¡ç†</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E6%96%87/">æ‚æ–‡</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B5%8B%E8%AF%95%E7%9A%84%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/">æµ‹è¯•çš„æ¡†æ¶å’ŒæŠ€æœ¯</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E5%A4%A7%E6%9D%82%E7%83%A9/">ç”Ÿæ´»å¤§æ‚çƒ©</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%82%A1%E7%A5%A8%E9%87%8F%E5%8C%96%E4%BA%A4%E6%98%93/">è‚¡ç¥¨é‡åŒ–äº¤æ˜“</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">è‡ªåŠ¨åŒ–æµ‹è¯•</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºç§‘å­¦åŸºç¡€</a><span class="category-list-count">17</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/FromCSDN/" style="font-size: 15px;">FromCSDN</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">è®¡ç®—æœºåŸºç¡€</a> <a href="/tags/testerhome/" style="font-size: 15px;">testerhome</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/02/25/%E3%80%908-%E4%BD%8D-CPU%E3%80%91%E7%BB%99-CPU-%E6%B7%BB%E5%8A%A0%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E5%92%8C%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F/">ã€8 ä½ CPUã€‘ç»™ CPU æ·»åŠ æ§åˆ¶ç³»ç»Ÿå’ŒæŒ‡ä»¤ç³»ç»Ÿ</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/31/%E3%80%908-%E4%BD%8D-CPU%E3%80%91%E6%94%92%E4%B8%AA%E5%8F%AF%E4%BB%A5%E8%AE%A1%E7%AE%97%E5%8A%A0%E5%87%8F%E6%B3%95%E7%9A%84%E5%88%9D%E4%BB%A3-CPU/">ã€8 ä½ CPUã€‘æ”’ä¸ªå¯ä»¥è®¡ç®—åŠ å‡æ³•çš„åˆä»£ CPU</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/22/%E3%80%908-%E4%BD%8D-CPU%E3%80%91%E4%B8%80%E6%AD%A5%E4%B8%80%E6%AD%A5%E7%94%BB%E4%B8%AA%E5%AF%84%E5%AD%98%E5%99%A8/">ã€8 ä½ CPUã€‘ä¸€æ­¥ä¸€æ­¥ç”»ä¸ªå¯„å­˜å™¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/17/%E3%80%908-%E4%BD%8D-CPU%E3%80%918-%E4%BD%8D%E5%8A%A0%E6%B3%95%E5%99%A8/">ã€8 ä½ CPUã€‘8 ä½åŠ æ³•å™¨</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/11/12/%E8%AE%A1%E7%AE%97%E6%9C%BARAM%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/">è®¡ç®—æœºRAMçš„åº•å±‚åŸç†</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/24/%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%98%AF%E4%B8%AA%E6%AD%BB%E5%BE%AA%E7%8E%AF/">å†…æ ¸å¯åŠ¨è¿‡ç¨‹ -- æ“ä½œç³»ç»Ÿæ˜¯ä¸ªæ­»å¾ªç¯</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%84%E5%B1%82%E6%AC%A1%E6%89%A7%E8%A1%8C%E9%80%9F%E5%BA%A6/">è®¡ç®—æœºå„å±‚æ¬¡æ‰§è¡Œé€Ÿåº¦</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/10/11/JDK%E4%B8%ADJUC%E5%8C%85%E7%94%B1%E6%B5%85%E5%85%A5%E6%B7%B1%E5%8E%9F%E7%90%86%E2%80%94%E2%80%94atomic%E5%8C%85/">JDKä¸­JUCåŒ…ç”±æµ…å…¥æ·±åŸç†â€”â€”atomicåŒ…</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/06/22/ELF%E5%AD%A6%E4%B9%A0%E4%B8%80/">ELFå­¦ä¹ ä¸€</a></li><li class="post-list-item"><a class="post-list-link" href="/2021/06/07/SpringBoot%E4%B9%8B%E5%8D%9A%E5%AE%A2%E5%AE%9E%E6%88%98/">SpringBootä¹‹åšå®¢å®æˆ˜</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2026 <a href="/." rel="nofollow">windanchaos.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>