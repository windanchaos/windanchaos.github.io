<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.5.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="宇弦">
<meta property="og:url" content="https:&#x2F;&#x2F;blog.windanchaos.tech&#x2F;index.html">
<meta property="og:site_name" content="宇弦">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.windanchaos.tech/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>宇弦</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">宇弦</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-首页">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-分类">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-归档">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
        <li class="menu-item menu-item-标签">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-关于">

    <a href="/about/me.html" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/windanchaos" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/09/27/%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/27/%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/" class="post-title-link" itemprop="url">将有序数组转换为二叉搜索树</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-09-27 23:52:24" itemprop="dateCreated datePublished" datetime="2019-09-27T23:52:24+08:00">2019-09-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构与算法</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/09/27/%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/" class="post-meta-item leancloud_visitors" data-flag-title="将有序数组转换为二叉搜索树" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/09/27/%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/09/27/%E5%B0%86%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%B8%BA%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近在刷leetcode算法的入门题，刷到二叉树，一开始浑浑噩噩，后来掌握了套路，自己搞定一个，而且很优雅，比留言中的大部分都优雅，嗯，写个日志自嗨一把。<br>所有刷题都提交到我的github上了，具体位置：<a href="https://github.com/windanchaos/Java_Basic/tree/master/src/algorithm" target="_blank" rel="noopener">windanchaos的github</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">题目要求：</span><br><span class="line">将一个按照升序排列的有序数组，转换为一棵高度平衡二叉搜索树。</span><br><span class="line"></span><br><span class="line">本题中，一个高度平衡二叉树是指一个二叉树每个节点 的左右两个子树的高度差的绝对值不超过 <span class="number">1</span>。</span><br><span class="line"></span><br><span class="line">示例:</span><br><span class="line"></span><br><span class="line">给定有序数组: [<span class="number">-10</span>,<span class="number">-3</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">9</span>],</span><br><span class="line"></span><br><span class="line">一个可能的答案是：[<span class="number">0</span>,<span class="number">-3</span>,<span class="number">9</span>,<span class="number">-10</span>,<span class="literal">null</span>,<span class="number">5</span>]，它可以表示下面这个高度平衡二叉搜索树：</span><br><span class="line"></span><br><span class="line">      <span class="number">0</span></span><br><span class="line">     / \</span><br><span class="line">   <span class="number">-3</span>   <span class="number">9</span></span><br><span class="line">   /   <span class="regexp">/</span></span><br><span class="line"><span class="regexp"> -10  5</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">来源：力扣（LeetCode）</span></span><br><span class="line"><span class="regexp">链接：https:/</span><span class="regexp">/leetcode-cn.com/</span>problems/convert-sorted-array-to-binary-search-tree</span><br><span class="line">著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</span><br></pre></td></tr></table></figure>

<p>我的解法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="comment">/*</span></span><br><span class="line"><span class="comment">执行用时 :1 ms, 在所有 Java 提交中击败了99.76%的用户</span></span><br><span class="line"><span class="comment">内存消耗 :37.2 MB, 在所有 Java 提交中击败了97.44%的用户</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    public TreeNode sortedArrayToBST(int[] nums) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length==<span class="number">0</span> || <span class="literal">null</span> == nums) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//只有一个元素的情况</span></span><br><span class="line">        <span class="keyword">if</span>(nums.length==<span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">new</span> TreeNode(nums[<span class="number">0</span>]);</span><br><span class="line">        <span class="comment">//数量大于1，构建节点</span></span><br><span class="line">        TreeNode root=<span class="keyword">new</span> TreeNode(nums[nums.length/<span class="number">2</span>]);</span><br><span class="line">        <span class="comment">//构建左右子树</span></span><br><span class="line">        root.left=sortedArrayToBST(Arrays.copyOfRange(nums,<span class="number">0</span>,nums.length/<span class="number">2</span>));</span><br><span class="line">        root.right=sortedArrayToBST(Arrays.copyOfRange(nums,nums.length/<span class="number">2</span>+<span class="number">1</span>,nums.length));</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/09/03/%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/09/03/%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/" class="post-title-link" itemprop="url">缓存技术原理</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-09-03 09:28:20" itemprop="dateCreated datePublished" datetime="2019-09-03T09:28:20+08:00">2019-09-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学基础</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/09/03/%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/" class="post-meta-item leancloud_visitors" data-flag-title="缓存技术原理" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/09/03/%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/09/03/%E7%BC%93%E5%AD%98%E6%8A%80%E6%9C%AF%E5%8E%9F%E7%90%86/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近在看一本讲数据库架构的英文书，书中很多次提及到一个叫缓存的词语，在我们商城的业务系统中也经常听到缓存这个词语。于是百度找到这篇文章。内心觉得总结很到位。转自：<a href="http://www.sohu.com/a/272322730_505779" target="_blank" rel="noopener">缓存技术原理</a></p>
<p>一、前言</p>
<p>应用中使用缓存技术，往往可以大大减少计算量，有效提升响应速度，让有限的资源服务更多的用户。但是，似乎还没有一种缓存方案可以满足所有的业务场景，我们需要根据自身的特殊场景和背景，选择最适合的缓存方案，尽量以最小的成本最快的效率达到最优的目的。本文将从多个方面对缓存进行分析，以便作为选择缓存方案的考量。<br>二、文章要点</p>
<p>三、缓存的理解 3.1 狭义的理解</p>
<p>缓存指的是 CPU 缓存，当 CPU 要读取一个数据时，首先从 CPU 缓存中查找，找到就立即读取并送给 CPU 处理；没有找到，就从速率相对较慢的内存中读取并送给 CPU 处理，同时把这个数据所在的数据块调入缓存中，可以使得以后对整块数据的读取都从缓存中进行，不必再调用内存。</p>
<p>3.2 广义的理解</p>
<p>凡是位于速度相差较大的两种硬件/软件之间的，用于协调两者数据传输速度差异的结构，均可称之为缓存。</p>
<p>3.3 缓存的优点</p>
<p>如下，一个 Web 应用架构一般有如下几层：</p>
<p><img src="/images/5.cdn.sohucs.com-images-20181031-3d7fe68ac3fc46109c36d9e58246923a-.png" alt=""></p>
<p>在此架构的不同层级之间，都可以存在缓存。比如：</p>
<p>总结来说，缓存在如下三个方面做了提升：</p>
<p>四、CPU 缓存简介</p>
<p>CPU 缓存（Cache Memory）是位于 CPU与 内存之间的临时存储器，它的容量比内存小的多，但是交换速率却比内存要快得多。缓存的出现主要是为了解决 CPU 运算速率与内存读写速率不匹配的矛盾，因为 CPU 运算速率要比内存读写速率快很多，这样会使 CPU 花费很长时间等待数据到来或把数据写入内存。在缓存中的数据是内存中的一小部分，但这一小部分是短时间内 CPU 即将访问的，当 CPU 调用大量数据时，就可避开内存直接从缓存中调用，从而加快读取速率。由此可见，在 CPU 中加入缓存是一种高效的解决方案，这样整个内存储器（缓存+内存）就变成了既有缓存的高速率，又有内存的大容量的存储系统了。 缓存基本上都是采用 SRAM 存储器，存储器在计算机内部的组织方式如下图所示：</p>
<p><img src="/images/5.cdn.sohucs.com-images-20181031-d1d0170cbd9f4ee0a16f36ea08f42e24.jpeg.png" alt=""></p>
<p>越往上，存储器的容量越小、成本越高、速度越快。由于 CPU 和主存之间巨大的速度差异，系统设计者被迫在 CPU 寄存器和主存之间插入了一个小的 SRAM 高速缓存存储器称为 L1 缓存，大约可以在 2-4 个时钟周期（计算机中最小的时间单位）内访问。再后来发现 L1 高速缓存和主存之间还是有较大差距，又在 L1 高速缓存和主存之间插入了 L2 缓存，大约可以在 10 个时钟周期内访问。后面还新增了 L3 等，于是，在这样的模式下，在不断的演变中形成了现在的存储体系。<br>五、分布式缓存原理 5.1 本地缓存</p>
<p>本地缓存可能是大家用的最多的一种缓存方式了，如 Ehcache、Guava Cache 等，它是在应用中的缓存组件，其最大的优点是应用和 cache 是在同一个进程内部，请求缓存非常快速，没有过多的网络开销等，在单应用不需要集群支持或者集群情况下各节点无需互相通知的场景下使用本地缓存较合适； 同时，它的缺点也是因为缓存跟应用程序耦合，多个应用程序无法直接的共享缓存，各应用或集群的各节点都需要维护自己的单独缓存，对内存是一种浪费。</p>
<p>5.2 分布式缓存特性</p>
<p>分布式缓存能够高性能地读取数据、能够动态地扩展缓存节点、能够自动发现和切换故障节点、能够自动均衡数据分区，而且能够为使用者提供图形化的管理界面，部署和维护都十分方便。优秀的分布式缓存系统有 Memcached、Redis，还有阿里自主开发的 Tair 等；</p>
<p>那么，分布式缓存又是如何做的呢？<br>5.3 分布式缓存实现原理</p>
<p><strong>数据读取</strong></p>
<p>分布式缓存由一个服务端实现管理和控制，由多个客户端节点存储数据，以达到提高数据的读取速率。那读取某个数据的时候，可以根据一致性哈希算法确定数据的存储和读取节点。以数据 D，节点总个数 N 为基础，通过一致性哈希算法计算出数据 D 对应的哈希值（相当于门牌号），根据这个哈希值就可以找到对应的节点了。一致哈希算法的好处在于节点个数发生变化（减少或增加）时无需重新计算哈希值，保证数据储存或读取时可以正确、快速地找到对应的节点。</p>
<p><strong>数据均匀分布</strong></p>
<p>由多个客户端节点存储数据时，需要保证数据均匀分布。比如，服务器数量较少，很可能造成有些服务器存储的数据较多，承担的压力较大，有些服务器就比较空闲。 解决的办法就是，把一台服务器虚拟成多台服务器，可以在计算服务器对应的哈希值时，在IP地址字符串加多个“尾缀”，比如：10.0.0.1/#1 10.0.0.1/#2 10.0.0.1/#3… 这样，一台物理服务器就被虚拟化成多台服务器。</p>
<p><strong>数据的热备份</strong></p>
<p>实现数据的热备份之前，需要了解一致性哈希算法，计算多台服务器的 IP 地址哈希值时，是将这些哈希值从小到大按顺时针排序组成一个“服务器节点环”。以顺时针方向看“服务器环”，当有客户端把数据存储在第1台服务器上后，第1台服务器负责把该数据拷贝一份给第 2 台服务器，以此类推，也就是说“服务器环”上的每一个节点，都是上一个节点的热备份节点。同时，一个服务器上存了两类数据，一类是自身的业务数据，一类是上一节点的热备数据。<br>六、影响缓存性能因素 6.1 序列化</p>
<p>访问本地缓存，对于 JVM 语言，有堆内和堆外缓存可以进行选择。由于对内直接以对象的形式进行存储，不需要考虑序列化，而堆外是以字节类型进行存储，就需要进行序列化和反序列化。 序列化一般需要解析对象的结构，而解析对象结构，会带来较大的 CPU 消耗，所以一般的序列化（比如 fastJson）均会缓存对象解析的对象结构，来减少 CPU 的消耗。 具体序列化性能对比这里就不做罗列，可点击 link 这里查看。</p>
<p>6.2 命中率</p>
<p>通常来讲，缓存的命中率越高则表示使用缓存的收益越高，应用的性能越好（响应时间越短、吞吐量越高），抗并发的能力越强。那么影响缓存命中率因素有哪些呢？</p>
<p><strong>业务场景和业务需求</strong></p>
<p><strong>缓存的设计粒度和策略</strong></p>
<p>（1）固定过期时间，被动失效；</p>
<p>（2）感知数据变更，主动更新；</p>
<p>（3）感知数据变更，主动更新。并设置过期时间被动失效兜底；</p>
<p>（4）按照数据冷热性制定策略，如热数据主动失效并 reload，冷数据只失效不 reload 等。</p>
<p>然而，当数据发生变化时，直接更新缓存的值会比移除缓存（或者让缓存过期）的命中率更高，当然，系统复杂度也会更高。</p>
<p><strong>缓存容量和基础设施</strong></p>
<p>缓存的容量有限，则容易引起缓存失效和被淘汰（目前多数的缓存框架或中间件都采用了 LRU 算法）。同时，缓存的技术选型也是至关重要的，比如采用应用内置的本地缓存就比较容易出现单机瓶颈，而采用分布式缓存则比较容易扩展。所以需要做好系统容量规划，并考虑是否可扩展。此外，不同的缓存框架或中间件，其效率和稳定性也是存在差异的。</p>
<p><strong>其他因素</strong></p>
<p>缓存故障处理：当缓存节点发生故障时，需要避免缓存失效并最大程度降低影响，业内比较典型的做法就是通过一致性 Hash 算法，或者通过节点冗余的方式。</p>
<p>以上可见，想要提高缓存收益，需要应用尽可能的通过缓存直接获取数据，并避免缓存失效。需要在业务需求，缓存粒度，缓存策略，技术选型等各个方面去通盘考虑并做权衡。尽可能的聚焦在高频访问且时效性要求不高的热点业务上，通过缓存预加载（预热）、增加存储容量、调整缓存粒度、更新缓存等手段来提高命中率。<br>6.3 缓存清空策略</p>
<p>通过前面介绍，我们知道缓存策略对于缓存的性能具有很大的影响。那么，缓存策略是为了解决什么问题，又有哪些方案可选呢？</p>
<p><strong>面临的问题</strong></p>
<p>主存容量远大于 CPU 缓存，磁盘容量远大于主存，因此无论是哪一层次的缓存都面临一个同样的问题：当容量有限的缓存的空闲空间全部用完后，又有新的内容需要添加进缓存时，如何挑选并舍弃原有的部分内容，从而腾出空间放入这些新的内容。</p>
<p><strong>解决方案</strong></p>
<p>解决这个问题的算法有几种，如最久未使用算法（LRU）、先进先出算法（FIFO）、最近最少使用算法（LFU）、非最近使用算法（NMRU）等，这些算法在不同层次的缓存上执行时拥有不同的效率和代价，需根据具体场合选择最合适的一种。下面针对每一种算法做一个简单介绍：</p>
<p>七、高并发场景常见缓存问题</p>
<p>通常来讲，在相同缓存时间和 key 的情况下，并发越高，缓存的收益会越高，即便缓存时间很短。而高并发应用场景下一般会引发以下常见的三个问题。</p>
<p>7.1 缓存穿透问题</p>
<p><strong>问题描述</strong></p>
<p>出现场景：指查询一个一定不存在的数据，由于缓存是不命中时被动写的，并且出于容错考虑，如果从存储层查不到数据则不写入缓存，这将导致这个不存在的数据每次请求都要到存储层去查询，失去了缓存的意义。在流量大时，可能 DB 就挂掉了。要是有人利用不存在的key频繁攻击我们的应用，这就是漏洞。</p>
<p><strong>解决方案</strong></p>
<p>7.2 缓存并发问题</p>
<p><strong>问题描述</strong></p>
<p>有时候如果网站并发访问高，一个缓存如果失效，可能出现多个进程同时查询 DB，同时设置缓存的情况，如果并发确实很大，这也可能造成 DB 压力过大，还有缓存频繁更新的问题。</p>
<p><strong>解决方案</strong></p>
<p>可以对缓存查询加锁，如果 KEY 不存在，就加锁，然后查 DB 入缓存，然后解锁；其他进程如果发现有锁就等待，然后等解锁后返回数据或者进入 DB 查询。<br>7.3 缓存失效问题</p>
<p><strong>问题描述</strong></p>
<p>引起这个问题的主要原因还是高并发的时候，平时我们设定一个缓存的过期时间时，可能有一些会设置 1 分钟啊，5 分钟这些，并发很高时可能会出在某一个时间同时生成了很多的缓存，并且过期时间都一样，这个时候就可能引发一当过期时间到后，这些缓存同时失效，请求全部转发到 DB，DB 可能会压力过重。</p>
<p><strong>解决方案</strong></p>
<p>其中的一个简单方案就是将缓存失效时间分散开，比如我们可以在原有的失效时间基础上增加一个随机值，比如 1-5 分钟随机，这样每一个缓存的过期时间的重复率就会降低，就很难引发集体失效的事件。<br>总结</p>
<p>到这里，关于缓存的内容就介绍完毕了，相信通过本文可以帮助我们理解缓存的基本工作原理，了解常见缓存问题的解决思路。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/08/27/Systemd%20%E6%B7%BB%E5%8A%A0tomcat%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%EF%BC%8C%E6%94%AF%E6%8C%81apr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/27/Systemd%20%E6%B7%BB%E5%8A%A0tomcat%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%EF%BC%8C%E6%94%AF%E6%8C%81apr/" class="post-title-link" itemprop="url">Systemd 添加tomcat服务，开机启动，支持apr</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-08-27 16:29:53" itemprop="dateCreated datePublished" datetime="2019-08-27T16:29:53+08:00">2019-08-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" itemprop="url" rel="index">
                    <span itemprop="name">持续集成</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/08/27/Systemd%20%E6%B7%BB%E5%8A%A0tomcat%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%EF%BC%8C%E6%94%AF%E6%8C%81apr/" class="post-meta-item leancloud_visitors" data-flag-title="Systemd 添加tomcat服务，开机启动，支持apr" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/08/27/Systemd%20%E6%B7%BB%E5%8A%A0tomcat%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%EF%BC%8C%E6%94%AF%E6%8C%81apr/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/08/27/Systemd%20%E6%B7%BB%E5%8A%A0tomcat%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%EF%BC%8C%E6%94%AF%E6%8C%81apr/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>问题描述：<br>我们的tomcat启动了apr启动https端口，我设置了systemd的tomcat.service的文件，使用systemctl start tomcat，始终无法识别apr的环境变量。研究了一会后解决。<br>先贴tomcat.service最终设置，只需加一行配置即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=java tomcat project</span><br><span class="line">After=syslog.target network.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=forking</span><br><span class="line">User=user</span><br><span class="line">Group=user</span><br><span class="line">EnvironmentFile=<span class="regexp">/opt/</span>apache-tomcat/bin/config</span><br><span class="line">ExecStart=<span class="regexp">/opt/</span>apache-tomcat/bin/startup.sh</span><br><span class="line">ExecReload=</span><br><span class="line">ExecStop=<span class="regexp">/arthas/</span>servers/apache-tomcat<span class="number">-8.5</span><span class="number">.4</span><span class="number">-80</span>/bin/shutdown.sh</span><br><span class="line">PrivateTmp=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p><strong>关键点：</strong></p>
<p>EnvironmentFile=/opt/apache-tomcat/bin/config 的设置。<br>文件内容如下，是启动tomcat的环境变量：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LD_LIBRARY_PATH=<span class="regexp">/usr/</span>local/apr/lib:$LD_LIBRARY_PATH</span><br></pre></td></tr></table></figure>

<p>原理：<br>1、/etc/profile或者/etc/security/limit.d这些文件中配置的环境变量仅对通过pam登录的用户生效，而systemd是不读这些配置的，所以这就造成登录到终端时查看环境变量和手动启动应用都一切正常，但是systemd无法正常启动应用。<br>2、EnvironmentFile：该字段指定软件自己的环境参数。</p>
<p>参考：<br><a href="https://blog.csdn.net/lizao2/article/details/81030380" target="_blank" rel="noopener">https://blog.csdn.net/lizao2/article/details/81030380</a><br><a href="https://www.cnblogs.com/jhxxb/p/10654554.html" target="_blank" rel="noopener">https://www.cnblogs.com/jhxxb/p/10654554.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/08/09/git%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%86%B2%E7%AA%81CRLF%E3%80%81LF%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/09/git%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%86%B2%E7%AA%81CRLF%E3%80%81LF%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="post-title-link" itemprop="url">git换行符冲突CRLF、LF的解决方案</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-08-09 14:51:32" itemprop="dateCreated datePublished" datetime="2019-08-09T14:51:32+08:00">2019-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E7%AE%A1%E7%90%86%E7%BB%B4%E6%8A%A4/" itemprop="url" rel="index">
                    <span itemprop="name">Linux管理维护</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/08/09/git%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%86%B2%E7%AA%81CRLF%E3%80%81LF%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="post-meta-item leancloud_visitors" data-flag-title="git换行符冲突CRLF、LF的解决方案" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/08/09/git%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%86%B2%E7%AA%81CRLF%E3%80%81LF%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/08/09/git%E6%8D%A2%E8%A1%8C%E7%AC%A6%E5%86%B2%E7%AA%81CRLF%E3%80%81LF%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>git在维护版本库的时候统一使用的是LF，这样就可以保证文件跨平台的时候保持一致。<br>在Linux下默认的换行符也是LF，那也就不存在什么问题。<br>在Windows下默认的换行符是CRLF，那么我们需要保证在文件提交到版本库的时候文件的换行符是LF，通常来说有两种方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 在工作区使用CRLF，使用git commit提交的时候git帮你把所有的CRLF转换为LF。</span><br><span class="line">git config --global core.autocrlf <span class="literal">true</span></span><br><span class="line"># 在工作区使用LF</span><br><span class="line">git config --global core.autocrlf input</span><br><span class="line"># 避免文件中有混用换行符</span><br><span class="line">git config --global core.safecrlf <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>以上措施如果都不管用，尤其是莫名其妙的，git刚刚clone的代码库就存在图片换行符的问题，比如我的。<br><img src="/images/20190809144730689.jpg-x-oss-process=image-watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z,size_16,color_FFFFFF,t_70.png" alt="刚clone的代码库就存在换行符导致的问题"><br>那么你可以试试——————————————————————————升级你的git，是的，所有设置方案都试过后，这一招彻底解决。</p>
<p>这里下载：<a href="https://github.com/git/git/releases?after=v2.21.0-rc1" target="_blank" rel="noopener">https://github.com/git/git/releases?after=v2.21.0-rc1</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># centos自带Git，7.x版本自带git 1.8.3.1，安装新版本之前需要使用卸载。</span><br><span class="line">yum remove -y git</span><br><span class="line"># 依赖</span><br><span class="line">yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel  gcc perl-ExtUtils-MakeMaker</span><br><span class="line">wget https:<span class="comment">//github.com/git/git/archive/v2.20.0.tar.gz</span></span><br><span class="line">tar xzf v2<span class="number">.20</span><span class="number">.0</span>.tar.gz</span><br><span class="line">cd git<span class="number">-2.22</span><span class="number">.0</span></span><br><span class="line">make prefix=<span class="regexp">/usr/</span>local/git all</span><br><span class="line">make prefix=<span class="regexp">/usr/</span>local/git install</span><br><span class="line"># 创建软连接</span><br><span class="line">ln -s  /usr/local/git/bin/git /usr/bin/git</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/07/21/%E7%BC%96%E7%A8%8B%E6%B1%82%EF%BC%9A%E2%88%911+%E2%88%912+%E2%80%A6%E2%80%A6+%E2%88%91100/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/21/%E7%BC%96%E7%A8%8B%E6%B1%82%EF%BC%9A%E2%88%911+%E2%88%912+%E2%80%A6%E2%80%A6+%E2%88%91100/" class="post-title-link" itemprop="url">编程求：∑1+∑2+……+∑100</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-07-21 22:04:20" itemprop="dateCreated datePublished" datetime="2019-07-21T22:04:20+08:00">2019-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" itemprop="url" rel="index">
                    <span itemprop="name">Java编程语言</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/07/21/%E7%BC%96%E7%A8%8B%E6%B1%82%EF%BC%9A%E2%88%911+%E2%88%912+%E2%80%A6%E2%80%A6+%E2%88%91100/" class="post-meta-item leancloud_visitors" data-flag-title="编程求：∑1+∑2+……+∑100" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/07/21/%E7%BC%96%E7%A8%8B%E6%B1%82%EF%BC%9A%E2%88%911+%E2%88%912+%E2%80%A6%E2%80%A6+%E2%88%91100/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/07/21/%E7%BC%96%E7%A8%8B%E6%B1%82%EF%BC%9A%E2%88%911+%E2%88%912+%E2%80%A6%E2%80%A6+%E2%88%91100/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>最近在践行代码，先把尚学堂的习题做完，遇到有点代表的就发个日志。<br>以下算法时间复杂度为N，还可以。这个好像是用了某种算法，具体叫动态规划法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    103.	【上机】编程求：∑1+∑2+……+∑100</span></span><br><span class="line"><span class="comment">    这里输入最大数100作为参数</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    public <span class="keyword">void</span> sigma(int num)&#123;</span><br><span class="line">        <span class="comment">//利用数组记录∑n的值,数组的index=n，特征：∑n=∑(n-1)+n</span></span><br><span class="line">        <span class="comment">//数组下标等于数字，数组index为0的丢弃</span></span><br><span class="line">        int[] array_tmp=<span class="keyword">new</span> int[num+<span class="number">1</span>];</span><br><span class="line">        int sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(int i=<span class="number">1</span>;i&lt;num+<span class="number">1</span>;i++)&#123;</span><br><span class="line">        	<span class="comment">//数组index为0时，默认值0，可直接迭代</span></span><br><span class="line">            array_tmp[i]=array_tmp[i<span class="number">-1</span>]+i;</span><br><span class="line">            sum=sum+array_tmp[i];</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"∑1+∑2+……+∑"</span>+num+<span class="string">"的和为："</span>+sum);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>∑1+∑2+……+∑100的和为：171700</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/07/18/jenkins%E4%BF%AE%E5%A4%8D%E6%9C%80%E6%96%B0Apache%20Struts%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E(CVE-2016-1000031%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/18/jenkins%E4%BF%AE%E5%A4%8D%E6%9C%80%E6%96%B0Apache%20Struts%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E(CVE-2016-1000031%EF%BC%89/" class="post-title-link" itemprop="url">jenkins修复最新Apache Struts远程代码执行漏洞(CVE-2016-1000031）</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-07-18 15:18:53" itemprop="dateCreated datePublished" datetime="2019-07-18T15:18:53+08:00">2019-07-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%90%8E%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index">
                    <span itemprop="name">后端框架和技术</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/07/18/jenkins%E4%BF%AE%E5%A4%8D%E6%9C%80%E6%96%B0Apache%20Struts%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E(CVE-2016-1000031%EF%BC%89/" class="post-meta-item leancloud_visitors" data-flag-title="jenkins修复最新Apache Struts远程代码执行漏洞(CVE-2016-1000031）" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/07/18/jenkins%E4%BF%AE%E5%A4%8D%E6%9C%80%E6%96%B0Apache%20Struts%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E(CVE-2016-1000031%EF%BC%89/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/07/18/jenkins%E4%BF%AE%E5%A4%8D%E6%9C%80%E6%96%B0Apache%20Struts%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E(CVE-2016-1000031%EF%BC%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="修复问题描述"><a href="#修复问题描述" class="headerlink" title="修复问题描述"></a>修复问题描述</h1><p>阿里云上的安全监测提示：<br>近日，Apache软件基金会（ASF）向Apache Struts项目管理员发布了关于CVE-2016-1000031漏洞的安全公告，其中披露一个Commons FileUpload库的历史高危漏洞CVE-2016-1000031，而2.3.x系列版本的Apache Struts2仍在使用低版本的Commons FileUpload库，该库作为Struts2的一部分，被用作文件上传的默认机制，远程攻击者利用该漏洞可直接获得服务器权限。2.5.12以上版本的Struts2暂不受影响。<br>注意：java类web应用的修复一般都需要重启应用<br>方案一：<br>升级至2.5.18及以上版本的Struts2，官方下载链接：<a href="https://struts.apache.org/download.cgi" target="_blank" rel="noopener">https://struts.apache.org/download.cgi</a><br>方案二：<br>升级Struts2依赖的Commons FileUpload库版本至最新1.3.3，官方下载地址：<a href="https://commons.apache.org/proper/commons-fileupload/download_fileupload.cgi" target="_blank" rel="noopener">https://commons.apache.org/proper/commons-fileupload/download_fileupload.cgi</a></p>
<p>我这里是思路就是采用方案二。</p>
<h1 id="怎么修复"><a href="#怎么修复" class="headerlink" title="怎么修复"></a>怎么修复</h1><p>整体思路很简单，下载源代码，修改需要升级的引用包版本，重新编译构建发布。<br>1、clone jenkins的源代码到本地，修改引用包的版本。这里直接用我的结果即可，文件为jenkins/core/pom.xml</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">      &lt;groupId&gt;commons-fileupload&lt;<span class="regexp">/groupId&gt;</span></span><br><span class="line"><span class="regexp">      &lt;artifactId&gt;commons-fileupload&lt;/</span>artifactId&gt;</span><br><span class="line">      &lt;version&gt;<span class="number">1.3</span><span class="number">.3</span>&lt;<span class="regexp">/version&gt;</span></span><br><span class="line"><span class="regexp">      &lt;!--&lt;version&gt;1.3.3-jenkins-2&lt;/</span>version&gt; --&gt;</span><br><span class="line">    &lt;<span class="regexp">/dependency&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、编译。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="string">"代码路径"</span></span><br><span class="line">mvn clean package -pl war -am -DskipTests -Dfindbugs.skip -X</span><br></pre></td></tr></table></figure>

<p>编译过程如果不顺利，或下载不下来文件，自己百度处理。<br>当然，也可以参考<a href="https://www.ilanni.com/?p=12436" target="_blank" rel="noopener">jenkins源码编译和打包(20180408更新)</a> 中的<strong>部分步骤</strong>，像nodeys的没有就不操作。自己搭建私有库，我是现成的。不自己搭建的话，估计问题也不会太大。</p>
<p>3、踩过的坑。版本问题，编译的版本一定要和当前的版本保持一致，至少不能跳大版本，否则启动不起来，甚至会有各种意想不到的问题。版本一致就顺风顺水。</p>
<p>当然还有一种修复思路，直接替换.jenkins/war/WEB-INF/lib 下面的包，用新包<a href="https://repo1.maven.org/maven2/commons-fileupload/commons-fileupload/1.3.3/commons-fileupload-1.3.3.jar" target="_blank" rel="noopener">ommons-fileupload-1.3.3.jar</a>换旧包（commons-fileupload-1.3.1-jenkins-2.jar），新包用旧包命名，重启。（阿里云扫描不出来你修复了，大概是扫描它记录的是文件路径吧，我是换过的，重起服务，扫不出来修复了，比较尴尬）。</p>
<p>当然，如果阁下运气好和我用的是一个版本，2.176，那直接<a href="https://download.csdn.net/download/windanchaos/11382311" target="_blank" rel="noopener">下载</a>就可以了。</p>
<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>由于够不着jenkins的维护的资格，所以去issue提交了个bug建议修复pom.xml（要墙）。<br><a href="https://issues.jenkins-ci.org/browse/SECURITY-1463?filter=-2" target="_blank" rel="noopener">https://issues.jenkins-ci.org/browse/SECURITY-1463?filter=-2</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/07/02/%E3%80%90%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%81%9A%E8%BF%90%E7%AE%97%E7%9A%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/07/02/%E3%80%90%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%81%9A%E8%BF%90%E7%AE%97%E7%9A%84/" class="post-title-link" itemprop="url">【计算机理论基础】计算机是如何做运算的</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-07-02 16:56:46" itemprop="dateCreated datePublished" datetime="2019-07-02T16:56:46+08:00">2019-07-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学基础</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/07/02/%E3%80%90%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%81%9A%E8%BF%90%E7%AE%97%E7%9A%84/" class="post-meta-item leancloud_visitors" data-flag-title="【计算机理论基础】计算机是如何做运算的" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/07/02/%E3%80%90%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%81%9A%E8%BF%90%E7%AE%97%E7%9A%84/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/07/02/%E3%80%90%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%90%86%E8%AE%BA%E5%9F%BA%E7%A1%80%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%98%AF%E5%A6%82%E4%BD%95%E5%81%9A%E8%BF%90%E7%AE%97%E7%9A%84/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>由低向上的学习计算机是一条比较漫长的道路。但是，得来的知识却是体系化的。而且越到上边，学习的理解的效率是越高的（暂且自我欺骗，毕竟还没达到那高度）<br>下面就最近研究和学习做一个复盘。以问题出发为脉络。<br>1、计算机是怎么做运算的？<br>关键字：二进制、逻辑门<br>2、在问题1的基础上又问：为什么是二进制？<br>3、CPU是如何工作？</p>
<h1 id="1、计算机是怎么做运算的？"><a href="#1、计算机是怎么做运算的？" class="headerlink" title="1、计算机是怎么做运算的？"></a>1、计算机是怎么做运算的？</h1><p>回答这个问题，要先弄懂人类在使用10进制做计算时的方法，不赘述。<br>10进制方法迁移到二进制。基本的加法、乘法（可转成进位的加法），减法转成加法实现，除法转成乘法实现（这个我还没深究）。<br>进制之间可以平滑的换算。</p>
<h2 id="数和进制的抽象"><a href="#数和进制的抽象" class="headerlink" title="数和进制的抽象"></a>数和进制的抽象</h2><p>（这是我独立思考得出的，未见有人说过，或者有但我不了解）。<br>位和进制大小、进位。是三个基本元素。<br>位是进位中的位，是进制数的承载单元。位只能承载（0到进制-1）的数。比如：10进制中，一个位可以放0-9的数字，到10的时候就需要进位。二进制，最大放1，到2就要进位。<br>进制大小：就是所谓的2、10、16。<br>进位：位中承载的数等于进制大小时，发生的高位+1行为。</p>
<p>所以，可以有5进制。甚至可以有100进制，当然如果能够找到这么多数字的象征，恐怕人类的大脑处理起来也是费尽的。<br>问题又来了，为什么人类有进制这种抽象，我觉得主要还是来源于认知的范围是有限的，而认知的对象是无限的。之所以说认知范围是有限的，主要是人的身体机能决定的，不能同时（并行）思考和处理多个问题。以有限的认知认识无限，只能将无限的进行分而治之。数字是对现实世界和数量有关的一种抽象。位，就是数字抽象的基本单元。对于人类来说，现实世界的物质是无限的，小到分子原子、大到宇宙万物。所以用进制数可以表示一个特定的数量的概念。</p>
<p>如果存在一个主体（比如上帝），ta使用的是无限进制，宇宙万物都囊括在其中，它不用进位。每个事物都有是唯一的，那么人类的进制就已经没有了意义，ta能使用无限进制的前提是掌握了无限事物的信息，超人类思维的存在。这就是无限这个抽象的力量。</p>
<h2 id="什么是运算"><a href="#什么是运算" class="headerlink" title="什么是运算"></a>什么是运算</h2><p><a href="https://baike.baidu.com/item/%E8%BF%90%E7%AE%97/5866856?fr=aladdin" target="_blank" rel="noopener">传送门</a><br>人类为什么要做运算呢？因为人类的认知是有限的啊，为了得到暂时无法获得的信息，基于已有的信息进行信息的变化和组合，就生成了运算。所以，如果人类可以直接获得任何信息，比如看到一个平面物体，便知道它的面积和体积，那基于几何学的长宽高、积分之类的运算就不再具有它的价值，但这目前还只是一种思维游戏，人类还是渺小的。<br>这里举个例子：<br>国王统治了100个小城邦，他欲了解各城邦的粮食产量这个信息，以备决策。最简单的方式就是，统计各城邦的产量，然后全部相加。<br>如果没有数字和运算，他要得到信息，需要把100个城邦的粮食搬到一起，进行称重了。<br>插个题外话，统计出来的数字只是一种近似值，为什么呢？因为在实操的过程中，城邦是可以谎报数量的，可以报大或报小，加起来的数已经不是国王心中想要的那个数了，但是这也没有办法，先解决有和无的问题，只要偏差不大的离谱，是可以容忍和妥协的。妥协这词在计算机的实现中也是常见的。<br>物理学中的很多问题都是靠运算得出的，比如光速是怎么得来的（人类一开始测量得到的光速也只是近似值）？天体物理学又靠什么说宇宙在膨胀？<br>所以，再不要把运算限定在10进制了，它只是众多进制中人类习以为常的一种而已。<br>结合进制和运算：<br>比如5进制的23+12=40，它的10进制是多少呢？</p>
<p>23的10进制为：2x51+3x50=13<br>12的10进制为：1x51+2x50=7<br>40的10进制为：4x51+0/*50=20</p>
<p>数字的实际意义则有进行运算的人赋予，抽象的作用便在于此。</p>
<h2 id="逻辑门和它们的电路实现"><a href="#逻辑门和它们的电路实现" class="headerlink" title="逻辑门和它们的电路实现"></a>逻辑门和它们的电路实现</h2><p>计算机使用二进制，为什么是二进制呢？<br>早期的计算机有3进制、还有5进制的，都是电驱动，用简单的电子元件来构建。<br><img src="/images/dn.net-20180721164506133-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"><br>电信号的电压强弱来表征数字，如上图，如果是5进制，那么不稳定的电压，必然导致不稳定的数。不稳定代表了不可信。<br>二进制就不同了，电压不稳定，只要在范围内，取值就确定的。所以二进制被优胜劣汰的剩下来了。</p>
<p><a href="https://baike.baidu.com/item/%E4%BA%8C%E6%9E%81%E7%AE%A1/102466?fr=aladdin" target="_blank" rel="noopener">传送门</a><br>二极管有个特性，就是在某个电压值Uon之前，不导电，一旦突破，则通电，如下图。死区电压不导电。<br><img src="/images/dn.net-20180722094433922-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"><br>晶体二极管为一个由p型半导体和n型半导体形成的pn结，在其界面处两侧形成空间电荷层，并建有自建电场。当不存在外加电压时，由于pn结两边载流子浓度差引起的扩散电流和自建电场引起的漂移电流相等而处于电平衡状态。当外界有正向电压偏置时，外界电场和自建电场的互相抑消作用使载流子的扩散电流增加引起了正向电流。当外界有反向电压偏置时，外界电场和自建电场进一步加强，形成在一定反向电压范围内与反向偏置电压值无关的反向饱和电流I0。当外加的反向电压高到一定程度时，pn结空间电荷层中的电场强度达到临界值产生载流子的倍增过程，产生大量电子空穴对，产生了数值很大的反向击穿电流，称为二极管的击穿现象。pn结的反向击穿有齐纳击穿和雪崩击穿之分。</p>
<p><a href="https://baike.baidu.com/item/PN%E7%BB%93/898090?fr=aladdin" target="_blank" rel="noopener">PN结的工作原理传送门</a><br>P是多电子的一个，N是缺电子的一个，他们都导电，P是多电子要对外输出，N是缺电子要对内吸纳。电子多和少是工程师们利用化学原理制造出来的。它们中间隔了一道空气墙，适当电压可以打通，就导电了。</p>
<p>于是：二极管的导电性就可以抽象出1和0，1为通，0为不通。而通和不通，可以被人类（用电压大小的方式）掌控，下图是3个1。有没有觉得像位的抽象？</p>
<p><img src="/images/dn.net-20180721172756811-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="通电的二极管111"></p>
<p><a href="https://baike.baidu.com/item/%E9%97%A8%E7%94%B5%E8%B7%AF/10796427" target="_blank" rel="noopener">传送门</a><br>我不知道是谁发明或发现了这种转换，五体投地。但其中的核心逻辑：由简单到复杂。<br>将2个二极管，按照不同的线路布线，就可以得到逻辑运算中的“或、与、非”运算。<br>下面是盗图，<a href="http://www.elecfans.com/dianzichangshi/20170522518207.html" target="_blank" rel="noopener">盗图源链接</a><br>注意下图表示的电流方向。<br>“与”门<br><img src="/images/csdnimg.cn-aHR0cDovL3d3dy5lbGVjZmFucy5jb20vdXBsb2Fkcy9hbGxpbWcvMTcwNTIyLzI0NzQyMTMtMUY1MjIxNDA0MzkzNTAucG5n.png" alt="“与”门"><br>“或”门<br><img src="/images/csdnimg.cn-aHR0cDovL3d3dy5lbGVjZmFucy5jb20vL3VwbG9hZHMvYWxsaW1nLzE3MDUyMi8yNDc0MjEzLTFGNTIyMTQwNDU1M0gucG5n.png" alt="“或”门"><br>“非”门<br><img src="/images/csdnimg.cn-aHR0cDovL3d3dy5lbGVjZmFucy5jb20vL3VwbG9hZHMvYWxsaW1nLzE3MDUyMi8yNDc0MjEzLTFGNTIyMTQwNTExVDkucG5n.png" alt="“非”门"></p>
<p>最后那些常用的电路都有了固定的接线模式，逻辑门的电路被抽象成了符号，它们共有一个特点：实现了抽象逻辑符号，在物理世界的正确表达：<br>盗图<br><img src="/images/csdnimg.cn-aHR0cDovL3d3dy5lbGVjZmFucy5jb20vL3VwbG9hZHMvYWxsaW1nLzE3MDUyMi8yNDc0MjEzLTFGNTIyMTQyVTkzMzgucG5n.png" alt="“非”门"></p>
<p>还可以看看这个网站的逻辑门<br><a href="http://www.ee.surrey.ac.uk/Projects/CAL/digital-logic/gatesfunc/index.html" target="_blank" rel="noopener">Basic Gates and Functions</a></p>
<p>下面这个电路设计图，实现了单个位的二进制计算逻辑，sum是输出，carry是进位。——专业术语，或者叫抽象名“半加器”。<br><img src="/images/dn.net-20180721185732424-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"><br>这里贴张这个逻辑电路的真值表：<br>A输入 B输入 sum输出 carry输出 0 0 0 0 0 1 1 0 1 0 1 0 1 1 0 1</p>
<p>上边电路解决了一位的加法，那么多位的呢？<br>把电路单元连接起来！<br>所以引出另一个电路图——全加器，由半加器（上边提到的半加器单元用HALF ADDER来表示了）进化而来。<br><img src="/images/dn.net-20180721194713506-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"></p>
<p>上图实现了，进位场景下（三个输入：低位进位的位、高位的两位），两个输出（sum和carry)的计算单元。</p>
<p>所以继续复杂深化，得到２位的计算电路。下图A0 A1分别代表第１位，第二位的二进制数。<br><img src="/images/dn.net-20180722102849490-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"><br>继续下去得到一个８位的加法电路：<br><img src="/images/dn.net-20180722103125994-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"></p>
<p>所以，这个图很清晰告诉了一个编程中经常出现的名字：“溢出”。装不下了就溢出了。</p>
<p>乘法运算，是带进位的加法运算。首先要搞定的是位乘法运算。使用And运算即可。比如A/*B，前置条件是假设不会溢出。所以限定A和B都小于1进制的4，结果用8位二进制来保存。如下图：原谅我画图不专业。。核心就是B乘Ai的时候，根据B当前位，为结果进位（左移），我仔细想了想，比较low的是接线的时候，按位来接（比如B1就进1位接在结果线路）。加法器这里，抽象了一把，把所有结果加起来。（里面是应该有3个加法器串联在一起）</p>
<p><img src="/images/dn.net-20180723124650394-watermark-2-text-aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dpbmRhbmNoYW9z-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70.png" alt="这里写图片描述"></p>
<p>以上，运算有关的就到此为止（逻辑的没有写就略过了）。</p>
<p>关于计算机的可计算性等价于Lambda算子，请百度。本人还未深刻理解Lambda。</p>
<p>参考：<br><a href="https://space.bilibili.com/5385034/#/channel/detail?cid=16059" target="_blank" rel="noopener">【10分钟速成课：计算机科学】</a><br><a href="http://www.cppblog.com/Achilleus/articles/154768.html" target="_blank" rel="noopener">Lambda算子简介</a><br><a href="http://www.cnblogs.com/denallo/archive/2012/12/22/2889704.html" target="_blank" rel="noopener">denallo学习笔记:λ演算(lambda calculate)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/04/17/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/17/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-title-link" itemprop="url">正则表达式</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-04-17 14:43:59" itemprop="dateCreated datePublished" datetime="2019-04-17T14:43:59+08:00">2019-04-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index">
                    <span itemprop="name">计算机科学基础</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/04/17/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="post-meta-item leancloud_visitors" data-flag-title="正则表达式" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/04/17/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/04/17/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="正则引擎"><a href="#正则引擎" class="headerlink" title="正则引擎"></a>正则引擎</h1><p>正则引擎主要可以分为两大类：一种是DFA，一种是NFA。这两种引擎都有了很久的历史(至今二十多年)，当中也由这两种引擎产生了很多变体！于是POSIX的出台规避了不必要变体的继续产生。这样一来，主流的正则引擎又分为3类：一、DFA，二、传统型NFA，三、POSIX NFA。<br>DFA 引擎在线性时状态下执行，因为它们不要求回溯（并因此它们永远不测试相同的字符两次）。DFA 引擎还可以确保匹配最长的可能的字符串。但是，因为 DFA 引擎只包含有限的状态，所以它不能匹配具有反向引用的模式；并且因为它不构造显示扩展，所以它不可以捕获子表达式。<br>传统的 NFA 引擎运行所谓的“贪婪的”匹配回溯算法，以指定顺序测试正则表达式的所有可能的扩展并接受第一个匹配项。因为传统的 NFA 构造正则表达式的特定扩展以获得成功的匹配，所以它可以捕获子表达式匹配和匹配的反向引用。但是，因为传统的 NFA 回溯，所以它可以访问完全相同的状态多次（如果通过不同的路径到达该状态）。因此，在最坏情况下，它的执行速度可能非常慢。因为传统的 NFA 接受它找到的第一个匹配，所以它还可能会导致其他（可能更长）匹配未被发现。<br>POSIX NFA 引擎与传统的 NFA 引擎类似，不同的一点在于：在它们可以确保已找到了可能的最长的匹配之前，它们将继续回溯。因此，POSIX NFA 引擎的速度慢于传统的 NFA 引擎；并且在使用 POSIX NFA 时，您恐怕不会愿意在更改回溯搜索的顺序的情况下来支持较短的匹配搜索，而非较长的匹配搜索。<br>使用DFA引擎的程序主要有：awk,egrep,flex,lex,MySQL,Procmail等；<br>使用传统型NFA引擎的程序主要有：GNU Emacs,Java,ergp,less,more,.NET语言,PCRE library,Perl,PHP,Python,Ruby,sed,vi；<br>使用POSIX NFA引擎的程序主要有：mawk,Mortice Kern Systems’ utilities,GNU Emacs(使用时可以明确指定)；<br>也有使用DFA/NFA混合的引擎：GNU awk,GNU grep/egrep,Tcl。<br>举例简单说明NFA与DFA工作的区别：<br>比如有字符串this is yansen’s blog，正则表达式为 /ya(msen|nsen|nsem)/ (不要在乎表达式怎么样，这里只是为了说明引擎间的工作区别)。 NFA工作方式如下，先在字符串中查找 y 然后匹配其后是否为 a ，如果是 a 则继续，查找其后是否为 m 如果不是则匹配其后是否为 n (此时淘汰msen选择支)。然后继续看其后是否依次为 s,e，接着测试是否为 n ，是 n 则匹配成功，不是则测试是否为 m 。为什么是 m ？因为 NFA 工作方式是以正则表达式为标准，反复测试字符串，这样同样一个字符串有可能被反复测试了很多次！<br>而DFA则不是如此，DFA会从 this 中 t 开始依次查找 y，定位到 y ，已知其后为a，则查看表达式是否有 a ，此处正好有a 。然后字符串a 后为n ，DFA依次测试表达式，此时 msen 不符合要求淘汰。nsen 和 nsem 符合要求，然后DFA依次检查字符串，检测到sen 中的 n 时只有nsen 分支符合，则匹配成功！<br>由此可以看出来，两种引擎的工作方式完全不同，一个(NFA)以表达式为主导，一个(DFA)以文本为主导！一般而论，DFA引擎则搜索更快一些！但是NFA以表达式为主导，反而更容易操纵，因此一般程序员更偏爱NFA引擎！ 两种引擎各有所长，而真正的引用则取决与你的需要以及所使用的语言！</p>
<h1 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(转义字符)若要匹配这些特殊字符之一，在字符前面加反斜杠字符 (\)。 </span><br><span class="line">例如，若要搜索“+”文本字符，可使用表达式“\+”。</span><br></pre></td></tr></table></figure>
<p> 元字符 行为 示例 /* 零次或多次匹配前面的字符或子表达式。<br>等效于 {0,}。 zo/* 与“z”和“zoo”匹配。 + 一次或多次匹配前面的字符或子表达式。<br>等效于 {1,}。 zo+ 与“zo”和“zoo”匹配，但与“z”不匹配。 ？ 零次或一次匹配前面的字符或子表达式。<br>等效于 {0,1}。<br>当 ? 紧随任何其他限定符（/*、+、?、{n}、{n,} 或 {n,m}）之后时，匹配模式是非贪婪的。<br>非贪婪模式匹配搜索到的、尽可能少的字符串， 而默认的贪婪模式匹配搜索到的、<br>尽可能多的字符串。 zo+ 与“zo”和“zoo”匹配，但与“z”不匹配。 ^ 匹配搜索字符串开始的位置。 如果标志中包括 m（多行搜索）字符，^ 还将匹配 \n 或 \r 后面的位置。<br>如果将 ^ 用作括号表达式中的第一个字符，则会对字符集求反。 ^\d{3} 与搜索字符串开始处的 3 个数字匹配。<br>[^abc] 与除 a、b 和 c 以外的任何字符匹配。 $ 匹配搜索字符串结尾的位置。 如果标志中包括 m（多行搜索）字符，^ 还将匹配 \n 或 \r 前面的位置。 \d{3}$ 与搜索字符串结尾处的 3 个数字匹配。 . 匹配除换行符 \n 之外的任何单个字符。 若要匹配包括 \n 在内的任意字符，请使用诸如 [\s\S] 之类的模式。 a.c 与“abc”、“a1c”和“a-c”匹配。 [] 标记括号表达式的开始和结尾。 [1-4] 与“1”、“2”、“3”或“4”匹配。 [^aAeEiIoOuU] 与任何非元音字符匹配。 {} 标记限定符表达式的开始和结尾。 a{2,3} 与“aa”和“aaa”匹配。 () 标记子表达式的开始和结尾。 可以保存子表达式以备将来之用。 A(\d) 与“A0”至“A9”匹配。 保存该数字以备将来之用。 | 指示在两个或多个项之间进行选择。 z|food 与“z”或“food”匹配。 (z|f)ood 与“zood”或“food”匹配。 / 表示 JScript 中的文本正则表达式模式的开始或结尾。<br>在第二个“/”后添加单字符标志可以指定搜索行为。 /abc/gi 是与“abc”匹配的 JScript 文本正则表达式。<br>g（全局）标志指定查找模式的所有匹配项，i（忽略大小写）标志使搜索不区分大小写。 | 将下一字符标记为特殊字符、文本、反向引用或八进制转义符。 \n 与换行符匹配。 ( 与“(”匹配。 \ 与“”匹配。</p>
<h1 id="元字符"><a href="#元字符" class="headerlink" title="元字符"></a>元字符</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下表包含了多字符元字符的列表以及它们在正则表达式中的行为。</span><br></pre></td></tr></table></figure>
<p> 元字符 行为 示例 \b 与一个字边界匹配；即字与空格间的位置。 er\b 与“never”中的“er”匹配，但与“verb”中的“er”不匹配。 \B 非边界字匹配。 er\B 与“verb”中的“er”匹配，但与“never”中的“er”不匹配。 \d 数字字符匹配。等效于 [0-9]。 在搜索字符串“12 345”中，\d{2} 与“12”和“34”匹配。 \d 与“1”、“2”、“3”、“4”和“5”匹配。 \D 非数字字符匹配。等效于 [^0-9]。 \D+ 与“abc123 def”中的“abc”和“def”匹配。 \w 与以下任意字符匹配：A-Z、a-z、0-9 和下划线。等效于 [A-Za-z0-9_]。 在搜索字符串“The quick brown fox…”中，\w+ 与“The”、“quick”、“brown”和“fox”匹配。 \W 与除 A-Z、a-z、0-9 和下划线以外的任意字符匹配。等效于 [^A-Za-z0-9_]。 在搜索字符串“The quick brown fox…”中，\W+ 与“…”和所有空格匹配。 [xyz] 字符集。 与任何一个指定字符匹配。 [abc] 与“plain”中的“a”匹配。 [^xyz] 反向字符集。 与未指定的任何字符匹配。 [^abc] 与“plain”中的“p”、“l”、“i”和“n”匹配。 [a-z] 字符范围。 匹配指定范围内的任何字符。 [a-z] 与“a”到“z”范围内的任何小写字母字符匹配。 [^a-z] 反向字符范围。 与不在指定范围内的任何字符匹配。 [^a-z] 与不在范围“a”到“z”内的任何字符匹配。 {n} 正好匹配 n 次。 n 是非负整数。 o{2} 与“Bob”中的“o”不匹配，但与“food”中的两个“o”匹配。 {n,} 至少匹配 n 次。 n 是非负整数。<br>/* 与 {0,} 相等。</p>
<ul>
<li>与 {1,} 相等。 o{2,} 与“Bob”中的“o”不匹配，但与“foooood”中的所有“o”匹配。 {n,m} 匹配至少 n 次，至多 m 次。 n 和 m 是非负整数，其中 n &lt;= m。 逗号和数字之间不能有空格。<br>? 与 {0,1} 相等。 在搜索字符串“1234567”中，\d{1,3} 与“123”、“456”和“7”匹配。</li>
</ul>
<h1 id="非打印字符"><a href="#非打印字符" class="headerlink" title="非打印字符"></a>非打印字符</h1><p>字符 匹配 等效于 \f 换页符。 \x0c 和 \cL \n 换行符。 \x0a 和 \cJ \r 回车符。 \x0d 和 \cM \s 任何空白字符。 其中包括空格、制表符和换页符。 [ \f\n\r\t\v] \S 任何非空白字符。 [^ \f\n\r\t\v] \t Tab 字符。 \x09 和 \cI \v 垂直制表符。 \x0b 和 \cK</p>
<h1 id="优先级顺序"><a href="#优先级顺序" class="headerlink" title="优先级顺序"></a>优先级顺序</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">正则表达式的计算方式与算术表达式非常类似；即从左到右进行计算，并遵循优先级顺序。</span><br><span class="line">下表按从高到低的顺序包含了正则表达式运算符的优先级顺序。</span><br></pre></td></tr></table></figure>
<p> 运算符 说明 \ 转义符 (), (?:), (?=), [] 括号和中括号 /*、+、?、{n}、{n,}、{n,m} 限定符 ^、$、\任何元字符 定位点和序列 | 替换</p>
<h1 id="在线校验"><a href="#在线校验" class="headerlink" title="在线校验"></a>在线校验</h1><p><a href="https://regex101.com/" target="_blank" rel="noopener">https://regex101.com/</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/02/01/%E8%81%8A%E4%B8%80%E8%81%8A%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/02/01/%E8%81%8A%E4%B8%80%E8%81%8A%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/" class="post-title-link" itemprop="url">聊一聊职业发展</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-02-01 16:33:59" itemprop="dateCreated datePublished" datetime="2019-02-01T16:33:59+08:00">2019-02-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%96%B9%E6%B3%95%E4%B8%8E%E7%AE%A1%E7%90%86/" itemprop="url" rel="index">
                    <span itemprop="name">方法与管理</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/02/01/%E8%81%8A%E4%B8%80%E8%81%8A%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/" class="post-meta-item leancloud_visitors" data-flag-title="聊一聊职业发展" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/02/01/%E8%81%8A%E4%B8%80%E8%81%8A%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/02/01/%E8%81%8A%E4%B8%80%E8%81%8A%E8%81%8C%E4%B8%9A%E5%8F%91%E5%B1%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>目录</p>
<h2 id="老生常谈，再谈谈测试职业发展"><a href="#老生常谈，再谈谈测试职业发展" class="headerlink" title="老生常谈，再谈谈测试职业发展"></a>老生常谈，再谈谈测试职业发展</h2><h4 id="有这么个普遍现象"><a href="#有这么个普遍现象" class="headerlink" title="有这么个普遍现象"></a>有这么个普遍现象</h4><p>测试招聘者，特别是一、二线互联网公司的招聘者最苦恼的事儿就是招人。想找到一个合适的人难于上青天，每天各种撒网，简历看几百份，面大几十人，能捞到一个中意的小伙伴就谢天谢地了。但同时很多测试小伙伴发现找工作很难，特别是进大一点的厂，他们特别挑：代码要会写，要有软件架构能力，问一大坨平时根本用不到的技术问题，还挑经验，挑沟通能力，挑这挑那，有时候还特么挑学历、挑年龄。。。 供求总难以匹配起来，造成了双方都很痛苦。</p>
<h4 id="Why？"><a href="#Why？" class="headerlink" title="Why？"></a>Why？</h4><p>能力要求不匹配是最核心的问题。软件、互联网近20年来飞速成长，其实也经历了很多阶段。行业软件兴盛阶段和外包兴盛阶段（2000-2010年）行业进入了大量的测试人员，当时最主流的测试实践是：重心放在系统验收阶段。测试人员的主要工作基本都投入在了基于业务的黑盒测试上，对代码能力、系统理解的能力要求不多。2010年后，互联网行业的真正兴起让国内软件开发模式开始缓慢调头，快速迭代的模式逐步兴起，开发周期越来越短，迭代越来越快，但系统越来越越庞大、复杂。原来的测试工作模式和工作范围越来越无法满足要求了。但大量从业人员技能范围转变是一件很难的事情，行业是有巨大惯性的。<strong>从宏观上看大量QA技能转变跟不上需求转变是造成市场供求不匹配的主要原因</strong>。</p>
<h4 id="So-What"><a href="#So-What" class="headerlink" title="So What?"></a>So What?</h4><p>三个观点：1. 只做手工测试，不懂系统实现的测试工程师的职业发展会越来越受限。2. 能够转型成适应市场需求的同学将在近几年的时间获得超额回报（因为市场供不应求，企业不得不抬高价格来寻找这样的人）。3.<strong>对于个体来说，自我成长永远最重要</strong>，自己永远要对自己的发展负责，别依赖外部环境，自己想办法变成市场的香饽饽才靠谱。</p>
<h4 id="到底什么样的人抢手？"><a href="#到底什么样的人抢手？" class="headerlink" title="到底什么样的人抢手？"></a>到底什么样的人抢手？</h4><p>按照我一点理解讲一讲什么样子的人会抢手吧，限于篇幅会偏重技术角度来讲。个人之见，欢迎讨论和拍砖。</p>
<h4 id="高段位要求（高级职位需求）"><a href="#高段位要求（高级职位需求）" class="headerlink" title="高段位要求（高级职位需求）"></a>高段位要求（高级职位需求）</h4><p>例子2：上面的问题，除了环境，还有一个槽点：开发提测质量不高。测试的头几天，很多主流程都走不通，导致测试总是在等待，或者是跟着开发一起联调。而这段时间，已经被习惯性的认为是测试时间了，因为：<strong>提测了。</strong></p>
<p>你推动了：测试提供冒烟用例，开发必须完成一定程度的自测才能提测。<br>你推动了：测试和开发做自动化同期共建，在开发过程中，核心功能就被自动化用例保护起来了。<br>你推动了：开发切分feature提测，而不是攒一个大招一下子提一坨。<br>你推动了：代码Codereview变成团队常规活动，QA在早期跟进核心代码，把问题坑杀在萌芽阶段。<br>你推动了：外部资源联调非常早的进行，不会让它在测试后期成为测试blocker。<br>。。。</p>
<p>例子3：你发现测试时间长，QA自己也有问题。</p>
<p>你推动了：有明确的测试计划，并让所有干系人都有明确的预期。<br>你推动了：测试依据风险测试，最大的风险得到最快的cover，科学分配时间，明显缩短bug反馈时间弧。<br>你推动了：bug严格管理，所有重要bug都及时修复。<br>你推动了：良好的沟通和汇报机制，<strong>每天让团队主要干系人清晰的知道，距离发布还差多远。</strong><br>你推动了。。。。</p>
<p>你能讲出自己做过5个以上这样的成功例子，我敢保障，你会被1线大厂疯抢。职级基本都是专家起。</p>
<p>例子1：<br>你近期的工作是帮助团队提升后台服务稳定性。你看到了netflix内部使用一个叫做ChaosMonkey的东西来随机对生产服务期进行攻击，而逼迫工程师提高稳定性，所以，你也实现了类似（更温和）的内部机制，推动团队稳定性的提高。<br>你怎么知道这个叫做ChaosMonkey的东西呢？ 因为你会习惯性浏览一线厂商的技术博客，参与行业大会，关注各类新技术。持续性的养成习惯。</p>
<p>例子2：<br>做大规模接口自动化好难，外部数据依赖太难搞，参数构造太费劲，assert太难写。如果能够简单的录制回放就好了。<br>但是，外部依赖是个天坑，写操作mock也是个天坑，assert也是个天坑。<br>实际的案例是，经过几年多个团队持续不屑的填坑，阿里内部已经有应用级的录制回放工具了，数百个应用成功的是用了它，把不可能回归的任务变成了可能（上万数量级的case当天生成，当天投入使用，并可以分析覆盖率），自动化测试实施需要付出的工作时间革命性降低（不足原来付出时间的10%）。</p>
<p>你能讲出自己做过5个以上这样的成功例子，我敢保障，你也会被1线大厂疯抢。职级基本都是专家起。</p>
<h4 id="怎么转型-怎么进阶？"><a href="#怎么转型-怎么进阶？" class="headerlink" title="怎么转型/怎么进阶？"></a>怎么转型/怎么进阶？</h4><p>其实不难，没有什么高端的方法。下面这4条就够了，核心秘密就是<strong>坚持不懈</strong>。</p>
<p>看到有同学说要裸辞，去接受培训。我的建议是，别这样。裸辞你就失去了学以致用的阵地，失去了真正解决问题的机会，还失去了资金来源。依托工作，自主学习是王道。自己饶过不去坎，其实有很多网上教程和非脱产培训班啊。</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>偏重技能角度讲了讲市场的需求和QA如何做如何满足市场需求。行文仓促，认识有限，其实也并没有什么新东西。欢迎讨论拍砖啊：）</p>
<p>最后放一篇老文，前google测试总监写的，写了快10年了，但我觉得常读常新。</p>
<h2 id="顺手发个招聘广告"><a href="#顺手发个招聘广告" class="headerlink" title="顺手发个招聘广告"></a>顺手发个招聘广告</h2><p>我的team在招聘QA小伙伴。地点北京，技术职级P6或者P7 。 P8也有可能（只要你足够强悍）<br>偏后端测试，有意者请邮件我啊 <a href="mailto:daohe.lxg@alibaba-inc.com" target="_blank" rel="noopener">daohe.lxg@alibaba-inc.com</a></p>
<p>———————————————————–我是分割线——————————————–</p>
<h2 id="经营成功的测试职业生涯"><a href="#经营成功的测试职业生涯" class="headerlink" title="经营成功的测试职业生涯"></a>经营成功的测试职业生涯</h2><p>(James A. Whittaker）</p>
<p>你是如何开始做测试工作的？</p>
<p>1989年，我在田纳西大学读研究生的时候，完成了从软件开发人员到软件测试人员的转型。而这一转型并非出于我自己的选择。我命运的改变发生在一个早晨，我的教授质问我为什么缺席那么多开发会议。我解释说因为会议被安排在星期六早上，很不方便。</p>
<p>而怍为一个生平第一次离开家的新入校的研究生，这个时间段有些麻烦。十分有意思的是，等待我的惩罚并不是一纸解聘通知书，而是被判罚为该小组的唯一一个测试人员，且不能与开发团队有任何交流。</p>
<p>对于我的职业生涯来说，这是一个意义多么重大的决定啊！正是这个决定最终成就了几十篇关于测试的论文，构建了多得连我自己也记不清的各种工具，出版了五本书，带来了无尽的快乐工作时间。测试一直就是我拥有的那份具有创造性和技术挑战性的快乐职业。不过，并不是所有人都喜欢这样。可以说我最早接触测试是在攻读研究生期问，不可否认，那时的高强度学习和工作确实让我受益匪浅。另外，我认为从初学者阶段到专家阶段之间存在着一个“测试的山峰”，人们需要通过一系列个人辅导、获取信息和接受常规指导来翻越山峰。成为一个测试初学者是很容易的，成为职业的测试人员也并不艰难。本章的重点正是讨论如何翻越那座位于职业测试人员和测试专家之间的山峰。</p>
<p>回到未来</p>
<p>在软件测试领域，时间似乎已经停滞了。我们在21世纪做事的方法与上个世纪几乎完全相同。Bill Hetzel在1972年出版的测试知识丛书至今仍然相当有价值。而我自己所写，于2002年首次出版的How to Break Software(如何攻破软件)系列，到今天仍被作为实用软件测试技术主要资源的代名词。</p>
<p>确实，如果我们可以把20世纪70年代的测试人员转换时空用在今日，我猜想他们的的技巧足够应付现代软件的测试。当然，他们需要学习网络和各种网络协议，但是他们拥有的实际测试技术将能得到很好的应用。如果从20世纪90年代找一个测试人员，则不几乎不需要任何训练。</p>
<p>对于开发人员来说，却不是这样，他们所掌握的那些上世纪的技巧几乎已经完全过 时。让一个有一段时间不写代码的人重新开始编程，看看会有什么样的反应。让我感到很不安的是，我们可以从马路上直接雇用人手，而雇来的这些人从第一天起就能够测试，就能够有收获。事情真的有那么简单吗？或者是我们的期望值只有那么低？让我更加不安的是，我们没有任何可预测的方式将合适的测试人才从胜任工作状态训练为测试专。测试真的就那么困难吗？</p>
<p>这又是那个山峰了。门槛很低，但通往精通的道路却很艰难。</p>
<p>在通往测试山峰的入口，我们倚仗的是这样一个事实：测试的很多方面都很容易掌握。大多数人都可以学得有模有样。甚至只要将一点点常识应用于输入的选择,就可以找出缺陷。这个层次的测试就如同在桶里钓鱼，简单到足以让任何人都认为自己很聪明。然而过了入口以后，道路迅速陡峭起来，而测试知识变得越来越晦涩难懂。我们发现有人擅长于此，我们称这些人为“有天赋的人”，并欣赏他们的本能。</p>
<p>难道一定要依靠本能么？对于那些看起来不具备特长的人们，是否存在着一条翻越山峰的途径？是否可以以某种方法传授测试技能以培养出更多的专家呢？为认为这座山峰是可以通行的，而这一章正是我关于应该如何走这条路的笔记，你可以在自己的职业生涯中加以应用。这并不是一份食谱配方，一份职业生涯烹调书。不过你可以做一些事情来加速你的职业成长。但是，正如你可能已经猜到的，真正是说来容易，做起来难。</p>
<p>上山</p>
<p>测试职业的早期阶段主要是为征服测试山峰的漫长攀登做准备。我所能给出的最好的建议是从两个方面来思考问题。对于你参与的每一个项目，都有两部分（不一定相等）的任务。第一部分的任务是保证当前的测试项目获得成功。而第二部分的任务是学习你应该做些什么以便使下一个测试项目更加容易。我把它称为“测试今天的项目，准备明天的项目”。如果你做每一个项目把它都分割成为上述的两半，那么几乎可以保证你能持续获得进步。这样，你就可以随着每一个参与的项目逐渐成长为更优秀的测试人员。</p>
<p>现在就让我们来关注第二部分的任务——为下一个项目做准备。我们需要注意三个概念：重复、技术和漏洞。</p>
<p>重复</p>
<p>做任何一件事，绝不要重复两次而不意识到或质疑这其实是个问题。我希望所有年轻的测试人员都牢记这一点。我见过很多初学者，他们在单调的任务上浪费了太多的时间，比如，设置测试机器，配置测试环境，在实验室里安装待测试的应用程序，选择一个产品版本来测试-这些任务列表可以变得很长，最后你会发现真正花在测试软件上的时间少得可怜。</p>
<p>这是许多新手常犯的错误。他们没能看到他们日复一日所做的工作的重复本质，儿当他们意识到这种重复时，几个小时已经过去了，而在这几个小时内他们没有做任何实际的测试工作。关注这些重复劳动，并且留意由此造成的真正的软件测试工作时间的流逝。为了能翻过测试的山峰，必须做一个测试人员应该做的工作，而不是实验室管理员或者测试机管理员的工作。</p>
<p>测试自动化是解决重复劳动的方案，也是本章稍后的主题。</p>
<p>技术</p>
<p>测试人员常常会对软件失效进行分析。分析缺陷时，我们从开发人员的失败中学习如何编写可靠的代码。我们也分析那些被我们忽略的缺陷。在应用程序上市以后，客户就会开始报告缺陷，我们将要面对处理一大堆失效的情形并寻找其中的重要缺陷。用户报告的每一个缺陷都说明我们的流程有问题，我们的测试知识还不够完善。</p>
<p>但是分析我们的成功也同样重要，儿许多新入职的测试人员却没能利用这个唾手可得的资源。我们在测试中找到的每一个缺陷都说明我们的的测试流程正在有效工作，都是一次成功。我们需要紧紧抓住这种绝好的机会，只有这样才能使成功不断的重复下去。</p>
<p>运动队常常这样做，他们会观看比赛录像，并分析每一个动作为什么奏效或者为什么不奏效。我清楚地记得一个小故事，我的一个朋友拍下了我儿子踢足球的一些照片。其中一张照片记录了她踢球的瞬间，那个球超过对方守门员成功进球了。当我把它给我儿子看时，我之处他站立的那条腿的姿势非常完美，他踢球的脚尖紧绷且出球点在鞋带间恰到好处的位置上。他盯着那张照片很长时间，从那以后他很少用不正确的姿势踢球。他那次得分可能只是碰巧做对了，但从此以后他有意识的运用这些技术使之接近完美。</p>
<p>现在回到新手测试人员的课程上来。我们每一个人都会有得意的时刻。我们找到重要的漏洞或发现优先级很高的缺陷，并为此雀跃不已。不过先花点时间考虑一下整体状况。我们使用什么技术找到了那个缺陷？我们是否可以创建一种方法来找到更多这类缺陷？我们是否可以记住…些实际的测试经验并不断地加以应用来帮助提高我们的工作效率？软件的哪些症状可以提示我们它具有缺陷？我们将来能否从那些症状中得到更多的警示？换句话说，这不仅仅是一个缺陷或是一次成功，这个缺陷教会了我们什么，是否使得我们将来成为更好的测试人员正如我儿子的进球一样，尽管第一个缺陷是偶然间发现的，但它不代表其余的成功都是偶然。理解我们成功的原因很重要，只有这样做，成功才能被复制。对于测试人员来说，这种保证成功的原因就是一系列的测试技术、建议和工具，它们可以提高我们在未来项目中的工作效率。</p>
<p>漏洞</p>
<p>测试人员最终都会变得很擅长寻找缺陷，但是要翻过测试的高峰，我们必须更快并且更有效率：高速低阻。换句话说，我们必须拥有一种本身不含缺陷的缺陷查找技术！</p>
<p>我喜欢这样来考虑问题：测试人员检视自己的工作时也需要发挥那种寻找缺陷的能力。我们必须使用和寻找产品缺陷一样的流程来寻找我们自己的测试流程，测试过程中的缺陷。我的测试流程是不是有问题？这里面是否有缺陷？这里是否存在着妨碍我提高效率的障碍？</p>
<p>你必须一直寻找更好的方法。有意识地去确定那些限制能力、阻碍前进、减缓速度的东西。就像缺陷限制了软件满足用户需求的能力一样，是什么限制了测试的能力？使用你拥有的测试能力来最优化自己的测试流程，这会帮助你在测试的山峰上快速攀登并增加你翻越山峰后成为专家的机会。</p>
<p>测试山峰的巅峰处是一个美好的地方。如果你成功地到了那里，恭喜你．但这并不是最终日标。这表示你已经成为一个杰出的测试人员。而此时的下坡路就是用你的洞察力和专家知识来帮助周围的人也成为优秀的测试人员。自己一个人登顶是一回事，帮助其他人（那些能力不如你的人）登顶却完全是另外一回事。</p>
<p>一般来说，那些成功登上测试巅峰的人会成为使用工具的大师。那些商业工具、开开源免费工具,和自己写的工具（我个人最喜欢的工具）是极好地提高工作产出、增加工作成效的方法。不过，工具只是实现该目标的一种方法，但在许多其他方面它反而是一种限制，因为太多的人看不到工具的功能之外的东西。他们被限制在工具能为他们所做的事情中，没能看到或理解对工具还有更多的需求。登顶需要真正掌握的是“信息”。因为很多工具能处理信息，并使得信息的获取更加容易，所以测试人员变得过于依赖于他们的工具。但是信息本身以及如何利用这些信息才是真正的成功关键。</p>
<p>熟练掌握信息，指理解有哪些信息，这些信息将如何影响测试，保证最大限度地利用这些影响。有几类信息是测试登顶者必须关注的。这里我要谈的是其中两种：来自应用程序的信息和来自之前测试的信息。</p>
<p>来自应用程序的信息包括需求、体系结构、代码结构、源代码……甚至是关于应用程序在执行时做了哪些事情的运行信息。在编写和执行测试用例时，需要考虑这类信息，但信息的多寡在很大程度上取决于测试人员的能力，这是一种能够使测试更高效的能力。在测试中使用这类信息越多，测试就越偏向于工程而不是猜测。</p>
<p>在微软，我们有一个游戏测试组织（Games Test Organization,GTO），负责Xbox和PC游戏的测试。谈到利用应用程序的信息，他们是最优秀的。游戏是难以想象的丰富，测试起来非常复杂。游戏中很多可测试的内容都是隐藏的（因为让那些玩家找寻可以交换的物品正是游戏的乐趣之一）o如果GTO的测试人员所做的仅仅是玩游戏，那么他们找到的问题不会比最终用户更多。为了能做得更好，他们与游戏的开发人员合作创建了一些信息控制板，这些控制板暴露了一些基本上可以算得上作弊的信息给测试人员。这样，测试人员就能提前知道怪物会被投放在何处、物品被隐藏在哪里，他们可以看到墙的另一边，可以控制敌方的某些行为。他们的作弊工具（即测试工具）基本上使他们成为游戏里的神，让他们可以控制看到的信息以便更快更巧妙地测试。这个例子给有测试人员都上了一课。</p>
<p>来自测试的信息意味着你必须关注在测试时所做的一切，并使用获得的信息来影响今后的测试。你是否知道你的测试是如何与需求结合的，知道何时某一特定需求已经得到足够的测试？你是否使用代码覆盖率来影响未来的测试？你知道当代码更新或缺陷修复时那些测试会受到影响，还是知识重新运行所有的测试？理解测试进行到什么程度并随着测试调整测试策略，这是测试成熟的标志。</p>
<p>我以前曾在微软的Visual Studio的一个小组工作过，我们大量使用代码改动量（由于添加新特性或修复缺陷而改变的代码）和代码覆盖来影响我们的测试。我们花了很大的力气将代码覆盖和代码改动量通知测试人员，帮助他们理解哪些测试用例对覆盖率有贡献，帮助他们测试改动过的或修改过的组件。最终的结果是在代码确实被改动时，我们清楚地知道哪些测试会被影响而只重新运行那些测试。我们还知道每个新的测试用例是如何对总体的接口，特性和代码覆盖率产生作用的，从而指导我们的测试人员，让团队中的每个人在他们所创建的所有测试用例基础上，写出更有意义的测试。</p>
<p>你用哪些信息来指导你的测试？你如何保证信息是可获取的，以便在测试中随时可以得到？你如何使得信息变得有用，以便它能以良好的方式影响你的测试？这些问题的答案将决定你在走下专家测试山峰时的前进速度。</p>
<p>下山</p>
<p>到达测试山峰的顶峰的时候，你已经成为一个十分能干的测试人员了，能力也许相当于你组里所有同事能力的总和。无论你在做什么，请不要试图做得比你的整个团队都好，不管你对此感觉有多好，或是你的老板对你遏得有多紧。一旦你走在下坡的路上，就不要再去争取“找到最多缺陷的人”或是“找到最有意义缺陷的人”这样的荣誉头衔。反而我推荐你减少花在测试上的时间，而把创新作为你的首要任务。</p>
<p>在测试上创新指不急于向前，而是仔细观察、洞察先机、找到瓶颈并改进团队中所有其他人的工作方式。你的工作变为帮助其他人进步。在微软，我们有一个专门为此而设的正式职位——测试架构师。不过，不要因为缺少一个很酷的头衔而让你沮丧。无论别人怎么称呼你，当你在“下坡的路上，你能做的最好的事就是尽量保证更多的人能成功地爬上山峰的另一侧。</p>
<p>原文地址：<br><a href="https://testerhome.com/topics/16354" target="_blank" rel="noopener">https://testerhome.com/topics/16354</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://blog.windanchaos.tech/2019/01/23/%E6%8F%90%E9%AB%98%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF%E6%89%8B%E6%AE%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="windanchaos">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宇弦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/01/23/%E6%8F%90%E9%AB%98%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF%E6%89%8B%E6%AE%B5/" class="post-title-link" itemprop="url">提高数据库业务代码性能的几种技术手段</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-23 18:16:22" itemprop="dateCreated datePublished" datetime="2019-01-23T18:16:22+08:00">2019-01-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-11-23 23:11:57" itemprop="dateModified" datetime="2019-11-23T23:11:57+08:00">2019-11-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">性能测试</span>
                  </a>
                </span>
            </span>

          
            <span id="/2019/01/23/%E6%8F%90%E9%AB%98%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF%E6%89%8B%E6%AE%B5/" class="post-meta-item leancloud_visitors" data-flag-title="提高数据库业务代码性能的几种技术手段" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/2019/01/23/%E6%8F%90%E9%AB%98%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF%E6%89%8B%E6%AE%B5/#comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2019/01/23/%E6%8F%90%E9%AB%98%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD%E7%9A%84%E5%87%A0%E7%A7%8D%E6%8A%80%E6%9C%AF%E6%89%8B%E6%AE%B5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="navicat中的explain"><a href="#navicat中的explain" class="headerlink" title="navicat中的explain"></a>navicat中的explain</h1><p>单条查询语句的性能分析。</p>
<h1 id="阿里云混合云数据库管理HDM方案"><a href="#阿里云混合云数据库管理HDM方案" class="headerlink" title="阿里云混合云数据库管理HDM方案"></a>阿里云混合云数据库管理HDM方案</h1><p>利用阿里云提供的混合云，无侵入的方式监控数据的各项性能和指标。</p>
<h1 id="sqlprofiler"><a href="#sqlprofiler" class="headerlink" title="sqlprofiler"></a>sqlprofiler</h1><p>工具的机制是在本机启动一个拦截服务（127.0.0.1:4040），本机的开发环境需要将jdbc连接串修改为指向该ip和端口，拦截服务获取sql后，传递给数据库并执行，从而统计出相关数据。<br>官网：<a href="http://www.profilesql.com/" target="_blank" rel="noopener">http://www.profilesql.com/</a></p>
<h1 id="集成druid"><a href="#集成druid" class="headerlink" title="集成druid"></a>集成druid</h1><p>Druid是Java语言中最好的数据库连接池。Druid能够提供强大的监控和扩展功能。具体用法可自行百度。<br>GitHub:<a href="https://github.com/alibaba/druid" target="_blank" rel="noopener">https://github.com/alibaba/druid</a></p>
<h1 id="监控slowSQL"><a href="#监控slowSQL" class="headerlink" title="监控slowSQL"></a>监控slowSQL</h1><p>看咋个实现了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="windanchaos"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">windanchaos</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/windanchaos" title="GitHub &amp;rarr; https:&#x2F;&#x2F;github.com&#x2F;windanchaos" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/windanchaos" title="Gitee &amp;rarr; https:&#x2F;&#x2F;gitee.com&#x2F;windanchaos" rel="noopener" target="_blank"><i class="fa fa-fw fa-gitee"></i>Gitee</a>
      </span>
      <span class="links-of-author-item">
        <a href="/mailto:454722630@qq.com" title="E-Mail &amp;rarr; mailto:454722630@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/windanchaos" title="Weibo &amp;rarr; https:&#x2F;&#x2F;weibo.com&#x2F;windanchaos" rel="noopener" target="_blank"><i class="fa fa-fw fa-weibo"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/windanchaos" title="CSDN &amp;rarr; https:&#x2F;&#x2F;blog.csdn.net&#x2F;windanchaos" rel="noopener" target="_blank"><i class="fa fa-fw fa-CSDN"></i>CSDN</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
  <div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">备案/许可证编号 </a>
      <img src="http://www.beian.gov.cn/portal/download" style="display: inline-block;"><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=19036728" rel="noopener" target="_blank">蜀ICP备19036728号 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">windanchaos</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.0.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.5.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>






  <script>
  function leancloudSelector(url) {
    return document.getElementById(url).querySelector('.leancloud-visitors-count');
  }
  if (CONFIG.page.isPost) {
    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = visitors.getAttribute('id').trim();
      var title = visitors.getAttribute('data-flag-title').trim();

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .then(response => response.json())
              .then(() => {
                leancloudSelector(url).innerText = counter.time + 1;
              })
              .catch(error => {
                console.log('Failed to save visitor count', error);
              })
          } else {
              Counter('post', '/classes/Counter', { title: title, url: url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.log('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  } else {
    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return element.getAttribute('id').trim();
      });

      Counter('get', `/classes/Counter?where=${JSON.stringify({ url: { '$in': entries } })}`)
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length === 0) {
            document.querySelectorAll('.leancloud_visitors .leancloud-visitors-count').forEach(element => {
              element.innerText = 0;
            });
            return;
          }
          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            leancloudSelector(url).innerText = time;
          }
          for (var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = leancloudSelector(url);
            if (element.innerText == '') {
              element.innerText = 0;
            }
          }
        })
        .catch(error => {
          console.log('LeanCloud Counter Error', error);
        });
    }
  }

  fetch('https://app-router.leancloud.cn/2/route?appId=0indNw0niJU8jN2a1E43bDW7-gzGzoHsz')
    .then(response => response.json())
    .then(({ api_server }) => {
      var Counter = (method, url, data) => {
        return fetch(`https://${api_server}/1.1${url}`, {
          method: method,
          headers: {
            'X-LC-Id': '0indNw0niJU8jN2a1E43bDW7-gzGzoHsz',
            'X-LC-Key': 'toErPcjDI3431WvXQVKoy0rC',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        const localhost = /http:\/\/(localhost|127.0.0.1|0.0.0.0)/;
        if (localhost.test(document.URL)) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    });
  </script>






        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script>
<script src="/js/schemes/muse.js"></script>
<script src="/js/next-boot.js"></script>



  
















  

  


<script>
NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(item => {
    return GUEST.includes(item);
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: false,
    appId: '0indNw0niJU8jN2a1E43bDW7-gzGzoHsz',
    appKey: 'toErPcjDI3431WvXQVKoy0rC',
    placeholder: "Just go go",
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: 'zh-cn' || 'zh-cn',
    path: location.pathname,
    recordIP: false,
    serverURLs: ''
  });
}, window.Valine);
</script>

</body>
</html>
