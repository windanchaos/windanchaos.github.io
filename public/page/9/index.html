<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.13.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/9/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale">
<meta property="article:author" content="windanchaos">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/page/9/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh","comments":"","permalink":"","path":"page/9/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo</title>
  






  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-首页"><a href="/" rel="section"><i class="home fa-fw"></i>首页</a></li><li class="menu-item menu-item-分类"><a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a></li><li class="menu-item menu-item-归档"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-标签"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-关于"><a href="/about/me.html" rel="section"><i class="user fa-fw"></i>关于</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="windanchaos"
      src="/images/avatar.jpeg">
  <p class="site-author-name" itemprop="name">windanchaos</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">111</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/windanchaos" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;windanchaos" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/windanchaos" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;windanchaos" rel="noopener" target="_blank"><i class="gitee fa-fw"></i>Gitee</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:454722630@qq.com" title="E-Mail → mailto:454722630@qq.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/windanchaos" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;windanchaos" rel="noopener" target="_blank"><i class="weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/windanchaos" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;windanchaos" rel="noopener" target="_blank"><i class="CSDN fa-fw"></i>CSDN</a>
      </span>
  </div>
  <div class="cc-license site-overview-item animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/17/Splinter%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/17/Splinter%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/" class="post-title-link" itemprop="url">Splinter使用中遇到的问题集锦</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-17 01:35:58" itemprop="dateCreated datePublished" datetime="2017-02-17T01:35:58+08:00">2017-02-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="已经解决"><a href="#已经解决" class="headerlink" title="已经解决"></a>已经解决</h1><p>1、selenium.common.exceptions.ElementNotVisibleException: Message: element not visible<br>2、selenium.common.exceptions.InvalidElementStateException: Message: invalid element state: Element is not currently interactable and may not be manipulated<br>出现以上两种异常的原理：<br>1、元素还没加载出来就操作，通常是alert框，解决办法time.sleep(1)，时间自己调试。<br>2、元素你看得到，但是代码要操作的元素是跟随鼠标变更样式的，或者其他条件实时变更的，导致代码不能“看见”。这种情况就需要通过js操作dom元素来适应场景。<br>我测试页面有一个input，在鼠标不操作是时候样式如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">&quot;batch_quto&quot;</span> value=<span class="string">&quot;0&quot;</span> data-role=<span class="string">&quot;numerictextbox&quot;</span> role=<span class="string">&quot;spinbutton&quot;</span> style=<span class="string">&quot;display: none;&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;k-input&quot;</span> type=<span class="string">&quot;text&quot;</span> aria-valuemin=<span class="string">&quot;0&quot;</span> aria-valuenow=<span class="string">&quot;0&quot;</span> aria-disabled=<span class="string">&quot;false&quot;</span> aria-readonly=<span class="string">&quot;false&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>当鼠标点击输入框，样式变为：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input id=<span class="string">&quot;batch_quto&quot;</span> value=<span class="string">&quot;0&quot;</span> data-role=<span class="string">&quot;numerictextbox&quot;</span> role=<span class="string">&quot;spinbutton&quot;</span> style=<span class="string">&quot;display: inline-block;&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;k-input&quot;</span> type=<span class="string">&quot;text&quot;</span> aria-valuemin=<span class="string">&quot;0&quot;</span> aria-valuenow=<span class="string">&quot;0&quot;</span> aria-disabled=<span class="string">&quot;false&quot;</span> aria-readonly=<span class="string">&quot;false&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>二者的区别：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">style=<span class="string">&quot;display: none;&quot;</span></span><br><span class="line">style=<span class="string">&quot;display: inline-block;&quot;</span></span><br></pre></td></tr></table></figure>

<p>display 属性设置元素如何显示。所以无论是通过xpath、id来定位元素都无法用代码输入文本到input。<br>解决方法，使用splinter的js执行方法操作该input 的style属性，而要在你操作的若干个div嵌套中发现你操作的元素才是真正的难点：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 以下<span class="number">4</span>行代码耗费我<span class="number">3</span>天的时间实验验证得出</span><br><span class="line">browser.evaluate_script(<span class="string">&#x27;document.getElementById(&quot;batch_quto&quot;).style=&quot;display: inline-block; visibility: visible;&quot;&#x27;</span>)</span><br><span class="line">browser.evaluate_script(<span class="string">&#x27;document.getElementById(&quot;batch_quto&quot;).contentEditable = true&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_id</span>(<span class="string">&#x27;batch_quto&#x27;</span>).<span class="title function_">fill</span>(<span class="string">&quot;120&quot;</span>)</span><br><span class="line"># 还原样式以免影响其他显示</span><br><span class="line">browser.evaluate_script(<span class="string">&#x27;document.getElementById(&quot;batch_quto&quot;).style=&quot;display: none; visibility: visible;&quot;&#x27;</span>)</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/02/17/Splinter%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E9%9B%86%E9%94%A6/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/12/HTML%E3%80%81CSS%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/12/HTML%E3%80%81CSS%E5%9F%BA%E7%A1%80/" class="post-title-link" itemprop="url">HTML、CSS基础</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-12 14:15:48" itemprop="dateCreated datePublished" datetime="2017-02-12T14:15:48+08:00">2017-02-12</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">前端框架和技术</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文是使用splinter过程中，遇到阻碍（主要是动态样式导致element not visiable）,而推演出来的基础学习内容。以下内容早在2013年左右就看过，全当复习总结重新来一次，所以html常用的如标题、段落、链接、图像、表格等没有列入。本问内容全部来自：<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/">http://www.w3school.com.cn</a> 感谢无私的网站提供的基础学习内容。</p>
<h1 id="HTML基础概念"><a href="#HTML基础概念" class="headerlink" title="HTML基础概念"></a>HTML基础概念</h1><p>什么是 HTML？</p>
<p>HTML 是用来描述网页的一种语言。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">HTML</span> 指的是超文本标记语言 (<span class="title class_">Hyper</span> <span class="title class_">Text</span> <span class="title class_">Markup</span> <span class="title class_">Language</span>)</span><br><span class="line"><span class="variable constant_">HTML</span> 不是一种编程语言，而是一种标记语言 (markup language)</span><br><span class="line">标记语言是一套标记标签 (markup tag)</span><br><span class="line"><span class="variable constant_">HTML</span> 使用标记标签来描述网页</span><br></pre></td></tr></table></figure>

<p>HTML 标签</p>
<p>HTML 标记标签通常被称为 HTML 标签 (HTML tag)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">HTML</span> 标签是由尖括号包围的关键词，比如 &lt;html&gt;</span><br><span class="line"><span class="variable constant_">HTML</span> 标签通常是成对出现的，比如 &lt;b&gt; 和 &lt;/b&gt;</span><br><span class="line">标签对中的第一个标签是开始标签，第二个标签是结束标签</span><br><span class="line">开始和结束标签也被称为开放标签和闭合标签</span><br></pre></td></tr></table></figure>

<p>所有标签：<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/tags/index.asp">http://www.w3school.com.cn/tags/index.asp</a></p>
<p>HTML 文档 &#x3D; 网页</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">HTML</span> 文档描述网页</span><br><span class="line"><span class="variable constant_">HTML</span> 文档包含 <span class="variable constant_">HTML</span> 标签和纯文本</span><br><span class="line"><span class="variable constant_">HTML</span> 文档也被称为网页</span><br></pre></td></tr></table></figure>

<p>HTML 元素</p>
<p>HTML 元素指的是从开始标签（start tag）到结束标签（end tag）的所有代码。<br>开始标签 元素内容 结束标签</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/02/12/HTML%E3%80%81CSS%E5%9F%BA%E7%A1%80/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/09/selenium%E3%80%81splinter%E6%9F%A5%E6%89%BE%E6%93%8D%E6%8E%A7%E5%85%83%E7%B4%A0%E7%9A%84%E6%9D%80%E6%89%8B%E9%94%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/09/selenium%E3%80%81splinter%E6%9F%A5%E6%89%BE%E6%93%8D%E6%8E%A7%E5%85%83%E7%B4%A0%E7%9A%84%E6%9D%80%E6%89%8B%E9%94%8F/" class="post-title-link" itemprop="url">selenium、splinter查找操控元素的杀手锏</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-09 18:06:41" itemprop="dateCreated datePublished" datetime="2017-02-09T18:06:41+08:00">2017-02-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="1、使用xpath"><a href="#1、使用xpath" class="headerlink" title="1、使用xpath"></a>1、使用xpath</h1><p>使用splinter中无法获取到弹出框的元素，因为后台使用的div做的弹出框（看起来是javascript+css做出来的，不是浏览器原生的alert）。无意中发现chrome浏览器可以拷贝元素的xpath，于是就搞定了。<br>方法如图：<br><img data-src="/images/dn.net-20170209174710573-watermark-2-text-aHR0cDovL2Jsb2cuY3Nkbi5uZXQvd2luZGFuY2hhb3M=-font-5a6L5L2T-fontsize-400-fill-I0JBQkFCMA==-dissolve-70-gravity-SouthEast.png" alt="这里写图片描述"><br>选中元素，在开发者工具中的elements下会有选中区域，右键即可。</p>
<p>接着使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">browser.<span class="title function_">is_element_present_by_xpath</span>(<span class="string">&#x27;//*[@id=&quot;addSkuWindow&quot;]/div/div/fieldset[1]/div/div/span/span/input&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="2使用js操作元素"><a href="#2使用js操作元素" class="headerlink" title="2使用js操作元素"></a>2使用js操作元素</h1><h1 id="3使用jquery操控元素"><a href="#3使用jquery操控元素" class="headerlink" title="3使用jquery操控元素"></a>3使用jquery操控元素</h1>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/07/%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97%E7%9A%84%E5%AE%9E%E6%97%B6%E6%8A%93%E5%8F%96%E4%BF%9D%E8%AF%81%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/07/%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97%E7%9A%84%E5%AE%9E%E6%97%B6%E6%8A%93%E5%8F%96%E4%BF%9D%E8%AF%81%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/" class="post-title-link" itemprop="url">错误日志的实时抓取保证代码质量</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-07 16:52:55" itemprop="dateCreated datePublished" datetime="2017-02-07T16:52:55+08:00">2017-02-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8B%E8%AF%95%E7%9A%84%E6%A1%86%E6%9E%B6%E5%92%8C%E6%8A%80%E6%9C%AF/" itemprop="url" rel="index"><span itemprop="name">测试的框架和技术</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>背景介绍：公司使用的网络容器是tomcat，引入了log4j，研发的代码中记录了详细的日志。所有的网页行为包括后套的job定时任务等，都会把日志按定义的级别写入tomcat&#x2F;log&#x2F;catalina.out文件中。那么监控该文件，就能捕获可视页面无法感知到的错误。<br>Linux下使用命令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f catalina.<span class="property">out</span> |grep -C <span class="number">36</span> <span class="variable constant_">ERROR</span></span><br></pre></td></tr></table></figure>

<p>该命令实时读取日志文件，把出现“ERROR”行的日志前后各36日志打印出来。</p>
<p>也可以把日志记录到文本中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f catalina.<span class="property">out</span> |grep -C <span class="number">36</span> <span class="variable constant_">ERROR</span> &gt;&gt;error.<span class="property">log</span></span><br></pre></td></tr></table></figure>

<p>下面是改命令捕获的一个错误日志，在页面上测试时候，没有弹出任何错误提示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">internalDoFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">230</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">doFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">165</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">tomcat</span>.<span class="property">websocket</span>.<span class="property">server</span>.<span class="property">WsFilter</span>.<span class="title function_">doFilter</span>(<span class="title class_">WsFilter</span>.<span class="property">java</span>:<span class="number">52</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">internalDoFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">192</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">doFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">165</span>)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">security</span>.<span class="property">SSOFilter</span>.<span class="title function_">doFilter</span>(<span class="title class_">SSOFilter</span>.<span class="property">java</span>:<span class="number">221</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">internalDoFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">192</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">doFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">165</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">web</span>.<span class="property">filter</span>.<span class="property">CharacterEncodingFilter</span>.<span class="title function_">doFilterInternal</span>(<span class="title class_">CharacterEncodingFilter</span>.<span class="property">java</span>:<span class="number">88</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">web</span>.<span class="property">filter</span>.<span class="property">OncePerRequestFilter</span>.<span class="title function_">doFilter</span>(<span class="title class_">OncePerRequestFilter</span>.<span class="property">java</span>:<span class="number">108</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">internalDoFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">192</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">ApplicationFilterChain</span>.<span class="title function_">doFilter</span>(<span class="title class_">ApplicationFilterChain</span>.<span class="property">java</span>:<span class="number">165</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">StandardWrapperValve</span>.<span class="title function_">invoke</span>(<span class="title class_">StandardWrapperValve</span>.<span class="property">java</span>:<span class="number">198</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">StandardContextValve</span>.<span class="title function_">invoke</span>(<span class="title class_">StandardContextValve</span>.<span class="property">java</span>:<span class="number">108</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">authenticator</span>.<span class="property">AuthenticatorBase</span>.<span class="title function_">invoke</span>(<span class="title class_">AuthenticatorBase</span>.<span class="property">java</span>:<span class="number">522</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">StandardHostValve</span>.<span class="title function_">invoke</span>(<span class="title class_">StandardHostValve</span>.<span class="property">java</span>:<span class="number">140</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">valves</span>.<span class="property">ErrorReportValve</span>.<span class="title function_">invoke</span>(<span class="title class_">ErrorReportValve</span>.<span class="property">java</span>:<span class="number">79</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">valves</span>.<span class="property">AbstractAccessLogValve</span>.<span class="title function_">invoke</span>(<span class="title class_">AbstractAccessLogValve</span>.<span class="property">java</span>:<span class="number">620</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">core</span>.<span class="property">StandardEngineValve</span>.<span class="title function_">invoke</span>(<span class="title class_">StandardEngineValve</span>.<span class="property">java</span>:<span class="number">87</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">catalina</span>.<span class="property">connector</span>.<span class="property">CoyoteAdapter</span>.<span class="title function_">service</span>(<span class="title class_">CoyoteAdapter</span>.<span class="property">java</span>:<span class="number">349</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">coyote</span>.<span class="property">http11</span>.<span class="property">Http11Processor</span>.<span class="title function_">service</span>(<span class="title class_">Http11Processor</span>.<span class="property">java</span>:<span class="number">1110</span>)</span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">coyote</span>.<span class="property">AbstractProcessorLight</span>.<span class="title function_">process</span>(<span class="title class_">AbstractProcessorLight</span>.<span class="property">java</span>:<span class="number">66</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">coyote</span>.<span class="property">AbstractProtocol$ConnectionHandler</span>.<span class="title function_">process</span>(<span class="title class_">AbstractProtocol</span>.<span class="property">java</span>:<span class="number">785</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">tomcat</span>.<span class="property">util</span>.<span class="property">net</span>.<span class="property">NioEndpoint$SocketProcessor</span>.<span class="title function_">doRun</span>(<span class="title class_">NioEndpoint</span>.<span class="property">java</span>:<span class="number">1425</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">tomcat</span>.<span class="property">util</span>.<span class="property">net</span>.<span class="property">SocketProcessorBase</span>.<span class="title function_">run</span>(<span class="title class_">SocketProcessorBase</span>.<span class="property">java</span>:<span class="number">49</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">concurrent</span>.<span class="property">ThreadPoolExecutor</span>.<span class="title function_">runWorker</span>(<span class="title class_">ThreadPoolExecutor</span>.<span class="property">java</span>:<span class="number">1142</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">concurrent</span>.<span class="property">ThreadPoolExecutor$Worker</span>.<span class="title function_">run</span>(<span class="title class_">ThreadPoolExecutor</span>.<span class="property">java</span>:<span class="number">617</span>)</span><br><span class="line">    at org.<span class="property">apache</span>.<span class="property">tomcat</span>.<span class="property">util</span>.<span class="property">threads</span>.<span class="property">TaskThread$WrappingRunnable</span>.<span class="title function_">run</span>(<span class="title class_">TaskThread</span>.<span class="property">java</span>:<span class="number">61</span>)</span><br><span class="line">    at java.<span class="property">lang</span>.<span class="property">Thread</span>.<span class="title function_">run</span>(<span class="title class_">Thread</span>.<span class="property">java</span>:<span class="number">745</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.183</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">INFO</span>  com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span> - selectTradeStatisticsMapcom.<span class="property">mk</span>.<span class="property">vo</span>.<span class="property">StatisticsItemVo</span>@3427a14c[date=<span class="number">02</span>-<span class="number">06</span>,ymddate=&lt;<span class="literal">null</span>&gt;,num=<span class="number">0</span>,rate=<span class="number">0</span>,ratestr=&lt;<span class="literal">null</span>&gt;,uv=<span class="number">0</span>]</span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.189</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">INFO</span>  com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span> - selectTradeStatisticsMapcom.<span class="property">mk</span>.<span class="property">vo</span>.<span class="property">StatisticsItemVo</span>@363f3a3a[date=<span class="number">02</span>-<span class="number">05</span>,ymddate=&lt;<span class="literal">null</span>&gt;,num=<span class="number">0</span>,rate=<span class="number">0</span>,ratestr=&lt;<span class="literal">null</span>&gt;,uv=<span class="number">0</span>]</span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.196</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">INFO</span>  com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span> - selectTradeStatisticsMapcom.<span class="property">mk</span>.<span class="property">vo</span>.<span class="property">StatisticsItemVo</span>@719b7a9e[date=<span class="number">02</span>-<span class="number">04</span>,ymddate=&lt;<span class="literal">null</span>&gt;,num=<span class="number">0</span>,rate=<span class="number">0</span>,ratestr=&lt;<span class="literal">null</span>&gt;,uv=<span class="number">0</span>]</span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.201</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">INFO</span>  com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span> - selectTradeStatisticsMapcom.<span class="property">mk</span>.<span class="property">vo</span>.<span class="property">StatisticsItemVo</span>@c80b0d6[date=<span class="number">02</span>-<span class="number">03</span>,ymddate=&lt;<span class="literal">null</span>&gt;,num=<span class="number">0</span>,rate=<span class="number">0</span>,ratestr=&lt;<span class="literal">null</span>&gt;,uv=<span class="number">0</span>]</span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.207</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">INFO</span>  com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span> - selectTradeStatisticsMapcom.<span class="property">mk</span>.<span class="property">vo</span>.<span class="property">StatisticsItemVo</span>@706dab29[date=<span class="number">02</span>-<span class="number">02</span>,ymddate=&lt;<span class="literal">null</span>&gt;,num=<span class="number">0</span>,rate=<span class="number">0</span>,ratestr=&lt;<span class="literal">null</span>&gt;,uv=<span class="number">0</span>]</span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.212</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">INFO</span>  com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span> - selectTradeStatisticsMapcom.<span class="property">mk</span>.<span class="property">vo</span>.<span class="property">StatisticsItemVo</span>@6161143e[date=<span class="number">02</span>-<span class="number">01</span>,ymddate=&lt;<span class="literal">null</span>&gt;,num=<span class="number">0</span>,rate=<span class="number">0</span>,ratestr=&lt;<span class="literal">null</span>&gt;,uv=<span class="number">0</span>]</span><br><span class="line"><span class="number">2017</span>-<span class="number">02</span>-<span class="number">07</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">14.219</span> [catalina-exec-<span class="number">80</span>] <span class="variable constant_">ERROR</span> c.<span class="property">m</span>.<span class="property">b</span>.<span class="property">controller</span>.<span class="property">ExceptionResolver</span> - java.<span class="property">lang</span>.<span class="property">NullPointerException</span></span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span>.<span class="title function_">lambda$selectTradeStatisticsMap$4</span>(<span class="title class_">ShopService</span>.<span class="property">java</span>:<span class="number">241</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">TimSort</span>.<span class="title function_">countRunAndMakeAscending</span>(<span class="title class_">TimSort</span>.<span class="property">java</span>:<span class="number">355</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">TimSort</span>.<span class="title function_">sort</span>(<span class="title class_">TimSort</span>.<span class="property">java</span>:<span class="number">220</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">Arrays</span>.<span class="title function_">sort</span>(<span class="title class_">Arrays</span>.<span class="property">java</span>:<span class="number">1512</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">ArrayList</span>.<span class="title function_">sort</span>(<span class="title class_">ArrayList</span>.<span class="property">java</span>:<span class="number">1454</span>)</span><br><span class="line">    at java.<span class="property">util</span>.<span class="property">Collections</span>.<span class="title function_">sort</span>(<span class="title class_">Collections</span>.<span class="property">java</span>:<span class="number">175</span>)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService</span>.<span class="title function_">selectTradeStatisticsMap</span>(<span class="title class_">ShopService</span>.<span class="property">java</span>:<span class="number">241</span>)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService$$FastClassBySpringCGLIB$$99569971</span>.<span class="title function_">invoke</span>(&lt;generated&gt;)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">cglib</span>.<span class="property">proxy</span>.<span class="property">MethodProxy</span>.<span class="title function_">invoke</span>(<span class="title class_">MethodProxy</span>.<span class="property">java</span>:<span class="number">204</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">CglibAopProxy$CglibMethodInvocation</span>.<span class="title function_">invokeJoinpoint</span>(<span class="title class_">CglibAopProxy</span>.<span class="property">java</span>:<span class="number">711</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">ReflectiveMethodInvocation</span>.<span class="title function_">proceed</span>(<span class="title class_">ReflectiveMethodInvocation</span>.<span class="property">java</span>:<span class="number">157</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">aspectj</span>.<span class="property">MethodInvocationProceedingJoinPoint</span>.<span class="title function_">proceed</span>(<span class="title class_">MethodInvocationProceedingJoinPoint</span>.<span class="property">java</span>:<span class="number">85</span>)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">web</span>.<span class="property">aspect</span>.<span class="property">CacheAspect</span>.<span class="title function_">doArround</span>(<span class="title class_">CacheAspect</span>.<span class="property">java</span>:<span class="number">61</span>)</span><br><span class="line">    at sun.<span class="property">reflect</span>.<span class="property">GeneratedMethodAccessor442</span>.<span class="title function_">invoke</span>(<span class="title class_">Unknown</span> <span class="title class_">Source</span>)</span><br><span class="line">    at sun.<span class="property">reflect</span>.<span class="property">DelegatingMethodAccessorImpl</span>.<span class="title function_">invoke</span>(<span class="title class_">DelegatingMethodAccessorImpl</span>.<span class="property">java</span>:<span class="number">43</span>)</span><br><span class="line">    at java.<span class="property">lang</span>.<span class="property">reflect</span>.<span class="property">Method</span>.<span class="title function_">invoke</span>(<span class="title class_">Method</span>.<span class="property">java</span>:<span class="number">497</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">aspectj</span>.<span class="property">AbstractAspectJAdvice</span>.<span class="title function_">invokeAdviceMethodWithGivenArgs</span>(<span class="title class_">AbstractAspectJAdvice</span>.<span class="property">java</span>:<span class="number">621</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">aspectj</span>.<span class="property">AbstractAspectJAdvice</span>.<span class="title function_">invokeAdviceMethod</span>(<span class="title class_">AbstractAspectJAdvice</span>.<span class="property">java</span>:<span class="number">610</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">aspectj</span>.<span class="property">AspectJAroundAdvice</span>.<span class="title function_">invoke</span>(<span class="title class_">AspectJAroundAdvice</span>.<span class="property">java</span>:<span class="number">68</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">ReflectiveMethodInvocation</span>.<span class="title function_">proceed</span>(<span class="title class_">ReflectiveMethodInvocation</span>.<span class="property">java</span>:<span class="number">179</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">transaction</span>.<span class="property">interceptor</span>.<span class="property">TransactionInterceptor$1</span>.<span class="title function_">proceedWithInvocation</span>(<span class="title class_">TransactionInterceptor</span>.<span class="property">java</span>:<span class="number">98</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">transaction</span>.<span class="property">interceptor</span>.<span class="property">TransactionAspectSupport</span>.<span class="title function_">invokeWithinTransaction</span>(<span class="title class_">TransactionAspectSupport</span>.<span class="property">java</span>:<span class="number">262</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">transaction</span>.<span class="property">interceptor</span>.<span class="property">TransactionInterceptor</span>.<span class="title function_">invoke</span>(<span class="title class_">TransactionInterceptor</span>.<span class="property">java</span>:<span class="number">95</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">ReflectiveMethodInvocation</span>.<span class="title function_">proceed</span>(<span class="title class_">ReflectiveMethodInvocation</span>.<span class="property">java</span>:<span class="number">179</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">interceptor</span>.<span class="property">ExposeInvocationInterceptor</span>.<span class="title function_">invoke</span>(<span class="title class_">ExposeInvocationInterceptor</span>.<span class="property">java</span>:<span class="number">92</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">ReflectiveMethodInvocation</span>.<span class="title function_">proceed</span>(<span class="title class_">ReflectiveMethodInvocation</span>.<span class="property">java</span>:<span class="number">179</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">CglibAopProxy$DynamicAdvisedInterceptor</span>.<span class="title function_">intercept</span>(<span class="title class_">CglibAopProxy</span>.<span class="property">java</span>:<span class="number">644</span>)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">service</span>.<span class="property">ShopService$$EnhancerBySpringCGLIB$$6790a1c6</span>.<span class="title function_">selectTradeStatisticsMap</span>(&lt;generated&gt;)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">controller</span>.<span class="property">ShopController</span>.<span class="title function_">selectTradeStatisticsMap</span>(<span class="title class_">ShopController</span>.<span class="property">java</span>:<span class="number">161</span>)</span><br><span class="line">    at com.<span class="property">mk</span>.<span class="property">shop</span>.<span class="property">controller</span>.<span class="property">ShopController$$FastClassBySpringCGLIB$$8bbcf00f</span>.<span class="title function_">invoke</span>(&lt;generated&gt;)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">cglib</span>.<span class="property">proxy</span>.<span class="property">MethodProxy</span>.<span class="title function_">invoke</span>(<span class="title class_">MethodProxy</span>.<span class="property">java</span>:<span class="number">204</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">CglibAopProxy$CglibMethodInvocation</span>.<span class="title function_">invokeJoinpoint</span>(<span class="title class_">CglibAopProxy</span>.<span class="property">java</span>:<span class="number">711</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">ReflectiveMethodInvocation</span>.<span class="title function_">proceed</span>(<span class="title class_">ReflectiveMethodInvocation</span>.<span class="property">java</span>:<span class="number">157</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">adapter</span>.<span class="property">MethodBeforeAdviceInterceptor</span>.<span class="title function_">invoke</span>(<span class="title class_">MethodBeforeAdviceInterceptor</span>.<span class="property">java</span>:<span class="number">52</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">framework</span>.<span class="property">ReflectiveMethodInvocation</span>.<span class="title function_">proceed</span>(<span class="title class_">ReflectiveMethodInvocation</span>.<span class="property">java</span>:<span class="number">179</span>)</span><br><span class="line">    at org.<span class="property">springframework</span>.<span class="property">aop</span>.<span class="property">interceptor</span>.<span class="property">ExposeInvocationInterceptor</span>.<span class="title function_">invoke</span>(<span class="title class_">ExposeInvocationInterceptor</span>.<span class="property">java</span>:<span class="number">92</span>)</span><br></pre></td></tr></table></figure>

<p>找到日志，提供给开发同学，那么他自然就知道错误是怎么来的。<br>这个，是研发开发中，调试代码跟踪日志，自然而然发展出来追踪错误的一种办法。对于不懂代码或者对代码一知半解的测试来说，是发现错误一个不错的选择。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/06/Splinter%E5%B8%B8%E7%94%A8api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/06/Splinter%E5%B8%B8%E7%94%A8api/" class="post-title-link" itemprop="url">Splinter常用api</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-06 23:17:33" itemprop="dateCreated datePublished" datetime="2017-02-06T23:17:33+08:00">2017-02-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>用了几天splinter，发现github上维护的开发就1个，有问题提交过去得到的响应也很不及时（github上的issue频率判断的），要尝试的这个框架的同学请慎重考虑。不过它又抽象了一层，用起来还是很顺畅的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"># <span class="title class_">Example</span></span><br><span class="line"><span class="keyword">from</span> splinter <span class="keyword">import</span> <span class="title class_">Browser</span></span><br><span class="line"><span class="keyword">with</span> <span class="title class_">Browser</span>() <span class="keyword">as</span> <span class="attr">browser</span>:</span><br><span class="line">    # <span class="title class_">Visit</span> <span class="variable constant_">URL</span></span><br><span class="line">    url = <span class="string">&quot;http://www.google.com&quot;</span></span><br><span class="line">    browser.<span class="title function_">visit</span>(url)</span><br><span class="line">    browser.<span class="title function_">fill</span>(<span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;splinter - python acceptance testing for web applications&#x27;</span>)</span><br><span class="line">    # <span class="title class_">Find</span> and click the <span class="string">&#x27;search&#x27;</span> button</span><br><span class="line">    button = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;btnG&#x27;</span>)</span><br><span class="line">    # <span class="title class_">Interact</span> <span class="keyword">with</span> elements</span><br><span class="line">    button.<span class="title function_">click</span>()</span><br><span class="line">    <span class="keyword">if</span> browser.<span class="title function_">is_text_present</span>(<span class="string">&#x27;splinter.readthedocs.io&#x27;</span>):</span><br><span class="line">        <span class="title function_">print</span>(<span class="string">&quot;Yes, the official website was found!&quot;</span>)</span><br><span class="line">    <span class="attr">else</span>:</span><br><span class="line">        <span class="title function_">print</span>(<span class="string">&quot;No, it wasn&#x27;t found... We need to improve our SEO techniques&quot;</span>)</span><br><span class="line"># browser type</span><br><span class="line">browser = <span class="title class_">Browser</span>(<span class="string">&#x27;chrome&#x27;</span>)</span><br><span class="line">browser = <span class="title class_">Browser</span>(<span class="string">&#x27;firefox&#x27;</span>)</span><br><span class="line">browser = <span class="title class_">Browser</span>(<span class="string">&#x27;zope.testbrowser&#x27;</span>)</span><br><span class="line"># <span class="title class_">Managing</span> <span class="title class_">Windows</span></span><br><span class="line">browser.<span class="property">windows</span>              # all open windows</span><br><span class="line">browser.<span class="property">windows</span>[<span class="number">0</span>]           # the first <span class="variable language_">window</span></span><br><span class="line">browser.<span class="property">windows</span>[<span class="string">&quot;window_name&quot;</span>] # the window_name <span class="variable language_">window</span></span><br><span class="line">browser.<span class="property">windows</span>.<span class="property">current</span>      # the current <span class="variable language_">window</span></span><br><span class="line">browser.<span class="property">windows</span>.<span class="property">current</span> = browser.<span class="property">windows</span>[<span class="number">3</span>]  # set current <span class="variable language_">window</span> to <span class="variable language_">window</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"># splinter api不提供但是可以通过其他来搞定的，比如通过driver来设置<span class="variable language_">window</span>的大小。</span><br><span class="line">browser.<span class="property">driver</span>.<span class="title function_">set_window_size</span>(<span class="number">1600</span>, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span> = browser.<span class="property">windows</span>[<span class="number">0</span>]</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">is_current</span>            # boolean - whether <span class="variable language_">window</span> is current active <span class="variable language_">window</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">is_current</span> = <span class="title class_">True</span>     # set <span class="variable language_">this</span> <span class="variable language_">window</span> to be current <span class="variable language_">window</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">next</span>                  # the next <span class="variable language_">window</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">prev</span>                  # the previous <span class="variable language_">window</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">close</span>()               # close <span class="variable language_">this</span> <span class="variable language_">window</span></span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">close_others</span>()        # close all windows except <span class="variable language_">this</span> one</span><br><span class="line"># <span class="title class_">Reload</span>/back/forward a page</span><br><span class="line">browser.<span class="title function_">reload</span>()</span><br><span class="line">browser.<span class="title function_">back</span>()</span><br><span class="line">browser.<span class="title function_">forward</span>()</span><br><span class="line"></span><br><span class="line"># get page tile /page content /url</span><br><span class="line">browser.<span class="property">title</span></span><br><span class="line">browser.<span class="property">html</span></span><br><span class="line">browser.<span class="property">url</span></span><br><span class="line"></span><br><span class="line"># change <span class="title class_">Browser</span> <span class="title class_">User</span>-<span class="title class_">Agent</span></span><br><span class="line">b = <span class="title class_">Browser</span>(user_agent=<span class="string">&quot;Mozilla/5.0 (iPhone; U; CPU like Mac OS X; en)&quot;</span>)</span><br><span class="line"></span><br><span class="line"># <span class="title class_">Finding</span> elements，returns a list <span class="keyword">with</span> the found elements</span><br><span class="line">browser.<span class="title function_">find_by_css</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_xpath</span>(<span class="string">&#x27;//h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_text</span>(<span class="string">&#x27;Hello World!&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_id</span>(<span class="string">&#x27;firstheader&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_value</span>(<span class="string">&#x27;query&#x27;</span>)</span><br><span class="line"># get element</span><br><span class="line">first_found = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>).<span class="property">first</span></span><br><span class="line">last_found = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>).<span class="property">last</span></span><br><span class="line">second_found = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"># <span class="title class_">Get</span> value <span class="keyword">of</span> an element</span><br><span class="line">browser.<span class="title function_">find_by_css</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="property">first</span>.<span class="property">value</span></span><br><span class="line"></span><br><span class="line"># <span class="title class_">Clicking</span> links,<span class="keyword">return</span> the first link</span><br><span class="line">browser.<span class="title function_">click_link_by_href</span>(<span class="string">&#x27;http://www.the_site.com/my_link&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">click_link_by_partial_href</span>(<span class="string">&#x27;my_link&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">click_link_by_text</span>(<span class="string">&#x27;my link&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">click_link_by_partial_text</span>(<span class="string">&#x27;part of link text&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">click_link_by_id</span>(<span class="string">&#x27;link_id&#x27;</span>)</span><br><span class="line"></span><br><span class="line"># element is visible or invisible</span><br><span class="line">browser.<span class="title function_">find_by_css</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="property">first</span>.<span class="property">visible</span></span><br><span class="line"></span><br><span class="line"># <span class="title class_">Verifying</span> <span class="keyword">if</span> element has a className</span><br><span class="line">browser.<span class="title function_">find_by_css</span>(<span class="string">&#x27;.content&#x27;</span>).<span class="property">first</span>.<span class="title function_">has_class</span>(<span class="string">&#x27;content&#x27;</span>)</span><br><span class="line"># click button</span><br><span class="line">browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;send&#x27;</span>).<span class="property">first</span>.<span class="title function_">click</span>()</span><br><span class="line">browser.<span class="title function_">find_link_by_text</span>(<span class="string">&#x27;my link&#x27;</span>).<span class="property">first</span>.<span class="title function_">click</span>()</span><br><span class="line"></span><br><span class="line"># <span class="title class_">Mouse</span></span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="title function_">mouse_over</span>()</span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="title function_">mouse_out</span>()</span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="title function_">click</span>()</span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="title function_">double_click</span>()</span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>).<span class="title function_">right_click</span>()</span><br><span class="line"># <span class="title class_">Mouse</span> drag and drop</span><br><span class="line">draggable = browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">target = browser.<span class="title function_">find_by_css</span>(<span class="string">&#x27;.container&#x27;</span>)</span><br><span class="line">draggable.<span class="title function_">drag_and_drop</span>(target)</span><br><span class="line"></span><br><span class="line"># <span class="title class_">Interacting</span> <span class="keyword">with</span> forms</span><br><span class="line">browser.<span class="title function_">fill</span>(<span class="string">&#x27;query&#x27;</span>, <span class="string">&#x27;my name&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">attach_file</span>(<span class="string">&#x27;file&#x27;</span>, <span class="string">&#x27;/path/to/file/somefile.jpg&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">choose</span>(<span class="string">&#x27;some-radio&#x27;</span>, <span class="string">&#x27;radio-value&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">check</span>(<span class="string">&#x27;some-check&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">uncheck</span>(<span class="string">&#x27;some-check&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">select</span>(<span class="string">&#x27;uf&#x27;</span>, <span class="string">&#x27;rj&#x27;</span>)</span><br><span class="line"></span><br><span class="line"># screenshot</span><br><span class="line">browser.<span class="property">driver</span>.<span class="title function_">save_screenshot</span>(<span class="string">&#x27;your_screenshot.png&#x27;</span>)</span><br><span class="line"># 看不太懂</span><br><span class="line"># trigger <span class="title class_">JavaScript</span> events, like <span class="title class_">KeyDown</span> or <span class="title class_">KeyUp</span>, you can use the type method.</span><br><span class="line">browser.<span class="title function_">type</span>(<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;typing text&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string"> If you pass the argument slowly=True to the type method you can interact with the page on every key pressed. Useful for</span></span><br><span class="line"><span class="string">&#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line"># testing field<span class="string">&#x27;s auto completion (the browser will wait until next iteration to type the subsequent key).</span></span><br><span class="line"><span class="string">for key in browser.type(&#x27;</span>type<span class="string">&#x27;, &#x27;</span>typing slowly<span class="string">&#x27;, slowly=True):</span></span><br><span class="line"><span class="string">    pass # make some assertion here with the key object :)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># You can also use type and fill methods in an element:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">browser.find_by_name(&#x27;</span>name<span class="string">&#x27;).type(&#x27;</span><span class="title class_">Steve</span> <span class="title class_">Jobs</span><span class="string">&#x27;, slowly=True)</span></span><br><span class="line"><span class="string">browser.find_by_css(&#x27;</span>.<span class="property">city</span><span class="string">&#x27;).fill(&#x27;</span><span class="title class_">San</span> <span class="title class_">Francisco</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Dealing with HTTP status code and exceptions</span></span><br><span class="line"><span class="string">browser.visit(&#x27;</span><span class="attr">http</span>:<span class="comment">//cobrateam.info&#x27;)</span></span><br><span class="line">browser.<span class="property">status_code</span>.<span class="title function_">is_success</span>() # <span class="title class_">True</span></span><br><span class="line">browser.<span class="property">status_code</span> == <span class="number">200</span> # <span class="title class_">True</span></span><br><span class="line">browser.<span class="property">status_code</span>.<span class="property">code</span> # <span class="number">200</span></span><br><span class="line"># <span class="attr">try</span>:</span><br><span class="line"># browser.<span class="title function_">visit</span>(<span class="string">&#x27;http://cobrateam.info/i-want-cookies&#x27;</span>)</span><br><span class="line"># except <span class="title class_">HttpResponseError</span>, <span class="attr">e</span>:</span><br><span class="line"># print <span class="string">&quot;Oops, I failed with the status code %s and reason %s&quot;</span> % (e.<span class="property">status_code</span>, e.<span class="property">reason</span>)</span><br><span class="line"></span><br><span class="line"># test</span><br><span class="line"># <span class="title class_">Cookies</span> manipulation</span><br><span class="line">browser.<span class="property">cookies</span>.<span class="title function_">add</span>(&#123;<span class="string">&#x27;whatever&#x27;</span>: <span class="string">&#x27;and ever&#x27;</span>&#125;) # add a cookie</span><br><span class="line">browser.<span class="property">cookies</span>.<span class="title function_">all</span>() # retrieve all cookies</span><br><span class="line">browser.<span class="property">cookies</span>.<span class="title function_">delete</span>(<span class="string">&#x27;mwahahahaha&#x27;</span>)  # deletes the cookie <span class="string">&#x27;mwahahahaha&#x27;</span></span><br><span class="line">browser.<span class="property">cookies</span>.<span class="title function_">delete</span>(<span class="string">&#x27;whatever&#x27;</span>, <span class="string">&#x27;wherever&#x27;</span>)  # deletes two cookies</span><br><span class="line">browser.<span class="property">cookies</span>.<span class="title function_">delete</span>()  # deletes all cookies</span><br><span class="line"></span><br><span class="line"># <span class="title class_">Frames</span>, alerts and prompts</span><br><span class="line"># <span class="title class_">Using</span> iframes，<span class="title class_">You</span> can use the get_iframe method and the <span class="keyword">with</span> statement to interact <span class="keyword">with</span> iframes. <span class="title class_">You</span> can pass the</span><br><span class="line"># iframe<span class="string">&#x27;s name, id, or index to get_ifram</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">with browser.get_iframe(&#x27;</span>iframemodal<span class="string">&#x27;) as iframe:</span></span><br><span class="line"><span class="string">    iframe.do_stuff()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Chrome support for alerts and prompts is new in Splinter 0.4.Only webdrivers (Firefox and Chrome) has support for</span></span><br><span class="line"><span class="string"># alerts and prompts.</span></span><br><span class="line"><span class="string">alert = browser.get_alert()</span></span><br><span class="line"><span class="string">alert.text</span></span><br><span class="line"><span class="string">alert.accept()</span></span><br><span class="line"><span class="string">alert.dismiss()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">prompt = browser.get_alert()</span></span><br><span class="line"><span class="string">prompt.text</span></span><br><span class="line"><span class="string">prompt.fill_with(&#x27;</span>text<span class="string">&#x27;)</span></span><br><span class="line"><span class="string">prompt.accept()</span></span><br><span class="line"><span class="string">prompt.dismiss()</span></span><br><span class="line"><span class="string"># use the with statement to interacte with both alerts and prompts</span></span><br><span class="line"><span class="string">with browser.get_alert() as alert:</span></span><br><span class="line"><span class="string">    alert.do_stuff()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Executing javascript</span></span><br><span class="line"><span class="string">browser.execute_script(&quot;$(&#x27;</span>body<span class="string">&#x27;).empty()&quot;)</span></span><br><span class="line"><span class="string">browser.evaluate_script(&quot;4+4&quot;) == 8</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Matchers</span></span><br><span class="line"><span class="string">browser = Browser()</span></span><br><span class="line"><span class="string">browser.visit(&#x27;</span><span class="attr">https</span>:<span class="comment">//splinter.readthedocs.io/&#x27;)</span></span><br><span class="line">browser.<span class="title function_">is_text_present</span>(<span class="string">&#x27;splinter&#x27;</span>)  # <span class="title class_">True</span></span><br><span class="line">browser.<span class="title function_">is_text_present</span>(<span class="string">&#x27;splinter&#x27;</span>, wait_time=<span class="number">10</span>)   # <span class="title class_">True</span>, using wait_time</span><br><span class="line">browser.<span class="title function_">is_not_present</span>(<span class="string">&#x27;text not present&#x27;</span>)  # <span class="title class_">True</span></span><br><span class="line"></span><br><span class="line">browser.<span class="title function_">is_element_present_by_css</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_present_by_xpath</span>(<span class="string">&#x27;//h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_present_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_present_by_name</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_present_by_text</span>(<span class="string">&#x27;Hello World!&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_not_present_by_id</span>(<span class="string">&#x27;firstheader&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_not_present_by_value</span>(<span class="string">&#x27;query&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">is_element_present_by_value</span>(<span class="string">&#x27;query&#x27;</span>, wait_time=<span class="number">10</span>)</span><br><span class="line">#scroll 滑动屏幕</span><br><span class="line">browser.evaluate_script(<span class="string">&#x27;window.scrollTo(0,0)&#x27;</span>)</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/04/%E4%BB%8E%E5%BA%95%E5%B1%82%E5%90%91%E4%B8%8A%E7%90%86%E8%A7%A3Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/04/%E4%BB%8E%E5%BA%95%E5%B1%82%E5%90%91%E4%B8%8A%E7%90%86%E8%A7%A3Git/" class="post-title-link" itemprop="url">从底层向上理解Git</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-04 22:11:23" itemprop="dateCreated datePublished" datetime="2017-02-04T22:11:23+08:00">2017-02-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90/" itemprop="url" rel="index"><span itemprop="name">持续集成</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>首先我在自己的github上新建里一个干净的git项目，命名为gitobject我将项目克隆到我的本地：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git clone <span class="attr">https</span>:<span class="comment">//github.com/windanchaos/gitobject.git</span></span><br><span class="line"><span class="title class_">Cloning</span> into <span class="string">&#x27;gitobject&#x27;</span>...</span><br><span class="line"><span class="attr">remote</span>: <span class="title class_">Counting</span> <span class="attr">objects</span>: <span class="number">6</span>, done.</span><br><span class="line"><span class="attr">remote</span>: <span class="title class_">Compressing</span> <span class="attr">objects</span>: <span class="number">100</span>% (<span class="number">2</span>/<span class="number">2</span>), done.</span><br><span class="line"><span class="attr">remote</span>: <span class="title class_">Total</span> <span class="number">6</span> (delta <span class="number">0</span>), reused <span class="number">0</span> (delta <span class="number">0</span>), pack-reused <span class="number">0</span></span><br><span class="line"><span class="title class_">Unpacking</span> <span class="attr">objects</span>: <span class="number">100</span>% (<span class="number">6</span>/<span class="number">6</span>), done.</span><br><span class="line"><span class="title class_">Checking</span> connectivity... done.</span><br></pre></td></tr></table></figure>

<p>当在一个新目录或已有目录执行 git init 时，Git 会创建一个 .git 目录。 这个目录包含了几乎所有 Git 存储和操作的对象。 如若想备份或复制一个版本库，只需把这个目录拷贝至另一处即可。该目录的结构如下所示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ls .<span class="property">git</span>/</span><br><span class="line">branches        config       <span class="variable constant_">HEAD</span>   index  logs     packed-refs</span><br><span class="line"><span class="variable constant_">COMMIT_EDITMSG</span>  description  hooks  info   objects  refs</span><br></pre></td></tr></table></figure>

<p>该目录下可能还会包含其他文件，不过对于一个全新的 git init 版本库，这将是你看到的默认结构。 description 文件仅供 GitWeb 程序使用，我们无需关心。 config 文件包含项目特有的配置选项。 info 目录包含一个全局性排除（global exclude）文件，用以放置那些不希望被记录在 .gitignore 文件中的忽略模式（ignored patterns）。 hooks 目录包含客户端或服务端的钩子脚本（hook scripts）。</p>
<p>剩下的四个条目很重要：HEAD 文件、（尚待创建的）index 文件，和 objects 目录、refs 目录。 这些条目是 Git 的核心组成部分。</p>
<p>我们将详细地逐一检视这四部分，以期理解 Git 是如何运转的。</p>
<h1 id="Git的几类对象"><a href="#Git的几类对象" class="headerlink" title="Git的几类对象"></a>Git的几类对象</h1><h2 id="Git-的数据对象"><a href="#Git-的数据对象" class="headerlink" title="Git 的数据对象"></a>Git 的数据对象</h2><p>Git 是一个内容寻址文件系统。核心部分是一个简单的键值对数据库（key-value data store）。 你可以向该数据库插入任意类型的内容，它会返回一个键值，通过该键值可以在任意时刻再次检索（retrieve）该内容。 可以通过底层命令 hash-object 来演示上述效果——该命令可将任意数据保存于 .git 目录，并返回相应的键值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ cd gitobject/</span><br><span class="line">$ ls .<span class="property">git</span>/</span><br><span class="line">branches  description  hooks  info  objects      refs</span><br><span class="line">config    <span class="variable constant_">HEAD</span>         index  logs  packed-refs</span><br><span class="line">$ find .<span class="property">git</span>/objects/</span><br><span class="line">.<span class="property">git</span>/objects/</span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line">.<span class="property">git</span>/objects/9b</span><br><span class="line">.<span class="property">git</span>/objects/9b/8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</span><br><span class="line">.<span class="property">git</span>/objects/a4</span><br><span class="line">.<span class="property">git</span>/objects/a4/3b806e24202c08eb6c1c55a94956ab6deb1427</span><br><span class="line">.<span class="property">git</span>/objects/<span class="number">04</span></span><br><span class="line">.<span class="property">git</span>/objects/<span class="number">04</span>/5854e387949a02251a4d6a29a028f9340020e0</span><br><span class="line">.<span class="property">git</span>/objects/pack</span><br><span class="line">.<span class="property">git</span>/objects/info</span><br><span class="line"></span><br><span class="line">$ find .<span class="property">git</span>/objects/ -type f</span><br><span class="line">.<span class="property">git</span>/objects/9b/8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</span><br><span class="line">.<span class="property">git</span>/objects/a4/3b806e24202c08eb6c1c55a94956ab6deb1427</span><br><span class="line">.<span class="property">git</span>/objects/<span class="number">04</span>/5854e387949a02251a4d6a29a028f9340020e0</span><br></pre></td></tr></table></figure>

<p>从根本上来讲 Git 是一个内容寻址（content-addressable）文件系统，并在此之上提供了一个版本控制系统的用户界面。.git目录下有若干文件夹，在objects中存放的是git的对象。 Git 对 objects 目录进行了初始化，并创建了 pack 和 info 子目录，但均为空。objects目录下共有3个文件。使用git log查看日志：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git log</span><br><span class="line">commit 9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</span><br><span class="line"><span class="title class_">Author</span>: windanchaos &lt;windanchaos@users.<span class="property">noreply</span>.<span class="property">github</span>.<span class="property">com</span>&gt;</span><br><span class="line"><span class="title class_">Date</span>:   <span class="title class_">Sat</span> <span class="title class_">Feb</span> <span class="number">4</span> <span class="number">23</span>:<span class="number">35</span>:<span class="number">06</span> <span class="number">2017</span> +<span class="number">0800</span></span><br><span class="line"></span><br><span class="line">    <span class="title class_">Initial</span> commit</span><br></pre></td></tr></table></figure>

<p>可以看到commit 9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a和<br>.git&#x2F;objects&#x2F;9b&#x2F;8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a是对应的。</p>
<p>现在我们可以查看 Git 是如何存储数据的。 Git 存储内容的方式——一个文件对应一条内容，以该内容加上特定头部信息一起的 SHA-1 校验和为文件命名。 校验和的前两个字符用于命名子目录，余下的 38 个字符则用作文件名。<br>将objects下的三个文件分别使用命令， cat-file 命令从 Git 那里取回数据。 这个命令简直就是一把剖析 Git 对象的瑞士军刀。 为 cat-file 指定 -p 选项可指示该命令自动判断内容的类型，并为我们显示格式友好的内容：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -p 045854e387949a02251a4d6a29a028f9340020e0</span><br><span class="line"><span class="number">100644</span> blob a43b806e24202c08eb6c1c55a94956ab6deb1427    <span class="variable constant_">README</span>.<span class="property">md</span></span><br><span class="line">$ git cat-file -p a43b806e24202c08eb6c1c55a94956ab6deb1427</span><br><span class="line"># gitobjectc</span><br><span class="line">$ git cat-file -p 9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</span><br><span class="line">tree 045854e387949a02251a4d6a29a028f9340020e0</span><br><span class="line">author windanchaos &lt;windanchaos@users.<span class="property">noreply</span>.<span class="property">github</span>.<span class="property">com</span>&gt; <span class="number">1486222506</span> +<span class="number">0800</span></span><br><span class="line">committer windanchaos &lt;windanchaos@users.<span class="property">noreply</span>.<span class="property">github</span>.<span class="property">com</span>&gt; <span class="number">1486222506</span> +<span class="number">0800</span></span><br><span class="line">$ cat <span class="variable constant_">README</span>.<span class="property">md</span> </span><br><span class="line"># gitobject</span><br></pre></td></tr></table></figure>

<p>从以上可以得知：<br>1、前两个 blob分别新建了README.md文件，然后在文件中加入了“&#x2F;# gitobject”内容。<br>2、9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a记录了提交信息。</p>
<p>因此，可以理解为git的数据对象其实是面向单个的文件的，记录文件的变化。那么如何记录文件夹呢，下面内容就是。</p>
<h2 id="Git的树对象"><a href="#Git的树对象" class="headerlink" title="Git的树对象"></a>Git的树对象</h2><p>先准备下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">echo <span class="string">&#x27;rakefile txt&#x27;</span> &gt;rakefile</span><br><span class="line">$ git hash-object -w rakefile</span><br><span class="line">4b22da928d2990b0831a0c8da0ea36dd3d6c8b1a</span><br><span class="line">$ mkdir lib</span><br><span class="line">$ echo <span class="string">&#x27;lib text&#x27;</span> &gt; lib/simplegit.<span class="property">rb</span></span><br><span class="line">$ git hash-object -w lib/simplegit.<span class="property">rb</span></span><br><span class="line">fcd8df65cbc4d6014863d5fac3206803543b116a</span><br><span class="line">$ ls</span><br><span class="line">lib  rakefile  <span class="variable constant_">README</span>.<span class="property">md</span></span><br></pre></td></tr></table></figure>

<p>-w 选项指示 hash-object 命令存储数据对象；若不指定此选项，则该命令仅返回对应的键值。 –stdin 选项则指示该命令从标准输入读取内容；若不指定此选项，则须在命令尾部给出待存储文件的路径。 该命令输出一个长度为 40 个字符的校验和。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ find .<span class="property">git</span>/objects/ -type f</span><br><span class="line">.<span class="property">git</span>/objects/9b/8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</span><br><span class="line">.<span class="property">git</span>/objects/a4/3b806e24202c08eb6c1c55a94956ab6deb1427</span><br><span class="line">.<span class="property">git</span>/objects/<span class="number">04</span>/5854e387949a02251a4d6a29a028f9340020e0</span><br><span class="line">.<span class="property">git</span>/objects/fc/d8df65cbc4d6014863d5fac3206803543b116a</span><br><span class="line">.<span class="property">git</span>/objects/4b/22da928d2990b0831a0c8da0ea36dd3d6c8b1a</span><br><span class="line">#上次的文件如下：</span><br><span class="line">#.<span class="property">git</span>/objects/9b/8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</span><br><span class="line">#.<span class="property">git</span>/objects/a4/3b806e24202c08eb6c1c55a94956ab6deb1427</span><br><span class="line">#.<span class="property">git</span>/objects/<span class="number">04</span>/5854e387949a02251a4d6a29a028f9340020e0</span><br></pre></td></tr></table></figure>

<p>我把修改的内容提交到本地代码库：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">&quot;add rakefile and lib &quot;</span>[master 4933c03] add rakefile and lib</span><br><span class="line"> <span class="number">2</span> files changed, <span class="number">2</span> <span class="title function_">insertions</span>(+)</span><br><span class="line"> create mode <span class="number">100644</span> lib/simplegit.<span class="property">rb</span></span><br><span class="line"> create mode <span class="number">100644</span> rakefile</span><br></pre></td></tr></table></figure>

<p>准备就绪。<br>接下来要探讨的对象类型是树对象（tree object），它能解决文件名保存的问题，也允许我们将多个文件组织到一起。 Git 以一种类似于 UNIX 文件系统的方式存储内容，但作了些许简化。<strong>所有内容均以树对象和数据对象的形式存储</strong>，其中树对象对应了 UNIX 中的目录项，数据对象则大致上对应了 inodes 或文件内容。 一个树对象包含了一条或多条树对象记录（tree entry），每条记录含有一个指向数据对象或者子树对象的 SHA-1 指针，以及相应的模式、类型、文件名信息。 例如，某项目当前对应的最新树对象可能是这样的：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -p master^&#123;tree&#125;</span><br><span class="line"><span class="number">100644</span> blob a43b806e24202c08eb6c1c55a94956ab6deb1427    <span class="variable constant_">README</span>.<span class="property">md</span></span><br><span class="line"><span class="number">040000</span> tree e74f263e7c2c38273b72e29a95f10bb7e0340f3f    lib</span><br><span class="line"><span class="number">100644</span> blob 4b22da928d2990b0831a0c8da0ea36dd3d6c8b1a    rakefile</span><br></pre></td></tr></table></figure>

<p>aster^{tree} 语法表示 master 分支上最新的提交所指向的树对象。 请注意，lib 子目录（所对应的那条树对象记录）并不是一个数据对象，而是一个指针，其指向的是另一个树对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -p e74f263e7c2c38273b72e29a95f10bb7e0340f3f</span><br><span class="line"><span class="number">100644</span> blob fcd8df65cbc4d6014863d5fac3206803543b116a    simplegit.<span class="property">rb</span></span><br><span class="line">$ git cat-file -p fcd8df65cbc4d6014863d5fac3206803543b116a</span><br><span class="line">lib text</span><br></pre></td></tr></table></figure>

<p>从概念上讲，Git 内部存储的数据有点像这样：</p>
<p><img data-src="/images/-book-en-v2-images-data-model-1-.png" alt="这里写图片描述"></p>
<p>你可以轻松创建自己的树对象。 通常，Git 根据某一时刻暂存区（即 index 区域，下同）所表示的状态创建并记录一个对应的树对象，如此重复便可依次记录（某个时间段内）一系列的树对象。 因此，为创建一个树对象，首先需要通过暂存一些文件来创建一个暂存区。 可以通过底层命令 update-index 为一个单独文件——我们的 readme.md 文件的首个版本——创建一个暂存区。 利用该命令，可以把 readme.md 文件的首个版本人为地加入一个新的暂存区。 必须为上述命令指定 –add 选项，因为此前该文件并不在暂存区中；同样必需的还有 –cacheinfo 选项，因为将要添加的文件位于 Git 数据库中，而不是位于当前目录下。 同时，需要指定文件模式、SHA-1 与文件名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git update-index --add --cacheinfo <span class="number">100644</span> \</span><br><span class="line">  83baae61804e65cc73a7201a7252750c76066a30 readme.<span class="property">txt</span></span><br></pre></td></tr></table></figure>

<p>本例中，我们指定的文件模式为 100644，表明这是一个普通文件。 其他选择包括：100755，表示一个可执行文件；120000，表示一个符号链接。 这里的文件模式参考了常见的 UNIX 文件模式，但远没那么灵活——上述三种模式即是 Git 文件（即数据对象）的所有合法模式（当然，还有其他一些模式，但用于目录项和子模块）。</p>
<p>现在，可以通过 write-tree 命令将暂存区内容写入一个树对象。 此处无需指定 -w 选项——如果某个树对象此前并不存在的话，当调用 write-tree 命令时，它会根据当前暂存区状态自动创建一个新的树对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git write-tree</span><br><span class="line">d8329fc1cc938780ffdd9f94e0d364e0ea74f579</span><br><span class="line">$ git cat-file -p d8329fc1cc938780ffdd9f94e0d364e0ea74f579</span><br><span class="line"><span class="number">100644</span> blob 83baae61804e65cc73a7201a7252750c76066a30      readme.<span class="property">txt</span></span><br></pre></td></tr></table></figure>

<p>不妨验证一下它确实是一个树对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -t d8329fc1cc938780ffdd9f94e0d364e0ea74f579</span><br><span class="line">tree</span><br></pre></td></tr></table></figure>

<p>接着我们来创建一个新的树对象，它包括 test.txt 文件的第二个版本，以及一个新的文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="string">&#x27;new file&#x27;</span> &gt; <span class="keyword">new</span>.<span class="property">txt</span></span><br><span class="line">$ git update-index readme.<span class="property">txt</span></span><br><span class="line">$ git update-index --add readme.<span class="property">txt</span></span><br></pre></td></tr></table></figure>

<p>暂存区现在包含了 test.txt 文件的新版本，和一个新文件：new.txt。 记录下这个目录树（将当前暂存区的状态记录为一个树对象），然后观察它的结构：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git write-tree</span><br><span class="line">0155eb4229851634a0f03eb265b69f5a2d56f341</span><br><span class="line">$ git cat-file -p 0155eb4229851634a0f03eb265b69f5a2d56f341</span><br><span class="line"><span class="number">100644</span> blob fa49b077972391ad58037050f2a75f74e3671e92      <span class="keyword">new</span>.<span class="property">txt</span></span><br><span class="line"><span class="number">100644</span> blob 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a      test.<span class="property">txt</span></span><br></pre></td></tr></table></figure>

<p>我们注意到，新的树对象包含两条文件记录，同时 test.txt 的 SHA-1 值（1f7a7a）是先前值的“第二版”。 只是为了好玩：你可以将第一个树对象加入第二个树对象，使其成为新的树对象的一个子目录。 通过调用 read-tree 命令，可以把树对象读入暂存区。 本例中，可以通过对 read-tree 指定 –prefix 选项，将一个已有的树对象作为子树读入暂存区：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ git read-tree --prefix=bak d8329fc1cc938780ffdd9f94e0d364e0ea74f579</span><br><span class="line">$ git write-tree</span><br><span class="line">3c4e9cd789d88d8d89c1073707c3585e41b0e614</span><br><span class="line">$ git cat-file -p 3c4e9cd789d88d8d89c1073707c3585e41b0e614</span><br><span class="line"><span class="number">040000</span> tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579      bak</span><br><span class="line"><span class="number">100644</span> blob fa49b077972391ad58037050f2a75f74e3671e92      <span class="keyword">new</span>.<span class="property">txt</span></span><br><span class="line"><span class="number">100644</span> blob 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a      test.<span class="property">txt</span></span><br></pre></td></tr></table></figure>

<p>如果基于这个新的树对象创建一个工作目录，你会发现工作目录的根目录包含两个文件以及一个名为 bak 的子目录，该子目录包含 test.txt 文件的第一个版本。 可以认为 Git 内部存储着的用于表示上述结构的数据是这样的：<br><img data-src="/images/-book-en-v2-images-data-model-2-.png" alt="这里写图片描述"></p>
<h2 id="提交对象"><a href="#提交对象" class="headerlink" title="提交对象"></a>提交对象</h2><p>现在有三个树对象，分别代表了我们想要跟踪的不同项目快照。然而问题依旧：若想重用这些快照，你必须记住所有三个 SHA-1 哈希值。 并且，你也完全不知道是谁保存了这些快照，在什么时刻保存的，以及为什么保存这些快照。 而以上这些，正是提交对象（commit object）能为你保存的基本信息。</p>
<p>可以通过调用 commit-tree 命令创建一个提交对象，为此需要指定一个树对象的 SHA-1 值，以及该提交的父提交对象（如果有的话）。 我们从之前创建的第一个树对象开始：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="string">&#x27;first commit&#x27;</span> | git commit-tree d8329f</span><br><span class="line">fdf4fc3344e67ab068f836878b6c4951e3b15f3d</span><br></pre></td></tr></table></figure>

<p>现在可以通过 cat-file 命令查看这个新提交对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ git cat-file -p fdf4fc3</span><br><span class="line">tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579</span><br><span class="line">author <span class="title class_">Scott</span> <span class="title class_">Chacon</span> &lt;schacon@gmail.<span class="property">com</span>&gt; <span class="number">1243040974</span> -<span class="number">0700</span></span><br><span class="line">committer <span class="title class_">Scott</span> <span class="title class_">Chacon</span> &lt;schacon@gmail.<span class="property">com</span>&gt; <span class="number">1243040974</span> -<span class="number">0700</span></span><br><span class="line"></span><br><span class="line">first commit</span><br></pre></td></tr></table></figure>

<p>提交对象的格式很简单：它先指定一个顶层树对象，代表当前项目快照；然后是作者&#x2F;提交者信息（依据你的 user.name 和 user.email 配置来设定，外加一个时间戳）；留空一行，最后是提交注释。</p>
<p>接着，我们将创建另两个提交对象，它们分别引用各自的上一个提交（作为其父提交对象）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ echo <span class="string">&#x27;second commit&#x27;</span> | git commit-tree 0155eb -p fdf4fc3</span><br><span class="line">cac0cab538b970a37ea1e769cbbde608743bc96d</span><br><span class="line">$ echo <span class="string">&#x27;third commit&#x27;</span>  | git commit-tree 3c4e9c -p cac0cab</span><br><span class="line">1a410efbd13591db07496601ebc7a059dd55cfe9</span><br></pre></td></tr></table></figure>

<p>这三个提交对象分别指向之前创建的三个树对象快照中的一个。 现在，如果对最后一个提交的 SHA-1 值运行 git log 命令，会出乎意料的发现，你已有一个货真价实的、可由 git log 查看的 Git 提交历史了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">$ git log --stat 1a410e</span><br><span class="line">commit 1a410efbd13591db07496601ebc7a059dd55cfe9</span><br><span class="line"><span class="title class_">Author</span>: <span class="title class_">Scott</span> <span class="title class_">Chacon</span> &lt;schacon@gmail.<span class="property">com</span>&gt;</span><br><span class="line"><span class="title class_">Date</span>:   <span class="title class_">Fri</span> <span class="title class_">May</span> <span class="number">22</span> <span class="number">18</span>:<span class="number">15</span>:<span class="number">24</span> <span class="number">2009</span> -<span class="number">0700</span></span><br><span class="line"></span><br><span class="line">    third commit</span><br><span class="line"></span><br><span class="line"> bak/test.<span class="property">txt</span> | <span class="number">1</span> +</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">1</span> <span class="title function_">insertion</span>(+)</span><br><span class="line"></span><br><span class="line">commit cac0cab538b970a37ea1e769cbbde608743bc96d</span><br><span class="line"><span class="title class_">Author</span>: <span class="title class_">Scott</span> <span class="title class_">Chacon</span> &lt;schacon@gmail.<span class="property">com</span>&gt;</span><br><span class="line"><span class="title class_">Date</span>:   <span class="title class_">Fri</span> <span class="title class_">May</span> <span class="number">22</span> <span class="number">18</span>:<span class="number">14</span>:<span class="number">29</span> <span class="number">2009</span> -<span class="number">0700</span></span><br><span class="line"></span><br><span class="line">    second commit</span><br><span class="line"></span><br><span class="line"> <span class="keyword">new</span>.<span class="property">txt</span>  | <span class="number">1</span> +</span><br><span class="line"> test.<span class="property">txt</span> | <span class="number">2</span> +-</span><br><span class="line"> <span class="number">2</span> files changed, <span class="number">2</span> <span class="title function_">insertions</span>(+), <span class="number">1</span> <span class="title function_">deletion</span>(-)</span><br><span class="line"></span><br><span class="line">commit fdf4fc3344e67ab068f836878b6c4951e3b15f3d</span><br><span class="line"><span class="title class_">Author</span>: <span class="title class_">Scott</span> <span class="title class_">Chacon</span> &lt;schacon@gmail.<span class="property">com</span>&gt;</span><br><span class="line"><span class="title class_">Date</span>:   <span class="title class_">Fri</span> <span class="title class_">May</span> <span class="number">22</span> <span class="number">18</span>:<span class="number">09</span>:<span class="number">34</span> <span class="number">2009</span> -<span class="number">0700</span></span><br><span class="line"></span><br><span class="line">    first commit</span><br><span class="line"></span><br><span class="line"> test.<span class="property">txt</span> | <span class="number">1</span> +</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">1</span> <span class="title function_">insertion</span>(+)</span><br></pre></td></tr></table></figure>

<p>太神奇了： 就在刚才，你没有借助任何上层命令，仅凭几个底层操作便完成了一个 Git 提交历史的创建。 这就是每次我们运行 git add 和 git commit 命令时， Git 所做的实质工作——将被改写的文件保存为数据对象，更新暂存区，记录树对象，最后创建一个指明了顶层树对象和父提交的提交对象。 这三种主要的 Git 对象——数据对象、树对象、提交对象——最初均以单独文件的形式保存在 .git&#x2F;objects 目录下。 下面列出了目前示例目录内的所有对象，辅以各自所保存内容的注释：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ find .<span class="property">git</span>/objects -type f</span><br><span class="line">.<span class="property">git</span>/objects/<span class="number">01</span>/55eb4229851634a0f03eb265b69f5a2d56f341 # tree <span class="number">2</span></span><br><span class="line">.<span class="property">git</span>/objects/1a/410efbd13591db07496601ebc7a059dd55cfe9 # commit <span class="number">3</span></span><br><span class="line">.<span class="property">git</span>/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a # test.<span class="property">txt</span> v2</span><br><span class="line">.<span class="property">git</span>/objects/3c/4e9cd789d88d8d89c1073707c3585e41b0e614 # tree <span class="number">3</span></span><br><span class="line">.<span class="property">git</span>/objects/<span class="number">83</span>/baae61804e65cc73a7201a7252750c76066a30 # test.<span class="property">txt</span> v1</span><br><span class="line">.<span class="property">git</span>/objects/ca/c0cab538b970a37ea1e769cbbde608743bc96d # commit <span class="number">2</span></span><br><span class="line">.<span class="property">git</span>/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 # <span class="string">&#x27;test content&#x27;</span></span><br><span class="line">.<span class="property">git</span>/objects/d8/329fc1cc938780ffdd9f94e0d364e0ea74f579 # tree <span class="number">1</span></span><br><span class="line">.<span class="property">git</span>/objects/fa/49b077972391ad58037050f2a75f74e3671e92 # <span class="keyword">new</span>.<span class="property">txt</span></span><br><span class="line">.<span class="property">git</span>/objects/fd/f4fc3344e67ab068f836878b6c4951e3b15f3d # commit <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>如果跟踪所有的内部指针，将得到一个类似下面的对象关系图：<br><img data-src="/images/-book-en-v2-images-data-model-3-.png" alt="这里写图片描述"></p>
<h1 id="Git-引用"><a href="#Git-引用" class="headerlink" title="Git 引用"></a>Git 引用</h1><p>我们可以借助类似于 git log 1a410e 这样的命令来浏览完整的提交历史，但为了能遍历那段历史从而找到所有相关对象，你仍须记住 1a410e 是最后一个提交。 我们需要一个文件来保存 SHA-1 值，并给文件起一个简单的名字，然后用这个名字指针来替代原始的 SHA-1 值。</p>
<p>在 Git 里，这样的文件被称为“引用（references，或缩写为 refs）”；你可以在 .git&#x2F;refs 目录下找到这类含有 SHA-1 值的文件。 在目前的项目中，这个目录没有包含任何文件，但它包含了一个简单的目录结构：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ find .<span class="property">git</span>/refs/</span><br><span class="line">.<span class="property">git</span>/refs/</span><br><span class="line">.<span class="property">git</span>/refs/tags</span><br><span class="line">.<span class="property">git</span>/refs/heads</span><br><span class="line">.<span class="property">git</span>/refs/heads/master</span><br><span class="line">.<span class="property">git</span>/refs/remotes</span><br><span class="line">.<span class="property">git</span>/refs/remotes/origin</span><br><span class="line">.<span class="property">git</span>/refs/remotes/origin/<span class="variable constant_">HEAD</span></span><br></pre></td></tr></table></figure>

<p>现在，你就可以在 Git 命令查看引用对应的 SHA-1 值了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty=oneline master</span><br><span class="line">4933c032660b1b439376c37213a3bb889dadd37e add rakefile and lib</span><br><span class="line">9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a <span class="title class_">Initial</span> commit</span><br><span class="line">$ git log --pretty=oneline remotes/origin/<span class="variable constant_">HEAD</span></span><br><span class="line">9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a <span class="title class_">Initial</span> commit</span><br></pre></td></tr></table></figure>

<p>这基本就是*&#x2F;* Git 分支的本质：一个指向某一系列提交之首的指针或引用&#x2F;**。 若想在第二个提交上创建一个分支，可以这么做：</p>
<p>$ git update-ref refs&#x2F;heads&#x2F;test 9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a</p>
<p>这个分支将只包含从第二个提交开始往前追溯的记录：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git log --pretty=oneline test</span><br><span class="line">9b8d924eb8a9beaa43e8090c9d4e0a225aa4ce3a <span class="title class_">Initial</span> commit</span><br></pre></td></tr></table></figure>

<p>至此，我们的 Git 数据库从概念上看起来像这样：<br><img data-src="/images/-book-en-v2-images-data-model-4-.png" alt="这里写图片描述"><br>包含分支引用的 Git 目录对象。<br>Figure 152. 包含分支引用的 Git 目录对象。</p>
<p>当运行类似于 git branch (branchname) 这样的命令时，Git 实际上会运行 update-ref 命令，取得当前所在分支最新提交对应的 SHA-1 值，并将其加入你想要创建的任何新引用中。</p>
<h2 id="HEAD-引用"><a href="#HEAD-引用" class="headerlink" title="HEAD 引用"></a>HEAD 引用</h2><p>现在的问题是，当你执行 git branch (branchname) 时，Git 如何知道最新提交的 SHA-1 值呢？ 答案是 HEAD 文件。</p>
<p>HEAD 文件是一个符号引用（symbolic reference），指向目前所在的分支。 所谓符号引用，意味着它并不像普通引用那样包含一个 SHA-1 值——它是一个指向其他引用的指针。 如果查看 HEAD 文件的内容，一般而言我们看到的类似这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cat .<span class="property">git</span>/<span class="variable constant_">HEAD</span></span><br><span class="line"><span class="attr">ref</span>: refs/heads/master</span><br></pre></td></tr></table></figure>

<p>如果执行 git checkout test，Git 会像这样更新 HEAD 文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout test</span><br><span class="line"><span class="title class_">Switched</span> to branch <span class="string">&#x27;test&#x27;</span></span><br><span class="line">$ cat .<span class="property">git</span>/<span class="variable constant_">HEAD</span> </span><br><span class="line"><span class="attr">ref</span>: refs/heads/test</span><br></pre></td></tr></table></figure>

<p>当我们执行 git commit 时，该命令会创建一个提交对象，并用 HEAD 文件中那个引用所指向的 SHA-1 值设置其父提交字段。</p>
<p>你也可以手动编辑该文件，然而同样存在一个更安全的命令来完成此事：symbolic-ref。 可以借助此命令来查看 HEAD 引用对应的值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git symbolic-ref <span class="variable constant_">HEAD</span></span><br><span class="line">refs/heads/test</span><br></pre></td></tr></table></figure>

<p>同样可以设置 HEAD 引用的值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git symbolic-ref <span class="variable constant_">HEAD</span> refs/heads/master</span><br><span class="line">$ git symbolic-ref <span class="variable constant_">HEAD</span></span><br><span class="line">refs/heads/master</span><br></pre></td></tr></table></figure>

<p>不能把符号引用设置为一个不符合引用格式的值：</p>
<p>$ git symbolic-ref HEAD test<br>fatal: Refusing to point HEAD outside of refs&#x2F;</p>
<h2 id="标签引用"><a href="#标签引用" class="headerlink" title="标签引用"></a>标签引用</h2><p>前文我们刚讨论过 Git 的三种主要对象类型，事实上还有第四种。 标签对象（tag object）非常类似于一个提交对象——它包含一个标签创建者信息、一个日期、一段注释信息，以及一个指针。 主要的区别在于，标签对象通常指向一个提交对象，而不是一个树对象。 它像是一个永不移动的分支引用——永远指向同一个提交对象，只不过给这个提交对象加上一个更友好的名字罢了。这里就不深究了。</p>
<h2 id="远程引用"><a href="#远程引用" class="headerlink" title="远程引用"></a>远程引用</h2><p>我们将看到的第三种引用类型是远程引用（remote reference）。 如果你添加了一个远程版本库并对其执行过推送操作，Git 会记录下最近一次推送操作时每一个分支所对应的值，并保存在 refs&#x2F;remotes 目录下。 例如，你可以添加一个叫做 origin 的远程版本库，然后把 master 分支推送上去：</p>
<p><a href="mailto:&#103;&#105;&#x74;&#x72;&#x65;&#x6d;&#x6f;&#x74;&#101;&#97;&#x64;&#x64;&#111;&#x72;&#x69;&#103;&#x69;&#110;&#x67;&#105;&#116;&#x40;&#103;&#x69;&#116;&#x68;&#x75;&#x62;&#46;&#99;&#x6f;&#109;">&#103;&#105;&#x74;&#x72;&#x65;&#x6d;&#x6f;&#x74;&#101;&#97;&#x64;&#x64;&#111;&#x72;&#x69;&#103;&#x69;&#110;&#x67;&#105;&#116;&#x40;&#103;&#x69;&#116;&#x68;&#x75;&#x62;&#46;&#99;&#x6f;&#109;</a>:schacon&#x2F;simplegit−progit.git git push origin master<br>Counting objects: 11, done.<br>Compressing objects: 100% (5&#x2F;5), done.<br>Writing objects: 100% (7&#x2F;7), 716 bytes, done.<br>Total 7 (delta 2), reused 4 (delta 1)<br>To <a href="mailto:&#103;&#x69;&#x74;&#64;&#103;&#105;&#x74;&#104;&#x75;&#98;&#46;&#99;&#x6f;&#x6d;">&#103;&#x69;&#x74;&#64;&#103;&#105;&#x74;&#104;&#x75;&#98;&#46;&#99;&#x6f;&#x6d;</a>:schacon&#x2F;simplegit-progit.git<br>a11bef0..ca82a6d master -&gt; master</p>
<p>此时，如果查看 refs&#x2F;remotes&#x2F;origin&#x2F;master 文件，可以发现 origin 远程版本库的 master 分支所对应的 SHA-1 值，就是最近一次与服务器通信时本地 master 分支所对应的 SHA-1 值：</p>
<p>$ cat .git&#x2F;refs&#x2F;remotes&#x2F;origin&#x2F;master<br>ca82a6dff817ec66f44342007202690a93763949</p>
<p>远程引用和分支（位于 refs&#x2F;heads 目录下的引用）之间最主要的区别在于，远程引用是只读的。 虽然可以 git checkout 到某个远程引用，但是 Git 并不会将 HEAD 引用指向该远程引用。因此，你永远不能通过 commit 命令来更新远程引用。 Git 将这些远程引用作为记录远程服务器上各分支最后已知位置状态的书签来管理。</p>
<p>本文内容及截图节选自：<a target="_blank" rel="noopener" href="https://git-scm.com/book/zh/v2">https://git-scm.com/book/zh/v2</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/03/infer%E8%BF%90%E7%94%A8%E5%AE%9E%E8%B7%B5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/03/infer%E8%BF%90%E7%94%A8%E5%AE%9E%E8%B7%B5/" class="post-title-link" itemprop="url">infer运用实践</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-03 17:30:18" itemprop="dateCreated datePublished" datetime="2017-02-03T17:30:18+08:00">2017-02-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>2016年上半年研究过一段时间infer，最难的是安装到ubuntu上各种依赖环境要解决，最后在公司的java代码上跑出来30多个可能存在空指针的代码段，并提交给研发处理。在使用过程中，我发现了一个infer的bug，并提交到infer的github上，该问题在：<a target="_blank" rel="noopener" href="https://github.com/facebook/infer/issues/442">https://github.com/facebook/infer/issues/442</a><br>当然我的大部分提交都阵亡了，研发看了存在空指针可能的地方，告诉我代码确实会有空指针出现的可能，但是基于业务逻辑，是不会有问题的，由于鄙人对java不是很懂，难以识别代码，一股废了九牛二虎之力后，轻易的就消逝的感觉萦绕心间。下面把别人安装infer的文章转过来，以表纪念。</p>
<p>所有内容可以参考：<a target="_blank" rel="noopener" href="https://infer.liaohuqiu.net/">infer官网</a><br>本文转自：<a target="_blank" rel="noopener" href="http://www.jianshu.com/p/4667e36aadea">http://www.jianshu.com/p/4667e36aadea</a></p>
<h1 id="About-Infer"><a href="#About-Infer" class="headerlink" title="About Infer"></a>About Infer</h1><p>Infer 是一个静态分析工具。Infer 可以分析 Objective-C， Java 或者 C 代码，报告潜在的问题。<br>任何人都可以使用 Infer 检测应用，这可以将那些严重的 bug 扼杀在发布之前，同时防止应用崩溃和性能低下。<br><img data-src="/images/uqiu.net-static-images-Infer-landing-.png" alt="这里写图片描述"></p>
<h1 id="Infer特性"><a href="#Infer特性" class="headerlink" title="Infer特性"></a>Infer特性</h1><h2 id="Android-和-Java"><a href="#Android-和-Java" class="headerlink" title="Android 和 Java"></a>Android 和 Java</h2><p>Infer 可检查 Android 和 Java 代码中的 NullPointException 和 资源泄露。</p>
<h2 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h2><p>除了以上，Infer 还可发现 iOS 和 C 代码中的内存泄露，内存泄露，内存泄露。<br>Infer适用范围</p>
<p>包括 Facebook Android 和 iOS 主客户端，Facebook Messenger， Instagram 在内的，以及其他影响亿万用户的手机应用，每次代码变更，都要经过 Infer 的检测。</p>
<h1 id="Infer优点"><a href="#Infer优点" class="headerlink" title="Infer优点"></a>Infer优点</h1><p>1:效率高，规模大，几分钟能扫描数千行代码；<br>2:支持增量及非增量分析（后边会解释）<br>3:分解分析，整合输出结果。（infer能将代码分解，小范围分析后再将结果整合在一起，兼顾分析的深度和速度）</p>
<h1 id="Infer捕捉的bug类型"><a href="#Infer捕捉的bug类型" class="headerlink" title="Infer捕捉的bug类型"></a>Infer捕捉的bug类型</h1><h2 id="C-x2F-OC中捕捉的bug类型"><a href="#C-x2F-OC中捕捉的bug类型" class="headerlink" title="C&#x2F;OC中捕捉的bug类型"></a>C&#x2F;OC中捕捉的bug类型</h2><p>1:Resource leak<br>2:Memory leak</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/02/03/infer%E8%BF%90%E7%94%A8%E5%AE%9E%E8%B7%B5/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/02/03/2016%E5%B0%8F%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/02/03/2016%E5%B0%8F%E7%BB%93/" class="post-title-link" itemprop="url">2016小结</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-03 11:12:12" itemprop="dateCreated datePublished" datetime="2017-02-03T11:12:12+08:00">2017-02-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E6%B4%BB%E5%A4%A7%E6%9D%82%E7%83%A9/" itemprop="url" rel="index"><span itemprop="name">生活大杂烩</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>写在2017年初，对2016年工作生活做一个简单总结，并展望2017。<br>工作方面：<br>在互联网电商创业公司继续工作，继续技术累计，主要有以下收获和不足：<br>1、主导公司发版工作，完成和改善了公司的脚本发版脚本，shell脚本能力得到实践和提升，对linux的熟悉程度提升，发版过程中涉及的管理能力得到极大提升，并用日志方式记录每次发版发生的错误事件用于总结。<br>2、公司若干迭代功能，ERP和各类活动工具（拼团购、满减赠、优惠卷、一元购、图片空间、商家多账户、吸粉二维码、聚实惠等），订单管理等的用例编写设计，功能测试。<br>3、git的使用更加熟练，学会了命令行的操作以及桌面的scourceTree使用。<br>4、自学了python基础教程和python的django框架官网教程基础篇，掌握了一些pyweb框架的基础和原理。<br>5、开始用日志记录技术点滴，并写了20+的日志。坚持看了很多技术方面的文章。<br>6、研究使用过一段时间docker和jenkins，docker虽然没有成果但是还是要提一提。<br>6、不足。准备并参加了一次软考，看完一本软考教程和若干视频教程，当然很努力最后还是顺利的挂掉了两科，接着放弃了一次软考；放弃了对java的学习转向python，java的学习暂时搁置；mysql的能力止步于2015年底的水准，没有明显提升；<br>生活方面：<br>1、最大的收获是把现任女朋友变成了前女友，顺利升级成妻子，尽管过程曲折坎坷，分歧不断，不过还好一直在一起，还要加油，继续我们的异地恋。<br>2、缺乏身体锻炼，因为懒于锻炼，体重有所膨胀。<br>3、在妻子的教育下，个人卫生习惯有所提升，还有提升空间。<br>4、放弃了以前的日日夜夜LOL的毛病，放弃了老婆喜欢玩的消消乐。每晚坚持在ubuntu系统环境下面学习（大部分时间在学），玩了一款手游，王者荣耀。<br>5、跟着“量子学派”公众号，看了15本书的摘抄内容。<br>6、跟老婆去电影院看了若干部电影，自己也看了若干部。《疯狂动物城》、《唐人街神探》、《大圣归来<br>》、《摆渡人》、《大鱼海棠》、《美人鱼》、《星球大战:侠盗一号》等。自己看过的觉得不错的《无政府主义》的美剧，还延迟看了唯一一部国产电视剧《琅琊榜》。<br>7、四人徒步了1次；和老婆去爬了2次青城山；爬了1次洛带古镇的长城；去了1次罗泉古镇。市区周边游若干次。<br>8、戒了耗费精气神的股票，托管给了定力十足的老婆。<br>展望2017工作和生活：<br>1、希望老婆尽快找到工作；<br>2、python自动化框架技术累计和在实际中运用；<br>3、mysql数据库能力要提升，回顾之前会的，研究不会的。<br>4、继续参加软考，所以java要重新捡起来。<br>5、收入要有所提升（不管是现在单位涨还是跳）。<br>6、“量子学派”跟读继续。<br>7、勤于锻炼身体，保持体重。<br>8、多和老婆外出游玩，在生小孩之前玩够。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/01/22/Splinter%20%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/01/22/Splinter%20%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0/" class="post-title-link" itemprop="url">Splinter 查找元素</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-01-22 16:29:08" itemprop="dateCreated datePublished" datetime="2017-01-22T16:29:08+08:00">2017-01-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:44:42" itemprop="dateModified" datetime="2021-06-08T18:44:42+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="通常的查找元素方法"><a href="#通常的查找元素方法" class="headerlink" title="通常的查找元素方法"></a>通常的查找元素方法</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">browser.<span class="title function_">find_by_css</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_xpath</span>(<span class="string">&#x27;//h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_tag</span>(<span class="string">&#x27;h1&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_text</span>(<span class="string">&#x27;Hello World!&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_id</span>(<span class="string">&#x27;firstheader&#x27;</span>)</span><br><span class="line">browser.<span class="title function_">find_by_value</span>(<span class="string">&#x27;query&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>方法返回的结果是一个list，通过以下方法可以返回第一个、最后一个或指定位置的元素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">first_found = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>).<span class="property">first</span></span><br><span class="line">last_found = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>).<span class="property">last</span></span><br><span class="line">second_found = browser.<span class="title function_">find_by_name</span>(<span class="string">&#x27;name&#x27;</span>)[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h2 id="All-elements-and-find-by-id"><a href="#All-elements-and-find-by-id" class="headerlink" title="All elements and find_by_id"></a>All elements and find_by_id</h2><p>A web page should have only one id, so the find_by_id method returns always a list with just one element.</p>
<h2 id="Finding-links"><a href="#Finding-links" class="headerlink" title="Finding links"></a>Finding links</h2><p>If you need to find the links in a page, you can use the methods find_link_by_text, find_link_by_partial_text, find_link_by_href or find_link_by_partial_href. Examples:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">links_found = browser.<span class="title function_">find_link_by_text</span>(<span class="string">&#x27;Link for Example.com&#x27;</span>)</span><br><span class="line">links_found = browser.<span class="title function_">find_link_by_partial_text</span>(<span class="string">&#x27;for Example&#x27;</span>)</span><br><span class="line">links_found = browser.<span class="title function_">find_link_by_href</span>(<span class="string">&#x27;http://example.com&#x27;</span>)</span><br><span class="line">links_found = browser.<span class="title function_">find_link_by_partial_href</span>(<span class="string">&#x27;example&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>As the other find_&#x2F;* methods, these returns a list of all found elements.<br>You also can search for links using other selector types with the methods find_by_css, find_by_xpath, find_by_tag, find_by_name, find_by_value and find_by_id.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/01/22/Splinter%20%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2017/01/22/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%9A%84%E5%88%A9%E5%BC%8A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpeg">
      <meta itemprop="name" content="windanchaos">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017/01/22/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%9A%84%E5%88%A9%E5%BC%8A/" class="post-title-link" itemprop="url">自动化测试的利弊</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-01-22 10:46:20" itemprop="dateCreated datePublished" datetime="2017-01-22T10:46:20+08:00">2017-01-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-06-08 18:39:48" itemprop="dateModified" datetime="2021-06-08T18:39:48+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index"><span itemprop="name">自动化测试</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>已经开始实践过一些selinum的自动测试，发现要维护好一个简单的case消耗的精力远远大于获得的回报。但是这个值得（技术能力）深入学，工具无好坏优劣之分，只有适合不适合。在网上看了很多关于自动化测试的文章，现摘录一二：</p>
<p>以下内容引自：<a target="_blank" rel="noopener" href="http://www.blogjava.net/qileilove/archive/2014/01/16/409014.html?utm_source=tuicool&utm_medium=referral">2014年自动化的个人感想</a><br><strong>自动化技术的应用场所</strong><br>1、功能回归测试、冒烟测试。<br>2、数据精度要求高的测试，数据计算、比较、统计测试。<br>3、简单重复的大批量测试，测试组合众多，需要测试覆盖。<br>4、疲劳测试。<br>5、接口、底层、代码测试。<br>6、其他不便于进行手工的测试。<br>PPT解读： 自动化测试 是个较大的范畴，所有不用手工进行操作通过程序驱动的测试都可以理解为自动化测试。从技术层面来讲，但凡被技术实现的东西都可以被技术模拟和测试。在人们实践的过程中，自动化技术应用的领域会越来越广，测试也是一样，自动化本身不会去约束方式和行为，自动化能够做什么会超出我们的想象。<br><strong>为什么需要测试框架</strong><br>1、降低实现门槛。<br>2、统一技术风格。<br>3、量化测试成果。<br>4、底层前端分离。<br>PPT解读： 没有测试框架也可以实现自动化。每个测试人员技术背景不尽相同，擅长的语言、脚本、实施的技术水平参差不齐，没有框架约束技术实现和风格，他人的维护难度会很大，不利于大家朝同一个技术方向进行分享和交流。 框架本身已经封装了很多实际需要的接口和工具，测试人员不需要花费大量的精力再度开发，集中精力快速实现测试需求本身。统一的结构不仅多人可以同时维护一个项目，也便于测试结果的分析和汇总，众多项目的批量运行。框架和项目的分离，使双方各自影响的范围得到有效控制，便于项目单点维护和迁移。开发需要框架，同样测试开发作为一种开发活动也需要框架。<br><strong>自动化效果体现</strong><br>1、测试前置效果体现<br>2、测试范围效果体现<br>3、Daily Test 和批量执行效果体现<br>4、其他指标<br>PPT解读： 1、接口和单测可以通过BUG数量进行衡量。这个阶段所发现的BUG含金量更高，修复的成本更低，更有价值。此外代码行数、用例数量、代码覆盖率也可以很好的统计测试实际的效果。<br>2、自动化可以解决以往手工不能进行的测试，比如大数据量、中间件、随机数据等测试，可以列举由于引进自动化而增加的各种测试类型。<br>3、100个用例执行一次体现不了什么，但是100个用例在后续的两个月里执行了100次，所替代的人工就是很可观的。自动化项目坚持每日BUILD，一方面可以及时发现问题，维护更新用例。另一个方面每日测试的汇总数据也是自动化测试效果的展示。可以通过邮件、报告进行测试项目和用例的数据汇总，如果达到一定的量级还是很震撼的。<br>4、自动化还有代码行数，编译次数等指标。放在部署有平均部署时间，放在数据有平均一次生成数据量等。前端自动化不宜用BUG数量来衡量，因为主要选取的相对比较稳定的业务线和模块。</p>
<p>以下内容引自：<a target="_blank" rel="noopener" href="https://qaseven.github.io/2016/12/13/qa-heart/">QA请勿忘初心</a><br>大部分QA或者tester，仍然以UI自动化为重心。之所以反对盲目的UI自动化测试，因为变化频繁的UI设计，极低投入产生比，都应该让我们重新思考下UI自动化的价值。<br><strong>我们需要一个实施UI自动化正确的方式</strong>：<br>能不用UI自动化测试就不用，梳理业务主线，只保留用户操作最频繁，交互最多的场景。<br>根据面向对象设计的原则，构建适合项目的UI自动化框架，无论自己编写框架，还是采用开源框架。<br>尽量采用独立测试数据，确保运行测试不受影响。例如采用mock数据库或者每次运行时还原测试数据库。</p>
<p>作为一个QA，我们不仅要检测项目中存在问题，也要改进团队的实践活动，更重要的是预防问题的发生。<br>每次bugbash或相应迭代完成后，要分析统计，找出产生缺陷的环节，并采取措施防止问题再现。例如每次release或者bug bash之后,我可以按照功能模块与bug类型进行统计划分，分析统计bug的成因，例如某次迭代我们bug数量激增，经调查，发现我们对某些模块的前端代码进行了重构，但缺乏相应的单元测试与集成测试，造成了我们没有及时发现bug。之后我们就对应的采取措施防止问题再现。<br>总结分析报告，及时反馈这些信息给团队。总结分析是一个长期的任务，每次bug数量的变动，都会直接体现整个团队上次迭代的开发质量，例如bug数量减少了，可以鼓励成员再接再厉。或者某几次迭代某些模块bug成上升趋势，那么就需要组织团队一起讨论问题根源，采取措施防止问题重现。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2017/01/22/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E7%9A%84%E5%88%A9%E5%BC%8A/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">蜀ICP备19036728号 </a>
      <img src="/images/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" alt=""><a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51012202000611" rel="noopener" target="_blank">川公网安备 51012202000611号 </a>
  </div>

<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-dragon"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">windanchaos</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  





  




  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/2.3.0/quicklink.umd.js" integrity="sha256-yvJQOINiH9fWemHn0vCA5lsHWJaHs6/ZmO+1Ft04SvM=" crossorigin="anonymous"></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":"enable","home":"enable","archive":"enable","delay":true,"timeout":3000,"priority":true,"url":"http://example.com/page/9/"}</script>
  <script src="/js/third-party/quicklink.js"></script>

</body>
</html>
